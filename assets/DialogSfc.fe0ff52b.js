var pu=Object.defineProperty;var hu=(e,n,t)=>n in e?pu(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Sa=(e,n,t)=>(hu(e,typeof n!="symbol"?n+"":n,t),t);import{m as N,o as Pn,n as Yt,r as O,q as Uo,s as Wo,v as mu,x as he,y as Ho,c as L,z as Yo,A as en,B as De,C as yu,D as Jr,E as z,G as Xo,d as B,e as ie,T as Kn,H as _n,I as Vn,J as Go,K as qo,a as K,f as Ce,L as $,M as ne,N as gu,O as ve,P as Xt,w as Le,g as X,Q as re,t as pe,b as G,h as Dt,i as ue,F as In,j as rn,p as bu,k as wu,R as Jo,u as M,S as jn,U as Qo,V as Ou,W as Cu,X as Su,Y as Pu,Z as Gt,$ as Zo}from"./index.c370612e.js";var xo={locks:{},zIndex:2e3,touchmoveForbid:!0};N(xo);var Je=N(xo);const nn=e=>typeof e=="string",_u=e=>typeof e=="boolean",Qr=e=>typeof e=="number",Pp=e=>Object.prototype.toString.call(e)==="[object Object]",Zr=e=>Array.isArray(e),Eu=e=>e?/^(http)|(\.*\/)/.test(e):!1,Ge=e=>e==null||e===""||Array.isArray(e)&&!e.length,pt=e=>e==null?0:nn(e)?(e=parseFloat(e),e=Number.isNaN(e)?0:e,e):_u(e)?Number(e):e,ei=(e,n)=>{if(e.length){const t=e.indexOf(n);if(t>-1)return e.splice(t,1)}},ku=()=>typeof window!="undefined";function $u(e){var{left:n}=e.getBoundingClientRect();return n+(document.body.scrollLeft||document.documentElement.scrollLeft)}function hr(e){var{top:n}=e.getBoundingClientRect();return n+(document.body.scrollTop||document.documentElement.scrollTop)}var ni=e=>nn(e)&&e.endsWith("rem"),Tu=e=>nn(e)&&e.endsWith("px")||Qr(e),Du=e=>nn(e)&&e.endsWith("%"),ti=e=>nn(e)&&e.endsWith("vw"),ri=e=>nn(e)&&e.endsWith("vh"),ht=e=>{if(Qr(e))return e;if(Tu(e))return+e.replace("px","");if(ti(e))return+e.replace("vw","")*window.innerWidth/100;if(ri(e))return+e.replace("vh","")*window.innerHeight/100;if(ni(e)){var n=+e.replace("rem",""),t=window.getComputedStyle(document.documentElement).fontSize;return n*parseFloat(t)}return nn(e)?pt(e):0},At=e=>{if(e!=null)return Du(e)||ti(e)||ri(e)||ni(e)?e:ht(e)+"px"},Au=function(e,n){if(n===void 0&&(n=1),e!=null){var t=At(e),r=t.match(/(vh|%|rem|px|vw)$/)[0];return""+parseFloat(t)*n+r}};function Iu(){var e=typeof window!="undefined";return e&&"ontouchstart"in window}var Bu=["collect","clear"];function Pa(e,n,t,r,a,o,i){try{var u=e[o](i),l=u.value}catch(s){t(s);return}u.done?n(l):Promise.resolve(l).then(r,a)}function _a(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function i(l){Pa(o,r,a,i,u,"next",l)}function u(l){Pa(o,r,a,i,u,"throw",l)}i(void 0)})}}function Fu(e,n){if(e==null)return{};var t={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(n.indexOf(a)>=0)&&(t[a]=e[a]);return t}function It(){return It=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},It.apply(this,arguments)}function Ln(e,n){return Array.isArray(n)?n.reduce((t,r)=>(t[r]=e[r],t),{}):e[n]}function Ru(e){var n=mu(e),t=document.createElement("div");return document.body.appendChild(t),{instance:n.mount(t),unmount(){n.unmount(),document.body.removeChild(t)}}}function Mu(e,n,t){n===void 0&&(n={}),t===void 0&&(t={});var r={setup(){return()=>he(e,It({},n,t))}},{unmount:a}=Ru(r);return{unmountInstance:a}}function Ku(e){var n=[],t=r=>{if(r!=null&&r.component){t(r==null?void 0:r.component.subTree);return}Array.isArray(r==null?void 0:r.children)&&r.children.forEach(a=>{Jr(a)&&(n.push(a),t(a))})};return t(e),n}function Vu(e){var n=N([]),t=en(),r=()=>{var u=Ku(t.subTree);n.sort((l,s)=>u.indexOf(l.vnode)-u.indexOf(s.vnode))},a=u=>{n.push(u),r()},o=u=>{ei(n,u)};Ho(e,{collect:a,clear:o,instances:n});var i=L(()=>n.length);return{length:i}}function ai(e){if(!oi(e))return{index:null};var n=Yo(e),{collect:t,clear:r,instances:a}=n,o=en();Pn(()=>{De().then(()=>t(o))}),Yt(()=>{De().then(()=>r(o))});var i=L(()=>a.indexOf(o));return{index:i}}function ju(e){var n=[],t=o=>{n.push(o)},r=o=>{ei(n,o)},a=o=>{Ho(e,It({collect:t,clear:r},o))};return{childProviders:n,bindChildren:a}}function xr(e){if(!oi(e))return{parentProvider:null,bindParent:null};var n=Yo(e),{collect:t,clear:r}=n,a=Fu(n,Bu),o=i=>{Pn(()=>t(i)),yu(()=>r(i))};return{parentProvider:a,bindParent:o}}function oi(e){var n=en();return e in n.provides}function ea(){var e=O(""),n=function(){var a=_a(function*(o,i,u){if(!Zr(o)||!o.length)return!0;var l=yield Promise.all(o.map(s=>s(i,u)));return!l.some(s=>s!==!0?(e.value=String(s),!0):!1)});return function(i,u,l){return a.apply(this,arguments)}}(),t=()=>{e.value=""},r=function(){var a=_a(function*(o,i,u,l,s){o.includes(i)&&(yield n(u,l,s))&&(e.value="")});return function(i,u,l,s,c){return a.apply(this,arguments)}}();return{errorMessage:e,validate:n,resetValidation:t,validateWithTrigger:r}}function Lu(e){Pn(()=>{window.addEventListener("hashchange",e),window.addEventListener("popstate",e)}),Yt(()=>{window.removeEventListener("hashchange",e),window.removeEventListener("popstate",e)})}function ii(){var e=O(!1);return Uo(()=>{e.value=!1}),Wo(()=>{e.value=!0}),{disabled:e}}function Nu(e){var n=en();n&&Object.assign(n.proxy,e)}function ye(e){var n="var-"+e,t=a=>a?a.startsWith("--")?""+n+a:n+"__"+a:n,r=function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return o.map(u=>{if(Zr(u)){var[l,s,c=null]=u;return l?s:c}return u})};return{n:t,classes:r}}function j(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];if(e)return e(...t)}function Bt(){return Bt=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Bt.apply(this,arguments)}var{n:ui}=ye("ripple"),Ea=250;function zu(e){var{zIndex:n,position:t}=window.getComputedStyle(e);e.style.overflow="hidden",e.style.overflowX="hidden",e.style.overflowY="hidden",t==="static"&&(e.style.position="relative"),n==="auto"&&(e.style.zIndex="1")}function Uu(e,n){var{top:t,left:r}=e.getBoundingClientRect(),{clientWidth:a,clientHeight:o}=e,i=Math.sqrt(Math.pow(a,2)+Math.pow(o,2))/2,u=i*2,l=n.touches[0].clientX-r,s=n.touches[0].clientY-t,c=(a-i*2)/2,d=(o-i*2)/2,f=l-i,p=s-i;return{x:f,y:p,centerX:c,centerY:d,size:u}}function li(e){var n=this._ripple;if(n.removeRipple(),!(n.disabled||n.tasker)){var t=()=>{n.tasker=null;var{x:r,y:a,centerX:o,centerY:i,size:u}=Uu(this,e),l=document.createElement("div");l.classList.add(ui()),l.style.opacity="0",l.style.transform="translate("+r+"px, "+a+"px) scale3d(.3, .3, .3)",l.style.width=u+"px",l.style.height=u+"px",n.color&&(l.style.backgroundColor=n.color),l.dataset.createdAt=String(performance.now()),zu(this),this.appendChild(l),window.setTimeout(()=>{l.style.transform="translate("+o+"px, "+i+"px) scale3d(1, 1, 1)",l.style.opacity=".25"},20)};n.tasker=window.setTimeout(t,60)}}function mr(){var e=this._ripple,n=()=>{var t=this.querySelectorAll("."+ui());if(!!t.length){var r=t[t.length-1],a=Ea-performance.now()+Number(r.dataset.createdAt);setTimeout(()=>{r.style.opacity="0",setTimeout(()=>{var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)},Ea)},a)}};e.tasker?setTimeout(n,60):n()}function si(){var e=this._ripple;!Iu()||!e.touchmoveForbid||(e.tasker&&window.clearTimeout(e.tasker),e.tasker=null)}function Wu(e,n){var t,r,a;e._ripple=Bt({tasker:null},(t=n.value)!=null?t:{},{touchmoveForbid:(r=(a=n.value)==null?void 0:a.touchmoveForbid)!=null?r:Je.touchmoveForbid,removeRipple:mr.bind(e)}),e.addEventListener("touchstart",li,{passive:!0}),e.addEventListener("touchmove",si,{passive:!0}),e.addEventListener("dragstart",mr,{passive:!0}),document.addEventListener("touchend",e._ripple.removeRipple,{passive:!0}),document.addEventListener("touchcancel",e._ripple.removeRipple,{passive:!0})}function Hu(e){e.removeEventListener("touchstart",li),e.removeEventListener("touchmove",si),e.removeEventListener("dragstart",mr),document.removeEventListener("touchend",e._ripple.removeRipple),document.removeEventListener("touchcancel",e._ripple.removeRipple)}function Yu(e,n){var t,r,a,o,i,u,l,s={touchmoveForbid:(t=(r=n.value)==null?void 0:r.touchmoveForbid)!=null?t:Je.touchmoveForbid,color:(a=n.value)==null?void 0:a.color,disabled:(o=n.value)==null?void 0:o.disabled},c=s.touchmoveForbid!==((i=e._ripple)==null?void 0:i.touchmoveForbid)||s.color!==((u=e._ripple)==null?void 0:u.color)||s.disabled!==((l=e._ripple)==null?void 0:l.disabled);if(c){var d,f;e._ripple=Bt({tasker:(d=e._ripple)==null?void 0:d.tasker,removeRipple:(f=e._ripple)==null?void 0:f.removeRipple},s)}}var Xu={mounted:Wu,unmounted:Hu,updated:Yu,install(e){e.directive("ripple",this)}},qt=Xu;function Gu(e){return["top","bottom","right","left","center"].includes(e)}var na={show:{type:Boolean,default:!1},position:{type:String,default:"center",validator:Gu},transition:{type:String},overlay:{type:Boolean,default:!0},overlayClass:{type:String},overlayStyle:{type:Object},lockScroll:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},teleport:{type:String},onOpen:{type:Function},onOpened:{type:Function},onClose:{type:Function},onClosed:{type:Function},onClickOverlay:{type:Function},onRouteChange:{type:Function},"onUpdate:show":{type:Function}};function ci(){var e=Object.keys(Je.locks).length;e<=0?document.body.classList.remove("var--lock"):document.body.classList.add("var--lock")}function at(e){Je.locks[e]=1,ci()}function ot(e){delete Je.locks[e],ci()}function qu(e,n){var{uid:t}=en();n&&z(n,r=>{r===!1?ot(t):r===!0&&e()===!0&&at(t)}),z(e,r=>{n&&n()===!1||(r===!0?at(t):ot(t))}),Xo(()=>{n&&n()===!1||e()===!0&&at(t)}),Yt(()=>{n&&n()===!1||e()===!0&&ot(t)}),Uo(()=>{n&&n()===!1||e()===!0&&at(t)}),Wo(()=>{n&&n()===!1||e()===!0&&ot(t)})}function fi(e,n){var t=O(Je.zIndex);return z(e,r=>{r&&(Je.zIndex+=n,t.value=Je.zIndex)},{immediate:!0}),{zIndex:t}}function yr(){return yr=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},yr.apply(this,arguments)}function Ju(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Jr(e)}var{n:it,classes:ar}=ye("popup"),gn=B({name:"VarPopup",inheritAttrs:!1,props:na,setup(e,n){var{slots:t,attrs:r}=n,{zIndex:a}=fi(()=>e.show,3),{disabled:o}=ii(),i=()=>{var c,{closeOnClickOverlay:d,onClickOverlay:f}=e;f==null||f(),d&&((c=e["onUpdate:show"])==null||c.call(e,!1))};qu(()=>e.show,()=>e.lockScroll),z(()=>e.show,c=>{var{onOpen:d,onClose:f}=e;c?d==null||d():f==null||f()}),Lu(()=>e.onRouteChange==null?void 0:e.onRouteChange());var u=()=>{var{overlayClass:c="",overlayStyle:d}=e;return ie("div",{class:ar(it("overlay"),c),style:yr({zIndex:a.value-1},d),onClick:i},null)},l=()=>ie("div",Vn({class:ar(it("content"),"var-elevation--3",it("--"+e.position)),style:{zIndex:a.value}},r),[t.default==null?void 0:t.default()]),s=()=>{var{onOpened:c,onClosed:d,show:f,overlay:p,transition:v,position:h}=e;return ie(Kn,{name:"var-fade",onAfterEnter:c,onAfterLeave:d},{default:()=>[_n(ie("div",{class:ar("var--box",it()),style:{zIndex:a.value-2}},[p&&u(),ie(Kn,{name:v||"var-pop-"+h},{default:()=>[f&&l()]})]),[[qo,f]])]})};return()=>{var{teleport:c}=e;if(c){var d;return ie(Go,{to:c,disabled:o.value},Ju(d=s())?d:{default:()=>[d]})}return s()}}});gn.install=function(e){e.component(gn.name,gn)};var Qu=gn,di={name:{type:String},size:{type:[Number,String]},color:{type:String},namespace:{type:String,default:"var-icon"},transition:{type:[Number,String],default:0},onClick:{type:Function}};function ka(e,n,t,r,a,o,i){try{var u=e[o](i),l=u.value}catch(s){t(s);return}u.done?n(l):Promise.resolve(l).then(r,a)}function Zu(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function i(l){ka(o,r,a,i,u,"next",l)}function u(l){ka(o,r,a,i,u,"throw",l)}i(void 0)})}}var{n:xu,classes:el}=ye("icon");function nl(e,n){return K(),Ce(gu(e.isURL(e.name)?"img":"i"),{class:$(e.classes(e.n(),e.namespace+"--set",[e.isURL(e.name),e.n("image"),e.namespace+"-"+e.nextName],[e.shrinking,e.n("--shrinking")])),style:ne({color:e.color,transition:"transform "+e.toNumber(e.transition)+"ms",width:e.isURL(e.name)?e.toSizeUnit(e.size):null,height:e.isURL(e.name)?e.toSizeUnit(e.size):null,fontSize:e.toSizeUnit(e.size)}),src:e.isURL(e.name)?e.nextName:null,onClick:e.onClick},null,8,["class","style","src","onClick"])}var Ne=B({render:nl,name:"VarIcon",props:di,setup(e){var n=O(""),t=O(!1),r=function(){var a=Zu(function*(o,i){var{transition:u}=e;if(i==null||pt(u)===0){n.value=o;return}t.value=!0,yield De(),setTimeout(()=>{i!=null&&(n.value=o),t.value=!1},pt(u))});return function(i,u){return a.apply(this,arguments)}}();return z(()=>e.name,r,{immediate:!0}),{n:xu,classes:el,nextName:n,shrinking:t,isURL:Eu,toNumber:pt,toSizeUnit:At}}});Ne.install=function(e){e.component(Ne.name,Ne)};var tl=Ne;function gr(){return gr=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},gr.apply(this,arguments)}var rl=gr({show:{type:Boolean,default:!1},actions:{type:Array,default:()=>[]},title:{type:String},closeOnClickAction:{type:Boolean,default:!0},onSelect:{type:Function},"onUpdate:show":{type:Function}},Ln(na,["overlay","overlayClass","overlayStyle","lockScroll","closeOnClickOverlay","teleport","onOpen","onClose","onOpened","onClosed","onClickOverlay","onRouteChange"])),vi=(e,n)=>e==null?n:e,al={dialogTitle:"\u63D0\u793A",dialogConfirmButtonText:"\u786E\u8BA4",dialogCancelButtonText:"\u53D6\u6D88",actionSheetTitle:"\u8BF7\u9009\u62E9",listLoadingText:"\u52A0\u8F7D\u4E2D",listFinishedText:"\u6CA1\u6709\u66F4\u591A\u4E86",listErrorText:"\u52A0\u8F7D\u5931\u8D25",pickerTitle:"\u8BF7\u9009\u62E9",pickerConfirmButtonText:"\u786E\u8BA4",pickerCancelButtonText:"\u53D6\u6D88",datePickerMonthDict:{"01":{name:"\u4E00\u6708",abbr:"\u4E00\u6708"},"02":{name:"\u4E8C\u6708",abbr:"\u4E8C\u6708"},"03":{name:"\u4E09\u6708",abbr:"\u4E09\u6708"},"04":{name:"\u56DB\u6708",abbr:"\u56DB\u6708"},"05":{name:"\u4E94\u6708",abbr:"\u4E94\u6708"},"06":{name:"\u516D\u6708",abbr:"\u516D\u6708"},"07":{name:"\u4E03\u6708",abbr:"\u4E03\u6708"},"08":{name:"\u516B\u6708",abbr:"\u516B\u6708"},"09":{name:"\u4E5D\u6708",abbr:"\u4E5D\u6708"},10:{name:"\u5341\u6708",abbr:"\u5341\u6708"},11:{name:"\u5341\u4E00\u6708",abbr:"\u5341\u4E00\u6708"},12:{name:"\u5341\u4E8C\u6708",abbr:"\u5341\u4E8C\u6708"}},datePickerWeekDict:{0:{name:"\u661F\u671F\u65E5",abbr:"\u65E5"},1:{name:"\u661F\u671F\u4E00",abbr:"\u4E00"},2:{name:"\u661F\u671F\u4E8C",abbr:"\u4E8C"},3:{name:"\u661F\u671F\u4E09",abbr:"\u4E09"},4:{name:"\u661F\u671F\u56DB",abbr:"\u56DB"},5:{name:"\u661F\u671F\u4E94",abbr:"\u4E94"},6:{name:"\u661F\u671F\u516D",abbr:"\u516D"}},datePickerSelected:"\u4E2A\u88AB\u9009\u62E9",paginationItem:"\u6761",paginationPage:"\u9875",paginationJump:"\u524D\u5F80"};function br(){return br=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},br.apply(this,arguments)}function ol(){var e={},n=O({}),t=(o,i)=>{i.lang=o,e[o]=i},r=o=>{if(!e[o])return console.warn("The "+o+" does not exist. You can mount a language package using the add method"),{};n.value=e[o]},a=(o,i)=>{if(!e[o]){console.warn("The "+o+" does not exist. You can mount a language package using the add method");return}e[o]=br({},e[o],i),r(o)};return{packs:e,pack:n,add:t,use:r,merge:a}}var{packs:_p,pack:pi,add:il,use:ul,merge:Ep}=ol();il("zh-CN",al);ul("zh-CN");var{n:ll,classes:sl}=ye("action-sheet"),cl=["onClick"];function fl(e,n){var t=ve("var-icon"),r=ve("var-popup"),a=Xt("ripple");return K(),Ce(r,Vn({class:e.n("popup-radius"),position:"bottom",overlay:e.overlay,"overlay-class":e.overlayClass,"overlay-style":e.overlayStyle,"lock-scroll":e.lockScroll,"close-on-click-overlay":e.closeOnClickOverlay,teleport:e.teleport,show:e.popupShow},{"onUpdate:show":e.handlePopupUpdateShow},{onOpen:e.onOpen,onClose:e.onClose,onClosed:e.onClosed,onOpened:e.onOpened,onRouteChange:e.onRouteChange}),{default:Le(()=>[X("div",Vn({class:e.classes(e.n(),"var--box")},e.$attrs),[re(e.$slots,"title",{},()=>[X("div",{class:$(e.n("title"))},pe(e.dt(e.title,e.pack.actionSheetTitle)),3)]),re(e.$slots,"actions",{},()=>[(K(!0),G(In,null,Dt(e.actions,o=>_n((K(),G("div",{class:$(e.classes(e.n("action-item"),o.className,[o.disabled,e.n("--disabled")])),key:o.name,style:ne({color:o.color}),onClick:i=>e.handleSelect(o)},[o.icon?(K(),Ce(t,{key:0,class:$(e.n("action-icon")),"var-action-sheet-cover":"",name:o.icon,size:o.iconSize},null,8,["class","name","size"])):ue("v-if",!0),X("div",{class:$(e.n("action-name"))},pe(o.name),3)],14,cl)),[[a,{disabled:o.disabled}]])),128))])],16)]),_:3},16,["class","overlay","overlay-class","overlay-style","lock-scroll","close-on-click-overlay","teleport","show","onOpen","onClose","onClosed","onOpened","onRouteChange"])}var mt=B({render:fl,name:"VarActionSheet",directives:{Ripple:qt},components:{VarPopup:gn,VarIcon:Ne},inheritAttrs:!1,props:rl,setup(e){var n=O(!1),t=a=>{if(!a.disabled){var{closeOnClickAction:o,onSelect:i}=e;j(i,a),o&&j(e["onUpdate:show"],!1)}},r=a=>j(e["onUpdate:show"],a);return z(()=>e.show,a=>{n.value=a},{immediate:!0}),{n:ll,classes:sl,handlePopupUpdateShow:r,popupShow:n,pack:pi,dt:vi,handleSelect:t}}});mt.install=function(e){e.component(mt.name,mt)};var dl=mt;function vl(e){return["circle","wave","cube","rect","disappear"].includes(e)}function pl(e){return["normal","mini","small","large"].includes(e)}var wr={type:{type:String,default:"circle",validator:vl},radius:{type:[String,Number]},size:{type:String,default:"normal",validator:pl},color:{type:String,default:"currentColor"},description:{type:String},loading:{type:Boolean,default:!1}},{n:hl,classes:ml}=ye("loading"),yl=e=>(bu(""),e=e(),wu(),e),gl=yl(()=>X("svg",{viewBox:"25 25 50 50"},[X("circle",{cx:"50",cy:"50",r:"20",fill:"none"})],-1)),bl=[gl];function wl(e,n){return K(),G("div",{class:$(e.n())},[e.$slots.default?(K(),G("div",{key:0,class:$(e.classes(e.n("content"),[e.loading,e.n("content--active")]))},[re(e.$slots,"default"),e.loading?(K(),G("div",{key:0,class:$(e.n("content-mask"))},null,2)):ue("v-if",!0)],2)):ue("v-if",!0),e.isShow?(K(),G("div",{key:1,class:$(e.classes("var--box",e.n("body"),[e.$slots.default,e.n("inside")]))},[e.type==="circle"?(K(),G("div",{key:0,class:$(e.n("circle"))},[X("span",{class:$(e.classes(e.n("circle-block"),e.n("circle-block--"+e.size))),style:ne({width:e.multiplySizeUnit(e.radius,2),height:e.multiplySizeUnit(e.radius,2),color:e.color})},bl,6)],2)):ue("v-if",!0),(K(!0),G(In,null,Dt(e.loadingTypeDict,(t,r)=>(K(),G(In,{key:r},[e.type===r?(K(),G("div",{key:0,class:$(e.classes(e.n(r),e.n(r+"--"+e.size)))},[(K(!0),G(In,null,Dt(t,a=>(K(),G("div",{key:a+r,style:ne({backgroundColor:e.color}),class:$(e.classes(e.n(r+"-item"),e.n(r+"-item--"+e.size)))},null,6))),128))],2)):ue("v-if",!0)],64))),128)),e.$slots.description||e.description?(K(),G("div",{key:1,class:$(e.classes(e.n("description"),e.n("description--"+e.size))),style:ne({color:e.color})},[re(e.$slots,"description",{},()=>[rn(pe(e.description),1)])],6)):ue("v-if",!0)],2)):ue("v-if",!0)],2)}var yt=B({render:wl,name:"VarLoading",props:wr,setup(e,n){var{slots:t}=n,r={wave:5,cube:4,rect:8,disappear:3},a=L(()=>j(t.default)?e.loading:!0);return{n:hl,classes:ml,multiplySizeUnit:Au,loadingTypeDict:r,isShow:a}}});yt.install=function(e){e.component(yt.name,yt)};function Ol(e){return["default","primary","info","success","warning","danger"].includes(e)}function Cl(e){return["normal","mini","small","large"].includes(e)}var Sl={type:{type:String,default:"default",validator:Ol},size:{type:String,default:"normal",validator:Cl},loading:{type:Boolean,default:!1},round:{type:Boolean,default:!1},block:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},ripple:{type:Boolean,default:!0},color:{type:String},textColor:{type:String},autoLoading:{type:Boolean,default:!1},loadingRadius:{type:[Number,String],default:12},loadingType:Ln(wr,"type"),loadingSize:Ln(wr,"size"),onClick:{type:Function},onTouchstart:{type:Function}},{n:Pl,classes:_l}=ye("button"),El=["disabled"];function kl(e,n){var t=ve("var-loading"),r=Xt("ripple");return _n((K(),G("button",{class:$(e.classes(e.n(),"var--box",e.n("--"+e.size),[e.block,"var--flex "+e.n("--block"),"var--inline-flex"],[e.disabled,e.n("--disabled")],[e.text,e.n("--text-"+e.type)+" "+e.n("--text"),e.n("--"+e.type)+" var-elevation--2"],[e.text&&e.disabled,e.n("--text-disabled")],[e.round,e.n("--round")],[e.outline,e.n("--outline")])),style:ne({color:e.textColor,background:e.color}),disabled:e.disabled,onClick:n[0]||(n[0]=function(){return e.handleClick&&e.handleClick(...arguments)}),onTouchstart:n[1]||(n[1]=function(){return e.handleTouchstart&&e.handleTouchstart(...arguments)})},[e.loading||e.pending?(K(),Ce(t,{key:0,class:$(e.n("loading")),"var-button-cover":"",type:e.loadingType,size:e.loadingSize,radius:e.loadingRadius},null,8,["class","type","size","radius"])):ue("v-if",!0),X("div",{class:$(e.classes(e.n("content"),[e.loading||e.pending,e.n("--hidden")]))},[re(e.$slots,"default")],2)],46,El)),[[r,{disabled:e.disabled||!e.ripple}]])}var Bn=B({render:kl,name:"VarButton",components:{VarLoading:yt},directives:{Ripple:qt},props:Sl,setup(e){var n=O(!1),t=o=>{e.autoLoading&&(n.value=!0,Promise.resolve(o).finally(()=>{n.value=!1}))},r=o=>{var{loading:i,disabled:u,onClick:l}=e;!l||i||u||n.value||t(l(o))},a=o=>{var{loading:i,disabled:u,onTouchstart:l}=e;!l||i||u||n.value||t(l(o))};return{n:Pl,classes:_l,pending:n,handleClick:r,handleTouchstart:a}}});Bn.install=function(e){e.component(Bn.name,Bn)};var $l=Bn,Tl={errorMessage:{type:String,default:""},maxlengthText:{type:String,default:""}},{n:Dl}=ye("form-details");function Al(e,n){return K(),Ce(Kn,{name:e.n()},{default:Le(()=>[e.errorMessage||e.maxlengthText?(K(),G("div",{key:0,class:$(e.n())},[X("div",{class:$(e.n("message"))},pe(e.errorMessage),3),X("div",{class:$(e.n("length"))},pe(e.maxlengthText),3)],2)):ue("v-if",!0)]),_:1},8,["name"])}var bn=B({render:Al,name:"VarFormDetails",props:Tl,setup:()=>({n:Dl})});bn.install=function(e){e.component(bn.name,bn)};var Il={modelValue:{type:[String,Number,Boolean,Object,Array],default:!1},checkedValue:{type:[String,Number,Boolean,Object,Array],default:!0},uncheckedValue:{type:[String,Number,Boolean,Object,Array],default:!1},checkedColor:{type:String},uncheckedColor:{type:String},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},iconSize:{type:[String,Number]},ripple:{type:Boolean,default:!0},validateTrigger:{type:Array,default:["onChange"]},rules:{type:Array},onClick:{type:Function},onChange:{type:Function},"onUpdate:modelValue":{type:Function}},Bl=Symbol("CHECKBOX_GROUP_BIND_CHECKBOX_KEY"),Fl=Symbol("CHECKBOX_GROUP_COUNT_CHECKBOX_KEY");function Rl(){var{bindParent:e,parentProvider:n}=xr(Bl),{index:t}=ai(Fl);return{index:t,checkboxGroup:n,bindCheckboxGroup:e}}var Ml=Symbol("FORM_BIND_FORM_ITEM_KEY");function ta(){var{bindParent:e,parentProvider:n}=xr(Ml);return{bindForm:e,form:n}}var{n:Kl,classes:Vl}=ye("checkbox");function jl(e,n){var t=ve("var-icon"),r=ve("var-form-details"),a=Xt("ripple");return K(),G("div",{class:$(e.n("wrap")),onClick:n[0]||(n[0]=function(){return e.handleClick&&e.handleClick(...arguments)})},[X("div",{class:$(e.n())},[_n((K(),G("div",{class:$(e.classes(e.n("action"),[e.checked,e.n("--checked"),e.n("--unchecked")],[e.errorMessage||e.checkboxGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:ne({color:e.checked?e.checkedColor:e.uncheckedColor})},[e.checked?re(e.$slots,"checked-icon",{key:0},()=>[ie(t,{class:$(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),name:"checkbox-marked",size:e.iconSize,"var-checkbox-cover":""},null,8,["class","size"])]):re(e.$slots,"unchecked-icon",{key:1},()=>[ie(t,{class:$(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),name:"checkbox-blank-outline",size:e.iconSize,"var-checkbox-cover":""},null,8,["class","size"])])],6)),[[a,{disabled:e.formReadonly||e.readonly||e.formDisabled||e.disabled||!e.ripple}]]),X("div",{class:$(e.classes(e.n("text"),[e.errorMessage||e.checkboxGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")]))},[re(e.$slots,"default")],2)],2),ie(r,{"error-message":e.errorMessage},null,8,["error-message"])],2)}var gt=B({render:jl,name:"VarCheckbox",directives:{Ripple:qt},components:{VarIcon:Ne,VarFormDetails:bn},props:Il,setup(e){var n=O(!1),t=L(()=>n.value===e.checkedValue),r=L(()=>e.checkedValue),a=O(!1),{checkboxGroup:o,bindCheckboxGroup:i}=Rl(),{form:u,bindForm:l}=ta(),{errorMessage:s,validateWithTrigger:c,validate:d,resetValidation:f}=ea(),p=m=>{De(()=>{var{validateTrigger:P,rules:_,modelValue:T}=e;c(P,m,_,T)})},v=m=>{n.value=m;var{checkedValue:P,onChange:_}=e;j(e["onUpdate:modelValue"],n.value),j(_,n.value),p("onChange"),m===P?o==null||o.onChecked(P):o==null||o.onUnchecked(P)},h=m=>{var{disabled:P,readonly:_,checkedValue:T,uncheckedValue:E,onClick:D}=e;if(!(u!=null&&u.disabled.value||P)&&(j(D,m),!(u!=null&&u.readonly.value||_))){a.value=!0;var U=o?o.checkedCount.value>=Number(o.max.value):!1;!t.value&&U||v(t.value?E:T)}},g=m=>{var{checkedValue:P,uncheckedValue:_}=e;n.value=m.includes(P)?P:_},C=()=>{a.value=!1},b=()=>{j(e["onUpdate:modelValue"],e.uncheckedValue),f()},y=m=>{var{checkedValue:P,uncheckedValue:_}=e,T=![P,_].includes(m);T&&(m=t.value?_:P),v(m)},S=()=>d(e.rules,e.modelValue);z(()=>e.modelValue,m=>{n.value=m},{immediate:!0});var w={checkedValue:r,checked:t,sync:g,validate:S,resetValidation:f,reset:b,resetWithAnimation:C};return j(i,w),j(l,w),{withAnimation:a,checked:t,errorMessage:s,checkboxGroupErrorMessage:o==null?void 0:o.errorMessage,formDisabled:u==null?void 0:u.disabled,formReadonly:u==null?void 0:u.readonly,n:Kl,classes:Vl,handleClick:h,toggle:y,reset:b,validate:S,resetValidation:f}}});gt.install=function(e){e.component(gt.name,gt)};function Ll(e){return["default","primary","info","success","warning","danger"].includes(e)}function Nl(e){return["normal","mini","small","large"].includes(e)}var zl={type:{type:String,default:"default",validator:Ll},size:{type:String,default:"normal",validator:Nl},color:{type:String},textColor:{type:String},iconName:Ln(di,"name"),plain:{type:Boolean,default:!1},round:{type:Boolean,default:!0},block:{type:Boolean,default:!1},closable:{type:Boolean,default:!1},onClose:{type:Function}},{n:vn,classes:Ul}=ye("chip");function Wl(e,n){var t=ve("var-icon");return K(),Ce(Kn,{name:"var-fade"},{default:Le(()=>[X("span",Vn({class:e.classes(e.n(),"var--box",...e.contentClass),style:e.chipStyles},e.$attrs),[re(e.$slots,"left"),X("span",{class:$(e.n("text-"+e.size))},[re(e.$slots,"default")],2),re(e.$slots,"right"),e.closable?(K(),G("span",{key:0,class:$(e.n("--close")),onClick:n[0]||(n[0]=function(){return e.onClose&&e.onClose(...arguments)})},[ie(t,{name:""+(e.iconName?e.iconName:"close-circle")},null,8,["name"])],2)):ue("v-if",!0)],16)]),_:3})}var bt=B({render:Wl,name:"VarChip",components:{VarIcon:Ne},inheritAttrs:!1,props:zl,setup(e){var n=L(()=>{var{plain:r,textColor:a,color:o}=e;return r?{color:a||o,borderColor:o}:{color:a,background:o}}),t=L(()=>{var{size:r,block:a,type:o,plain:i,round:u}=e,l=a?"var--flex":"var--inline-flex",s=i?vn("plain")+" "+vn("plain-"+o):vn("--"+o),c=u?vn("--round"):null;return[vn("--"+r),l,s,c]});return{n:vn,classes:Ul,chipStyles:n,contentClass:t}}});bt.install=function(e){e.component(bt.name,bt)};function Or(){return Or=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Or.apply(this,arguments)}function Hl(e){return["left","center","right"].includes(e)}var Yl=Or({show:{type:Boolean,default:!1},title:{type:String},message:{type:String},messageAlign:{type:String,default:"left",validator:Hl},confirmButton:{type:Boolean,default:!0},cancelButton:{type:Boolean,default:!0},confirmButtonText:{type:String},cancelButtonText:{type:String},confirmButtonTextColor:{type:String},cancelButtonTextColor:{type:String},confirmButtonColor:{type:String},cancelButtonColor:{type:String},onBeforeClose:{type:Function},onConfirm:{type:Function},onCancel:{type:Function},"onUpdate:show":{type:Function},dialogClass:{type:String},dialogStyle:{type:Object}},Ln(na,["overlay","overlayClass","overlayStyle","lockScroll","closeOnClickOverlay","teleport","onOpen","onClose","onOpened","onClosed","onClickOverlay","onRouteChange"])),{n:Xl,classes:Gl}=ye("dialog");function ql(e,n){var t=ve("var-button"),r=ve("var-popup");return K(),Ce(r,{class:$(e.n("popup")),"var-dialog-cover":"",show:e.popupShow,overlay:e.overlay,"overlay-class":e.overlayClass,"overlay-style":e.overlayStyle,"lock-scroll":e.lockScroll,"close-on-click-overlay":e.popupCloseOnClickOverlay,teleport:e.teleport,onOpen:e.onOpen,onClose:e.onClose,onClosed:e.onClosed,onOpened:e.onOpened,onRouteChange:e.onRouteChange,onClickOverlay:e.handleClickOverlay},{default:Le(()=>[X("div",Vn({class:e.classes("var--box",e.n(),e.dialogClass),style:e.dialogStyle},e.$attrs),[X("div",{class:$(e.n("title"))},[re(e.$slots,"title",{},()=>[rn(pe(e.dt(e.title,e.pack.dialogTitle)),1)])],2),X("div",{class:$(e.n("message")),style:ne({textAlign:e.messageAlign})},[re(e.$slots,"default",{},()=>[rn(pe(e.message),1)])],6),X("div",{class:$(e.n("actions"))},[e.cancelButton?(K(),Ce(t,{key:0,class:$(e.classes(e.n("button"),e.n("cancel-button"))),"var-dialog-cover":"",text:"","text-color":e.cancelButtonTextColor,color:e.cancelButtonColor,onClick:e.cancel},{default:Le(()=>[rn(pe(e.dt(e.cancelButtonText,e.pack.dialogCancelButtonText)),1)]),_:1},8,["class","text-color","color","onClick"])):ue("v-if",!0),e.confirmButton?(K(),Ce(t,{key:1,class:$(e.classes(e.n("button"),e.n("confirm-button"))),"var-dialog-cover":"",text:"","text-color":e.confirmButtonTextColor,color:e.confirmButtonColor,onClick:e.confirm},{default:Le(()=>[rn(pe(e.dt(e.confirmButtonText,e.pack.dialogConfirmButtonText)),1)]),_:1},8,["class","text-color","color","onClick"])):ue("v-if",!0)],2)],16)]),_:3},8,["class","show","overlay","overlay-class","overlay-style","lock-scroll","close-on-click-overlay","teleport","onOpen","onClose","onClosed","onOpened","onRouteChange","onClickOverlay"])}var on=B({render:ql,name:"VarDialog",components:{VarPopup:gn,VarButton:Bn},inheritAttrs:!1,props:Yl,setup(e){var n=O(!1),t=O(!1),r=()=>j(e["onUpdate:show"],!1),a=()=>{var{closeOnClickOverlay:u,onClickOverlay:l,onBeforeClose:s}=e;if(j(l),!!u){if(s!=null){s("close",r);return}j(e["onUpdate:show"],!1)}},o=()=>{var{onBeforeClose:u,onConfirm:l}=e;if(j(l),u!=null){u("confirm",r);return}j(e["onUpdate:show"],!1)},i=()=>{var{onBeforeClose:u,onCancel:l}=e;if(j(l),u!=null){u("cancel",r);return}j(e["onUpdate:show"],!1)};return z(()=>e.show,u=>{n.value=u},{immediate:!0}),z(()=>e.closeOnClickOverlay,u=>{if(e.onBeforeClose!=null){t.value=!1;return}t.value=u},{immediate:!0}),{n:Xl,classes:Gl,pack:pi,dt:vi,popupShow:n,popupCloseOnClickOverlay:t,handleClickOverlay:a,confirm:o,cancel:i}}}),Xe;function Jt(e){return ku()?new Promise(n=>{Jt.close();var t=nn(e)||Qr(e)?{message:String(e)}:e,r=N(t);r.teleport="body",Xe=r;var{unmountInstance:a}=Mu(on,r,{onConfirm:()=>{r.onConfirm==null||r.onConfirm(),n("confirm")},onCancel:()=>{r.onCancel==null||r.onCancel(),n("cancel")},onClose:()=>{r.onClose==null||r.onClose(),n("close")},onClosed:()=>{r.onClosed==null||r.onClosed(),a(),Xe===r&&(Xe=null)},onRouteChange:()=>{a(),Xe===r&&(Xe=null)},"onUpdate:show":o=>{r.show=o}});r.show=!0}):Promise.resolve()}on.install=function(e){e.component(on.name,on)};Jt.install=function(e){e.component(on.name,on)};Jt.close=()=>{if(Xe!=null){var e=Xe;Xe=null,De().then(()=>{e.show=!1})}};Jt.Component=on;function Jl(e){return["text","password","number"].includes(e)}var Ql={modelValue:{type:String},modelModifiers:{type:Object,default:()=>({})},type:{type:String,default:"text",validator:Jl},textarea:{type:Boolean,default:!1},rows:{type:[String,Number],default:8},placeholder:{type:String},line:{type:Boolean,default:!0},hint:{type:Boolean,default:!0},textColor:{type:String},focusColor:{type:String},blurColor:{type:String},maxlength:{type:[String,Number]},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},resize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},validateTrigger:{type:Array,default:()=>["onInput","onClear"]},rules:{type:Array},onFocus:{type:Function},onBlur:{type:Function},onClick:{type:Function},onClear:{type:Function},onInput:{type:Function},onChange:{type:Function},"onUpdate:modelValue":{type:Function}},{n:or,classes:Zl}=ye("input"),xl=["id","disabled","type","value","maxlength","rows"],es=["id","disabled","type","value","maxlength"],ns=["for"];function ts(e,n){var t=ve("var-icon"),r=ve("var-form-details");return K(),G("div",{class:$(e.classes(e.n(),"var--box",[e.disabled,e.n("--disabled")])),onClick:n[10]||(n[10]=function(){return e.handleClick&&e.handleClick(...arguments)})},[X("div",{class:$(e.classes(e.n("controller"),[e.isFocus,e.n("--focus")],[e.errorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:ne({color:e.errorMessage?void 0:e.isFocus?e.focusColor:e.blurColor})},[X("div",{class:$(e.classes(e.n("icon"),[!e.hint,e.n("--non-hint")]))},[re(e.$slots,"prepend-icon")],2),X("div",{class:$(e.classes(e.n("wrap"),[!e.hint,e.n("--non-hint")]))},[e.type==="password"?(K(),G("input",{key:0,class:$(e.n("autocomplete"))},null,2)):ue("v-if",!0),e.textarea?(K(),G("textarea",{key:1,class:$(e.classes(e.n("input"),e.n("--textarea"),[e.formDisabled||e.disabled,e.n("--disabled")],[e.errorMessage,e.n("--caret-error")])),ref:"el",autocomplete:"new-password",id:e.id,disabled:e.formDisabled||e.disabled||e.formReadonly||e.readonly,type:e.type,value:e.modelValue,maxlength:e.maxlength,rows:e.rows,style:ne({color:e.textColor,caretColor:e.errorMessage?void 0:e.focusColor,resize:e.resize?"vertical":"none"}),onFocus:n[0]||(n[0]=function(){return e.handleFocus&&e.handleFocus(...arguments)}),onBlur:n[1]||(n[1]=function(){return e.handleBlur&&e.handleBlur(...arguments)}),onInput:n[2]||(n[2]=function(){return e.handleInput&&e.handleInput(...arguments)}),onChange:n[3]||(n[3]=function(){return e.handleChange&&e.handleChange(...arguments)}),onTouchstart:n[4]||(n[4]=function(){return e.handleTouchstart&&e.handleTouchstart(...arguments)})},`
        `,46,xl)):(K(),G("input",{key:2,class:$(e.classes(e.n("input"),[e.formDisabled||e.disabled,e.n("--disabled")],[e.errorMessage,e.n("--caret-error")])),ref:"el",autocomplete:"new-password",id:e.id,disabled:e.formDisabled||e.disabled||e.formReadonly||e.readonly,type:e.type,value:e.modelValue,maxlength:e.maxlength,style:ne({color:e.textColor,caretColor:e.errorMessage?void 0:e.focusColor}),onFocus:n[5]||(n[5]=function(){return e.handleFocus&&e.handleFocus(...arguments)}),onBlur:n[6]||(n[6]=function(){return e.handleBlur&&e.handleBlur(...arguments)}),onInput:n[7]||(n[7]=function(){return e.handleInput&&e.handleInput(...arguments)}),onChange:n[8]||(n[8]=function(){return e.handleChange&&e.handleChange(...arguments)}),onTouchstart:n[9]||(n[9]=function(){return e.handleTouchstart&&e.handleTouchstart(...arguments)})},null,46,es)),X("label",{class:$(e.classes("var--ellipsis",[e.isFocus,e.n("--focus")],[e.errorMessage,e.n("--error")],[e.textarea,e.n("textarea-placeholder"),e.n("placeholder")],e.computePlaceholderState(),[!e.hint,e.n("--placeholder-non-hint")])),style:ne({color:e.errorMessage?void 0:e.isFocus?e.focusColor:e.blurColor}),for:e.id},pe(e.placeholder),15,ns)],2),X("div",{class:$(e.classes(e.n("icon"),[!e.hint,e.n("--non-hint")]))},[re(e.$slots,"append-icon",{},()=>[e.clearable&&!e.isEmpty(e.modelValue)?(K(),Ce(t,{key:0,class:$(e.n("clear-icon")),"var-input-cover":"",name:"close-circle",size:"14px",onClick:e.handleClear},null,8,["class","onClick"])):ue("v-if",!0)])],2)],6),e.line?(K(),G("div",{key:0,class:$(e.classes(e.n("line"),[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:ne({background:e.errorMessage?void 0:e.blurColor})},[X("div",{class:$(e.classes(e.n("dot"),[e.isFocus,e.n("--spread")],[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:ne({background:e.errorMessage?void 0:e.focusColor})},null,6)],6)):ue("v-if",!0),ie(r,{"error-message":e.errorMessage,"maxlength-text":e.maxlengthText},null,8,["error-message","maxlength-text"])],2)}var wt=B({render:ts,name:"VarInput",components:{VarIcon:Ne,VarFormDetails:bn},props:Ql,setup(e){var n=O("var-input-"+en().uid),t=O(null),r=O(!1),a=L(()=>{var{maxlength:E,modelValue:D}=e;return E?Ge(D)?"0 / "+E:String(D).length+"/"+E:""}),{bindForm:o,form:i}=ta(),{errorMessage:u,validateWithTrigger:l,validate:s,resetValidation:c}=ea(),d=E=>{De(()=>{var{validateTrigger:D,rules:U,modelValue:H}=e;l(D,E,U,H)})},f=()=>{var{hint:E,modelValue:D}=e;if(!E&&!Ge(D))return or("--placeholder-hidden");if(E&&(!Ge(D)||r.value))return or("--placeholder-hint")},p=E=>{r.value=!0,j(e.onFocus,E),d("onFocus")},v=E=>{r.value=!1,j(e.onBlur,E),d("onBlur")},h=E=>{var{value:D}=E.target;D=y(D),j(e["onUpdate:modelValue"],D),j(e.onInput,D,E),d("onInput")},g=E=>{var{value:D}=E.target;j(e.onChange,y(D),E),d("onChange")},C=()=>{var{disabled:E,readonly:D,clearable:U,onClear:H}=e;i!=null&&i.disabled.value||i!=null&&i.readonly.value||E||D||!U||(j(e["onUpdate:modelValue"],""),j(H,""),d("onClear"))},b=E=>{var{disabled:D,onClick:U}=e;i!=null&&i.disabled.value||D||(j(U,E),d("onClick"))},y=E=>e.modelModifiers.trim?E.trim():E,S=E=>{var{disabled:D,readonly:U}=e;i!=null&&i.disabled.value||i!=null&&i.readonly.value||D||U||E.stopPropagation()},w=()=>{j(e["onUpdate:modelValue"],""),c()},m=()=>s(e.rules,e.modelValue),P=()=>{var E;(E=t.value)==null||E.focus()},_=()=>{t.value.blur()},T={reset:w,validate:m,resetValidation:c};return j(o,T),Pn(()=>{e.autofocus&&P()}),{el:t,id:n,isFocus:r,errorMessage:u,maxlengthText:a,formDisabled:i==null?void 0:i.disabled,formReadonly:i==null?void 0:i.readonly,n:or,classes:Zl,isEmpty:Ge,computePlaceholderState:f,handleFocus:p,handleBlur:v,handleInput:h,handleChange:g,handleClear:C,handleClick:b,handleTouchstart:S,validate:m,resetValidation:c,reset:w,focus:P,blur:_}}});wt.install=function(e){e.component(wt.name,wt)};var rs=wt;function as(e){return["top","bottom"].includes(e)}var os={show:{type:Boolean,default:!1},alignment:{type:String,default:"top",validator:as},offsetX:{type:[Number,String],default:0},offsetY:{type:[Number,String],default:0},teleport:{type:String,default:"body"},onOpen:{type:Function},onOpened:{type:Function},onClose:{type:Function},onClosed:{type:Function},"onUpdate:show":{type:Function}};function $a(e,n,t,r,a,o,i){try{var u=e[o](i),l=u.value}catch(s){t(s);return}u.done?n(l):Promise.resolve(l).then(r,a)}function is(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function i(l){$a(o,r,a,i,u,"next",l)}function u(l){$a(o,r,a,i,u,"throw",l)}i(void 0)})}}function us(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Jr(e)}var{n:ir,classes:ls}=ye("menu"),Ot=B({name:"VarMenu",props:os,setup(e,n){var{slots:t}=n,r=O(null),a=O(null),o=O(),i=O(0),u=O(0),{zIndex:l}=fi(()=>e.show,1),{disabled:s}=ii(),c=!1,d=C=>C==="top"?hr(r.value):hr(r.value)-a.value.offsetHeight,f=()=>{c=!0},p=()=>{if(c){c=!1;return}!e.show||j(e["onUpdate:show"],!1)},v=()=>{i.value=d(e.alignment),u.value=$u(r.value)},h=L(()=>({top:"calc("+i.value+"px + "+At(e.offsetY)+")",left:"calc("+u.value+"px + "+At(e.offsetX)+")",zIndex:l.value})),g=()=>ie(Kn,{name:ir(),onAfterEnter:e.onOpened,onAfterLeave:e.onClosed},{default:()=>[_n(ie("div",{class:ls(ir("menu"),"var-elevation--3"),ref:a,style:h.value,onClick:C=>{C.stopPropagation()}},[j(t.menu)]),[[qo,e.show]])]});return z(()=>e.alignment,v),z(()=>e.show,function(){var C=is(function*(b){var{onOpen:y,onClose:S}=e;b&&(yield De(),v()),j(b?y:S)});return function(b){return C.apply(this,arguments)}}()),z(()=>e.teleport,C=>{o.value=C}),Pn(()=>{o.value=e.teleport,v(),document.addEventListener("click",p),window.addEventListener("resize",v)}),Yt(()=>{document.removeEventListener("click",p),window.removeEventListener("resize",v)}),Nu({resize:v}),()=>{var C;return ie("div",{class:ir(),ref:r,onClick:f},[j(t.default),o.value?ie(Go,{to:o.value,disabled:s.value},us(C=g())?C:{default:()=>[C]}):g()])}}});Ot.install=function(e){e.component(Ot.name,Ot)};var hi=Symbol("SELECT_BIND_OPTION_KEY"),mi=Symbol("SELECT_COUNT_OPTION_KEY");function ss(){var{bindChildren:e,childProviders:n}=ju(hi),{length:t}=Vu(mi);return{length:t,options:n,bindOptions:e}}function cs(){var{bindParent:e,parentProvider:n}=xr(hi),{index:t}=ai(mi);if(!e||!n)throw Error("<var-option/> must in <var-select/>");return{index:t,select:n,bindSelect:e}}var fs={label:{},value:{}},{n:ds,classes:vs}=ye("option");function ps(e,n){var t=ve("var-checkbox"),r=Xt("ripple");return _n((K(),G("div",{class:$(e.classes(e.n(),"var--box",[e.optionSelected,e.n("--selected-color")])),style:ne({width:e.wrapWidth,color:e.optionSelected?e.focusColor:void 0}),onClick:n[2]||(n[2]=function(){return e.handleClick&&e.handleClick(...arguments)})},[X("div",{class:$(e.classes(e.n("cover"),[e.optionSelected,e.n("--selected-background")])),style:ne({background:e.optionSelected?e.focusColor:void 0})},null,6),e.multiple?(K(),Ce(t,{key:0,ref:"checkbox","checked-color":e.focusColor,modelValue:e.optionSelected,"onUpdate:modelValue":n[0]||(n[0]=a=>e.optionSelected=a),onClick:n[1]||(n[1]=Jo(()=>{},["stop"])),onChange:e.handleSelect},null,8,["checked-color","modelValue","onChange"])):ue("v-if",!0),X("div",{class:$(e.classes(e.n("text"),"var--ellipsis"))},[re(e.$slots,"default",{},()=>[rn(pe(e.label),1)])],2)],6)),[[r]])}var Ct=B({render:ps,name:"VarOption",directives:{Ripple:qt},components:{VarCheckbox:gt},props:fs,setup(e){var n=O(!1),t=L(()=>n.value),r=L(()=>e.label),a=L(()=>e.value),{select:o,bindSelect:i}=cs(),{wrapWidth:u,multiple:l,focusColor:s,onSelect:c}=o,d=()=>{n.value=!n.value,c(v)},f=()=>c(v),p=h=>{n.value=h},v={label:r,value:a,selected:t,sync:p};return z([()=>e.label,()=>e.value],()=>{if(e.label==null&&e.value==null)throw Error(`Props label and value can't both be undefined
`)},{immediate:!0}),i(v),{n:ds,classes:vs,optionSelected:n,wrapWidth:u,multiple:l,focusColor:s,handleClick:d,handleSelect:f}}});Ct.install=function(e){e.component(Ct.name,Ct)};var hs=Ct;function ms(e){return["left","right","center"].includes(e)}var ys={modelValue:{default:void 0},placeholder:{type:String},multiple:{type:Boolean,default:!1},offsetY:{type:[String,Number],default:0},chip:{type:Boolean,default:!1},line:{type:Boolean,default:!0},hint:{type:Boolean,default:!0},textColor:{type:String},focusColor:{type:String},blurColor:{type:String},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},separator:{type:String,default:","},textAlign:{type:String,default:"left",validator:ms},validateTrigger:{type:Array,default:()=>["onChange","onClear","onClose"]},rules:{type:Array},onFocus:{type:Function},onBlur:{type:Function},onClick:{type:Function},onClear:{type:Function},onClose:{type:Function},onChange:{type:Function},"onUpdate:modelValue":{type:Function}},{n:ur,classes:gs}=ye("select"),bs={key:0},ws={key:1};function Os(e,n){var t=ve("var-chip"),r=ve("var-icon"),a=ve("var-menu"),o=ve("var-form-details");return K(),G("div",{class:$(e.classes(e.n(),"var--box",[e.formDisabled||e.disabled,e.n("--disabled")])),onClick:n[3]||(n[3]=function(){return e.handleClick&&e.handleClick(...arguments)})},[X("div",{class:$(e.classes(e.n("controller"),[e.isFocus,e.n("--focus")],[e.errorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:ne({color:e.errorMessage?void 0:e.isFocus?e.focusColor:e.blurColor})},[X("div",{class:$(e.classes(e.n("icon"),[!e.hint,e.n("--non-hint")]))},[re(e.$slots,"prepend-icon")],2),ie(a,{class:$(e.n("menu")),"var-select-cover":"","offset-y":e.offsetY,show:e.isFocus,"onUpdate:show":n[2]||(n[2]=i=>e.isFocus=i),onClose:e.handleBlur},{menu:Le(()=>[X("div",{ref:"menuEl",class:$(e.n("scroller"))},[re(e.$slots,"default")],2)]),default:Le(()=>[X("div",{class:$(e.classes(e.n("wrap"),[!e.hint,e.n("--non-hint")])),ref:"wrapEl",onClick:n[1]||(n[1]=function(){return e.handleFocus&&e.handleFocus(...arguments)})},[X("div",{class:$(e.classes(e.n("select"),[e.errorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:ne({textAlign:e.textAlign,color:e.textColor})},[e.multiple?(K(),G("div",bs,[e.chip?(K(),G("div",{key:0,class:$(e.n("chips"))},[(K(!0),G(In,null,Dt(e.labels,i=>(K(),Ce(t,{class:$(e.n("chip")),"var-select-cover":"",closable:"",size:"small",type:e.errorMessage?"danger":void 0,key:i,onClick:n[0]||(n[0]=Jo(()=>{},["stop"])),onClose:()=>e.handleClose(i)},{default:Le(()=>[rn(pe(i),1)]),_:2},1032,["class","type","onClose"]))),128))],2)):(K(),G("div",{key:1,class:$(e.n("values"))},pe(e.labels.join(e.separator)),3))])):(K(),G("span",ws,pe(e.label),1)),ie(r,{class:$(e.classes(e.n("arrow"),[e.isFocus,e.n("--arrow-rotate")])),"var-select-cover":"",name:"menu-down",transition:300},null,8,["class"])],6),X("label",{class:$(e.classes(e.n("placeholder"),"var--ellipsis",[e.isFocus,e.n("--focus")],[e.errorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")],e.computePlaceholderState(),[!e.hint,e.n("--placeholder-non-hint")])),style:ne({color:e.errorMessage?void 0:e.isFocus?e.focusColor:e.blurColor})},pe(e.placeholder),7)],2)]),_:3},8,["class","offset-y","show","onClose"]),X("div",{class:$(e.classes(e.n("icon"),[!e.hint,e.n("--non-hint")]))},[re(e.$slots,"append-icon",{},()=>[e.clearable?(K(),Ce(r,{key:0,class:$(e.n("clear-icon")),name:"close-circle",size:"14px",onClick:e.handleClear},null,8,["class","onClick"])):ue("v-if",!0)])],2)],6),e.line?(K(),G("div",{key:0,class:$(e.classes(e.n("line"),[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:ne({background:e.errorMessage?void 0:e.blurColor})},[X("div",{class:$(e.classes(e.n("dot"),[e.isFocus,e.n("--spread")],[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:ne({background:e.errorMessage?void 0:e.focusColor})},null,6)],6)):ue("v-if",!0),ie(o,{"error-message":e.errorMessage},null,8,["error-message"])],2)}var St=B({render:Os,name:"VarSelect",components:{VarIcon:Ne,VarMenu:Ot,VarChip:bt,VarFormDetails:bn},props:ys,setup(e){var n=O(null),t=O(!1),r=L(()=>e.multiple),a=L(()=>e.focusColor),o=O(""),i=O([]),u=O("0px"),l=O(0),{bindForm:s,form:c}=ta(),{length:d,options:f,bindOptions:p}=ss(),{errorMessage:v,validateWithTrigger:h,validate:g,resetValidation:C}=ea(),b=O(null),y=()=>{var{multiple:W,modelValue:R}=e;if(W){var q=R;i.value=q.map(m)}!W&&!Ge(R)&&(o.value=m(R)),!W&&Ge(R)&&(o.value="")},S=W=>{De(()=>{var{validateTrigger:R,rules:q,modelValue:ee}=e;h(R,W,q,ee)})},w=W=>{var{value:R,label:q}=W;return R.value!=null?R.value:q.value},m=W=>{var R,q,ee=f.find(Pe=>{var{value:$e}=Pe;return $e.value===W});return ee||(ee=f.find(Pe=>{var{label:$e}=Pe;return $e.value===W})),(R=(q=ee)==null?void 0:q.label.value)!=null?R:""},P=()=>{var{hint:W,modelValue:R}=e;if(!W&&!Ge(R))return ur("--placeholder-hidden");if(W&&(!Ge(R)||t.value))return ur("--placeholder-hint")},_=()=>n.value&&window.getComputedStyle(n.value).width||"0px",T=()=>{var W=n.value&&window.getComputedStyle(n.value).paddingTop||"0px";return ht(W)*1.5},E=()=>{var{disabled:W,readonly:R,onFocus:q}=e;c!=null&&c.disabled.value||c!=null&&c.readonly.value||W||R||(u.value=_(),l.value=T()+ht(e.offsetY),t.value=!0,j(q),S("onFocus"),ke())},D=()=>{var{disabled:W,readonly:R,onBlur:q}=e;c!=null&&c.disabled.value||c!=null&&c.readonly.value||W||R||(j(q),S("onBlur"))},U=W=>{var{disabled:R,readonly:q,multiple:ee,onChange:Pe}=e;if(!(c!=null&&c.disabled.value||c!=null&&c.readonly.value||R||q)){var $e=ee?f.filter(nt=>{var{selected:tt}=nt;return tt.value}).map(w):w(W);j(e["onUpdate:modelValue"],$e),j(Pe,$e),S("onChange"),!ee&&(t.value=!1)}},H=()=>{var{disabled:W,readonly:R,multiple:q,clearable:ee,onClear:Pe}=e;if(!(c!=null&&c.disabled.value||c!=null&&c.readonly.value||W||R||!ee)){var $e=q?[]:void 0;j(e["onUpdate:modelValue"],$e),j(Pe,$e),S("onClear")}},oe=W=>{var{disabled:R,onClick:q}=e;c!=null&&c.disabled.value||R||(j(q,W),S("onClick"))},V=W=>{var{disabled:R,readonly:q,modelValue:ee,onClose:Pe}=e;if(!(c!=null&&c.disabled.value||c!=null&&c.readonly.value||R||q)){var $e=ee,nt=f.find(rr=>{var{label:rt}=rr;return rt.value===W}),tt=$e.filter(rr=>{var rt;return rr!==((rt=nt.value.value)!=null?rt:nt.label.value)});j(e["onUpdate:modelValue"],tt),j(Pe,tt),S("onClose")}},ce=()=>{var{multiple:W,modelValue:R}=e;if(W){var q=R;f.forEach(ee=>ee.sync(q.includes(w(ee))))}else f.forEach(ee=>ee.sync(R===w(ee)));y()},ge=()=>{u.value=_(),l.value=T()+ht(e.offsetY),t.value=!0,ke()},Ae=()=>{t.value=!1},be=()=>g(e.rules,e.modelValue),fe=()=>{j(e["onUpdate:modelValue"],e.multiple?[]:void 0),C()},ke=()=>{var{body:W}=document,R=W.scrollHeight;De(()=>{var q,{offsetHeight:ee}=(q=b.value)==null?void 0:q.parentElement,Pe=hr(n.value);Pe+l.value<0&&(l.value=T()),ee+Pe+l.value>R&&(l.value-=ee-T())})};z(()=>e.multiple,()=>{var{multiple:W,modelValue:R}=e;if(W&&!Zr(R))throw Error("The modelValue must be an array when multiple is true")}),z(()=>e.modelValue,ce,{deep:!0}),z(()=>d.value,ce);var we={wrapWidth:L(()=>u.value),multiple:r,focusColor:a,onSelect:U,reset:fe,validate:be,resetValidation:C};return p(we),j(s,we),{wrapEl:n,offsetY:l,isFocus:t,errorMessage:v,formDisabled:c==null?void 0:c.disabled,label:o,labels:i,menuEl:b,n:ur,classes:gs,computePlaceholderState:P,handleFocus:E,handleBlur:D,handleClear:H,handleClick:oe,handleClose:V,reset:fe,validate:be,resetValidation:C,focus:ge,blur:Ae}}});St.install=function(e){e.component(St.name,St)};var Cs=St;const kp=dl||{},$p=$l||{},Tp=tl||{},Dp=rs||{},Ap=hs||{},Ip=Qu||{},Bp=Cs||{};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Y=function(){return Y=Object.assign||function(n){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Y.apply(this,arguments)};function Cr(e,n,t){if(t||arguments.length===2)for(var r=0,a=n.length,o;r<a;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}var Z=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,te=Object.keys,se=Array.isArray;typeof Promise!="undefined"&&!Z.Promise&&(Z.Promise=Promise);function me(e,n){return typeof n!="object"||te(n).forEach(function(t){e[t]=n[t]}),e}var Nn=Object.getPrototypeOf,Ss={}.hasOwnProperty;function Se(e,n){return Ss.call(e,n)}function Cn(e,n){typeof n=="function"&&(n=n(Nn(e))),(typeof Reflect=="undefined"?te:Reflect.ownKeys)(n).forEach(function(t){Ue(e,t,n[t])})}var yi=Object.defineProperty;function Ue(e,n,t,r){yi(e,n,me(t&&Se(t,"get")&&typeof t.get=="function"?{get:t.get,set:t.set,configurable:!0}:{value:t,configurable:!0,writable:!0},r))}function En(e){return{from:function(n){return e.prototype=Object.create(n.prototype),Ue(e.prototype,"constructor",e),{extend:Cn.bind(null,e.prototype)}}}}var Ps=Object.getOwnPropertyDescriptor;function ra(e,n){var t=Ps(e,n),r;return t||(r=Nn(e))&&ra(r,n)}var _s=[].slice;function Qt(e,n,t){return _s.call(e,n,t)}function gi(e,n){return n(e)}function Dn(e){if(!e)throw new Error("Assertion Failed")}function bi(e){Z.setImmediate?setImmediate(e):setTimeout(e,0)}function wi(e,n){return e.reduce(function(t,r,a){var o=n(r,a);return o&&(t[o[0]]=o[1]),t},{})}function Es(e,n,t){try{e.apply(null,t)}catch(r){n&&n(r)}}function ze(e,n){if(Se(e,n))return e[n];if(!n)return e;if(typeof n!="string"){for(var t=[],r=0,a=n.length;r<a;++r){var o=ze(e,n[r]);t.push(o)}return t}var i=n.indexOf(".");if(i!==-1){var u=e[n.substr(0,i)];return u===void 0?void 0:ze(u,n.substr(i+1))}}function Te(e,n,t){if(!(!e||n===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof n!="string"&&"length"in n){Dn(typeof t!="string"&&"length"in t);for(var r=0,a=n.length;r<a;++r)Te(e,n[r],t[r])}else{var o=n.indexOf(".");if(o!==-1){var i=n.substr(0,o),u=n.substr(o+1);if(u==="")t===void 0?se(e)&&!isNaN(parseInt(i))?e.splice(i,1):delete e[i]:e[i]=t;else{var l=e[i];(!l||!Se(e,i))&&(l=e[i]={}),Te(l,u,t)}}else t===void 0?se(e)&&!isNaN(parseInt(n))?e.splice(n,1):delete e[n]:e[n]=t}}function ks(e,n){typeof n=="string"?Te(e,n,void 0):"length"in n&&[].map.call(n,function(t){Te(e,t,void 0)})}function Oi(e){var n={};for(var t in e)Se(e,t)&&(n[t]=e[t]);return n}var $s=[].concat;function Ci(e){return $s.apply([],e)}var Si="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ci([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(n){return n+e+"Array"})}))).filter(function(e){return Z[e]}),Ts=Si.map(function(e){return Z[e]});wi(Si,function(e){return[e,!0]});var Ye=null;function qn(e){Ye=typeof WeakMap!="undefined"&&new WeakMap;var n=Sr(e);return Ye=null,n}function Sr(e){if(!e||typeof e!="object")return e;var n=Ye&&Ye.get(e);if(n)return n;if(se(e)){n=[],Ye&&Ye.set(e,n);for(var t=0,r=e.length;t<r;++t)n.push(Sr(e[t]))}else if(Ts.indexOf(e.constructor)>=0)n=e;else{var a=Nn(e);n=a===Object.prototype?{}:Object.create(a),Ye&&Ye.set(e,n);for(var o in e)Se(e,o)&&(n[o]=Sr(e[o]))}return n}var Ds={}.toString;function Pr(e){return Ds.call(e).slice(8,-1)}var _r=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator",As=typeof _r=="symbol"?function(e){var n;return e!=null&&(n=e[_r])&&n.apply(e)}:function(){return null},yn={};function Ve(e){var n,t,r,a;if(arguments.length===1){if(se(e))return e.slice();if(this===yn&&typeof e=="string")return[e];if(a=As(e)){for(t=[];r=a.next(),!r.done;)t.push(r.value);return t}if(e==null)return[e];if(n=e.length,typeof n=="number"){for(t=new Array(n);n--;)t[n]=e[n];return t}return[e]}for(n=arguments.length,t=new Array(n);n--;)t[n]=arguments[n];return t}var aa=typeof Symbol!="undefined"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Re=typeof location!="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Pi(e,n){Re=e,_i=n}var _i=function(){return!0},Is=!new Error("").stack;function dn(){if(Is)try{throw dn.arguments,new Error}catch(e){return e}return new Error}function Er(e,n){var t=e.stack;return t?(n=n||0,t.indexOf(e.name)===0&&(n+=(e.name+e.message).split(`
`).length),t.split(`
`).slice(n).filter(_i).map(function(r){return`
`+r}).join("")):""}var Bs=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Ei=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],oa=Bs.concat(Ei),Fs={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function kn(e,n){this._e=dn(),this.name=e,this.message=n}En(kn).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Er(this._e,2))}},toString:function(){return this.name+": "+this.message}});function ki(e,n){return e+". Errors: "+Object.keys(n).map(function(t){return n[t].toString()}).filter(function(t,r,a){return a.indexOf(t)===r}).join(`
`)}function Ft(e,n,t,r){this._e=dn(),this.failures=n,this.failedKeys=r,this.successCount=t,this.message=ki(e,n)}En(Ft).from(kn);function Fn(e,n){this._e=dn(),this.name="BulkError",this.failures=Object.keys(n).map(function(t){return n[t]}),this.failuresByPos=n,this.message=ki(e,n)}En(Fn).from(kn);var ia=oa.reduce(function(e,n){return e[n]=n+"Error",e},{}),Rs=kn,F=oa.reduce(function(e,n){var t=n+"Error";function r(a,o){this._e=dn(),this.name=t,a?typeof a=="string"?(this.message=""+a+(o?`
 `+o:""),this.inner=o||null):typeof a=="object"&&(this.message=a.name+" "+a.message,this.inner=a):(this.message=Fs[n]||t,this.inner=null)}return En(r).from(Rs),e[n]=r,e},{});F.Syntax=SyntaxError;F.Type=TypeError;F.Range=RangeError;var Ta=Ei.reduce(function(e,n){return e[n+"Error"]=F[n],e},{});function Ms(e,n){if(!e||e instanceof kn||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Ta[e.name])return e;var t=new Ta[e.name](n||e.message,e);return"stack"in e&&Ue(t,"stack",{get:function(){return this.inner.stack}}),t}var Zt=oa.reduce(function(e,n){return["Syntax","Type","Range"].indexOf(n)===-1&&(e[n+"Error"]=F[n]),e},{});Zt.ModifyError=Ft;Zt.DexieError=kn;Zt.BulkError=Fn;function J(){}function Jn(e){return e}function Ks(e,n){return e==null||e===Jn?n:function(t){return n(e(t))}}function sn(e,n){return function(){e.apply(this,arguments),n.apply(this,arguments)}}function Vs(e,n){return e===J?n:function(){var t=e.apply(this,arguments);t!==void 0&&(arguments[0]=t);var r=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var o=n.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?sn(r,this.onsuccess):r),a&&(this.onerror=this.onerror?sn(a,this.onerror):a),o!==void 0?o:t}}function js(e,n){return e===J?n:function(){e.apply(this,arguments);var t=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,n.apply(this,arguments),t&&(this.onsuccess=this.onsuccess?sn(t,this.onsuccess):t),r&&(this.onerror=this.onerror?sn(r,this.onerror):r)}}function Ls(e,n){return e===J?n:function(t){var r=e.apply(this,arguments);me(t,r);var a=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=n.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?sn(a,this.onsuccess):a),o&&(this.onerror=this.onerror?sn(o,this.onerror):o),r===void 0?i===void 0?void 0:i:me(r,i)}}function Ns(e,n){return e===J?n:function(){return n.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function ua(e,n){return e===J?n:function(){var t=e.apply(this,arguments);if(t&&typeof t.then=="function"){for(var r=this,a=arguments.length,o=new Array(a);a--;)o[a]=arguments[a];return t.then(function(){return n.apply(r,o)})}return n.apply(this,arguments)}}var zn={},zs=100,Us=20,$i=100,la=typeof Promise=="undefined"?[]:function(){var e=Promise.resolve();if(typeof crypto=="undefined"||!crypto.subtle)return[e,Nn(e),e];var n=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[n,Nn(n),e]}(),kr=la[0],Rt=la[1],$r=la[2],Ti=Rt&&Rt.then,Pt=kr&&kr.constructor,sa=!!$r,Tr=!1,Ws=$r?function(){$r.then(ut)}:Z.setImmediate?setImmediate.bind(null,ut):Z.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){ut(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(ut,0)},Un=function(e,n){An.push([e,n]),Mt&&(Ws(),Mt=!1)},Dr=!0,Mt=!0,un=[],_t=[],Ar=null,Ir=Jn,wn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ia,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{Ia(e[0],e[1])}catch{}})}},I=wn,An=[],ln=0,Et=[];function k(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=J,this._lib=!1;var n=this._PSD=I;if(Re&&(this._stackHolder=dn(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==zn)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Fr(this,this._value);return}this._state=null,this._value=null,++n.ref,Ai(this,e)}var Br={get:function(){var e=I,n=Kt;function t(r,a){var o=this,i=!e.global&&(e!==I||n!==Kt),u=i&&!We(),l=new k(function(s,c){ca(o,new Di(jt(r,e,i,u),jt(a,e,i,u),s,c,e))});return Re&&Fi(l,this),l}return t.prototype=zn,t},set:function(e){Ue(this,"then",e&&e.prototype===zn?Br:{get:function(){return e},set:Br.set})}};Cn(k.prototype,{then:Br,_then:function(e,n){ca(this,new Di(null,null,e,n,I))},catch:function(e){if(arguments.length===1)return this.then(null,e);var n=arguments[0],t=arguments[1];return typeof n=="function"?this.then(null,function(r){return r instanceof n?t(r):kt(r)}):this.then(null,function(r){return r&&r.name===n?t(r):kt(r)})},finally:function(e){return this.then(function(n){return e(),n},function(n){return e(),kt(n)})},stack:{get:function(){if(this._stack)return this._stack;try{Tr=!0;var e=Bi(this,[],Us),n=e.join(`
From previous: `);return this._state!==null&&(this._stack=n),n}finally{Tr=!1}}},timeout:function(e,n){var t=this;return e<1/0?new k(function(r,a){var o=setTimeout(function(){return a(new F.Timeout(n))},e);t.then(r,a).finally(clearTimeout.bind(null,o))}):this}});typeof Symbol!="undefined"&&Symbol.toStringTag&&Ue(k.prototype,Symbol.toStringTag,"Dexie.Promise");wn.env=Ri();function Di(e,n,t,r,a){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof n=="function"?n:null,this.resolve=t,this.reject=r,this.psd=a}Cn(k,{all:function(){var e=Ve.apply(null,arguments).map(Vt);return new k(function(n,t){e.length===0&&n([]);var r=e.length;e.forEach(function(a,o){return k.resolve(a).then(function(i){e[o]=i,--r||n(e)},t)})})},resolve:function(e){if(e instanceof k)return e;if(e&&typeof e.then=="function")return new k(function(t,r){e.then(t,r)});var n=new k(zn,!0,e);return Fi(n,Ar),n},reject:kt,race:function(){var e=Ve.apply(null,arguments).map(Vt);return new k(function(n,t){e.map(function(r){return k.resolve(r).then(n,t)})})},PSD:{get:function(){return I},set:function(e){return I=e}},totalEchoes:{get:function(){return Kt}},newPSD:Qe,usePSD:Tn,scheduler:{get:function(){return Un},set:function(e){Un=e}},rejectionMapper:{get:function(){return Ir},set:function(e){Ir=e}},follow:function(e,n){return new k(function(t,r){return Qe(function(a,o){var i=I;i.unhandleds=[],i.onunhandled=o,i.finalize=sn(function(){var u=this;Ys(function(){u.unhandleds.length===0?a():o(u.unhandleds[0])})},i.finalize),e()},n,t,r)})}});Pt&&(Pt.allSettled&&Ue(k,"allSettled",function(){var e=Ve.apply(null,arguments).map(Vt);return new k(function(n){e.length===0&&n([]);var t=e.length,r=new Array(t);e.forEach(function(a,o){return k.resolve(a).then(function(i){return r[o]={status:"fulfilled",value:i}},function(i){return r[o]={status:"rejected",reason:i}}).then(function(){return--t||n(r)})})})}),Pt.any&&typeof AggregateError!="undefined"&&Ue(k,"any",function(){var e=Ve.apply(null,arguments).map(Vt);return new k(function(n,t){e.length===0&&t(new AggregateError([]));var r=e.length,a=new Array(r);e.forEach(function(o,i){return k.resolve(o).then(function(u){return n(u)},function(u){a[i]=u,--r||t(new AggregateError(a))})})})}));function Ai(e,n){try{n(function(t){if(e._state===null){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&Qn();t&&typeof t.then=="function"?Ai(e,function(a,o){t instanceof k?t._then(a,o):t.then(a,o)}):(e._state=!0,e._value=t,Ii(e)),r&&Zn()}},Fr.bind(null,e))}catch(t){Fr(e,t)}}function Fr(e,n){if(_t.push(n),e._state===null){var t=e._lib&&Qn();n=Ir(n),e._state=!1,e._value=n,Re&&n!==null&&typeof n=="object"&&!n._promise&&Es(function(){var r=ra(n,"stack");n._promise=e,Ue(n,"stack",{get:function(){return Tr?r&&(r.get?r.get.apply(n):r.value):e.stack}})}),Xs(e),Ii(e),t&&Zn()}}function Ii(e){var n=e._listeners;e._listeners=[];for(var t=0,r=n.length;t<r;++t)ca(e,n[t]);var a=e._PSD;--a.ref||a.finalize(),ln===0&&(++ln,Un(function(){--ln===0&&fa()},[]))}function ca(e,n){if(e._state===null){e._listeners.push(n);return}var t=e._state?n.onFulfilled:n.onRejected;if(t===null)return(e._state?n.resolve:n.reject)(e._value);++n.psd.ref,++ln,Un(Hs,[t,e,n])}function Hs(e,n,t){try{Ar=n;var r,a=n._value;n._state?r=e(a):(_t.length&&(_t=[]),r=e(a),_t.indexOf(a)===-1&&Gs(n)),t.resolve(r)}catch(o){t.reject(o)}finally{Ar=null,--ln===0&&fa(),--t.psd.ref||t.psd.finalize()}}function Bi(e,n,t){if(n.length===t)return n;var r="";if(e._state===!1){var a=e._value,o,i;a!=null?(o=a.name||"Error",i=a.message||a,r=Er(a,0)):(o=a,i=""),n.push(o+(i?": "+i:"")+r)}return Re&&(r=Er(e._stackHolder,2),r&&n.indexOf(r)===-1&&n.push(r),e._prev&&Bi(e._prev,n,t)),n}function Fi(e,n){var t=n?n._numPrev+1:0;t<zs&&(e._prev=n,e._numPrev=t)}function ut(){Qn()&&Zn()}function Qn(){var e=Dr;return Dr=!1,Mt=!1,e}function Zn(){var e,n,t;do for(;An.length>0;)for(e=An,An=[],t=e.length,n=0;n<t;++n){var r=e[n];r[0].apply(null,r[1])}while(An.length>0);Dr=!0,Mt=!0}function fa(){var e=un;un=[],e.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var n=Et.slice(0),t=n.length;t;)n[--t]()}function Ys(e){function n(){e(),Et.splice(Et.indexOf(n),1)}Et.push(n),++ln,Un(function(){--ln===0&&fa()},[])}function Xs(e){un.some(function(n){return n._value===e._value})||un.push(e)}function Gs(e){for(var n=un.length;n;)if(un[--n]._value===e._value){un.splice(n,1);return}}function kt(e){return new k(zn,!1,e)}function x(e,n){var t=I;return function(){var r=Qn(),a=I;try{return Ze(t,!0),e.apply(this,arguments)}catch(o){n&&n(o)}finally{Ze(a,!1),r&&Zn()}}}var le={awaits:0,echoes:0,id:0},qs=0,$t=[],lr=0,Kt=0,Js=0;function Qe(e,n,t,r){var a=I,o=Object.create(a);o.parent=a,o.ref=0,o.global=!1,o.id=++Js;var i=wn.env;o.env=sa?{Promise:k,PromiseProp:{value:k,configurable:!0,writable:!0},all:k.all,race:k.race,allSettled:k.allSettled,any:k.any,resolve:k.resolve,reject:k.reject,nthen:Da(i.nthen,o),gthen:Da(i.gthen,o)}:{},n&&me(o,n),++a.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=Tn(o,e,t,r);return o.ref===0&&o.finalize(),u}function $n(){return le.id||(le.id=++qs),++le.awaits,le.echoes+=$i,le.id}function We(){return le.awaits?(--le.awaits===0&&(le.id=0),le.echoes=le.awaits*$i,!0):!1}(""+Ti).indexOf("[native code]")===-1&&($n=We=J);function Vt(e){return le.echoes&&e&&e.constructor===Pt?($n(),e.then(function(n){return We(),n},function(n){return We(),ae(n)})):e}function Qs(e){++Kt,(!le.echoes||--le.echoes===0)&&(le.echoes=le.id=0),$t.push(I),Ze(e,!0)}function Zs(){var e=$t[$t.length-1];$t.pop(),Ze(e,!1)}function Ze(e,n){var t=I;if((n?le.echoes&&(!lr++||e!==I):lr&&(!--lr||e!==I))&&Mi(n?Qs.bind(null,e):Zs),e!==I&&(I=e,t===wn&&(wn.env=Ri()),sa)){var r=wn.env.Promise,a=e.env;Rt.then=a.nthen,r.prototype.then=a.gthen,(t.global||e.global)&&(Object.defineProperty(Z,"Promise",a.PromiseProp),r.all=a.all,r.race=a.race,r.resolve=a.resolve,r.reject=a.reject,a.allSettled&&(r.allSettled=a.allSettled),a.any&&(r.any=a.any))}}function Ri(){var e=Z.Promise;return sa?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Z,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Rt.then,gthen:e.prototype.then}:{}}function Tn(e,n,t,r,a){var o=I;try{return Ze(e,!0),n(t,r,a)}finally{Ze(o,!1)}}function Mi(e){Ti.call(kr,e)}function jt(e,n,t,r){return typeof e!="function"?e:function(){var a=I;t&&$n(),Ze(n,!0);try{return e.apply(this,arguments)}finally{Ze(a,!1),r&&Mi(We)}}}function Da(e,n){return function(t,r){return e.call(this,jt(t,n),jt(r,n))}}var Aa="unhandledrejection";function Ia(e,n){var t;try{t=n.onuncatched(e)}catch{}if(t!==!1)try{var r,a={promise:n,reason:e};if(Z.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(Aa,!0,!0),me(r,a)):Z.CustomEvent&&(r=new CustomEvent(Aa,{detail:a}),me(r,a)),r&&Z.dispatchEvent&&(dispatchEvent(r),!Z.PromiseRejectionEvent&&Z.onunhandledrejection))try{Z.onunhandledrejection(r)}catch{}Re&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch{}}var ae=k.reject;function Rr(e,n,t,r){if(!e.idbdb||!e._state.openComplete&&!I.letThrough&&!e._vip){if(e._state.openComplete)return ae(new F.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ae(new F.DatabaseClosed);e.open().catch(J)}return e._state.dbReadyPromise.then(function(){return Rr(e,n,t,r)})}else{var a=e._createTransaction(n,t,e._dbSchema);try{a.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===ia.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return Rr(e,n,t,r)})):ae(o)}return a._promise(n,function(o,i){return Qe(function(){return I.trans=a,r(o,i,a)})}).then(function(o){return a._completion.then(function(){return o})})}}var Ba="3.2.2",an=String.fromCharCode(65535),Mr=-1/0,Me="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ki="String expected.",Rn=[],xt=typeof navigator!="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),xs=xt,ec=xt,Vi=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},er="__dbnames",sr="readonly",cr="readwrite";function cn(e,n){return e?n?function(){return e.apply(this,arguments)&&n.apply(this,arguments)}:e:n}var ji={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function lt(e){return typeof e=="string"&&!/\./.test(e)?function(n){return n[e]===void 0&&e in n&&(n=qn(n),delete n[e]),n}:function(n){return n}}var nc=function(){function e(){}return e.prototype._trans=function(n,t,r){var a=this._tx||I.trans,o=this.name;function i(l,s,c){if(!c.schema[o])throw new F.NotFound("Table "+o+" not part of transaction");return t(c.idbtrans,c)}var u=Qn();try{return a&&a.db===this.db?a===I.trans?a._promise(n,i,r):Qe(function(){return a._promise(n,i,r)},{trans:a,transless:I.transless||I}):Rr(this.db,n,[this.name],i)}finally{u&&Zn()}},e.prototype.get=function(n,t){var r=this;return n&&n.constructor===Object?this.where(n).first(t):this._trans("readonly",function(a){return r.core.get({trans:a,key:n}).then(function(o){return r.hook.reading.fire(o)})}).then(t)},e.prototype.where=function(n){if(typeof n=="string")return new this.db.WhereClause(this,n);if(se(n))return new this.db.WhereClause(this,"["+n.join("+")+"]");var t=te(n);if(t.length===1)return this.where(t[0]).equals(n[t[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(c){return c.compound&&t.every(function(d){return c.keyPath.indexOf(d)>=0})&&c.keyPath.every(function(d){return t.indexOf(d)>=0})})[0];if(r&&this.db._maxKey!==an)return this.where(r.name).equals(r.keyPath.map(function(c){return n[c]}));!r&&Re&&console.warn("The query "+JSON.stringify(n)+" on "+this.name+" would benefit of a "+("compound index ["+t.join("+")+"]"));var a=this.schema.idxByName,o=this.db._deps.indexedDB;function i(c,d){try{return o.cmp(c,d)===0}catch{return!1}}var u=t.reduce(function(c,d){var f=c[0],p=c[1],v=a[d],h=n[d];return[f||v,f||!v?cn(p,v&&v.multi?function(g){var C=ze(g,d);return se(C)&&C.some(function(b){return i(h,b)})}:function(g){return i(h,ze(g,d))}):p]},[null,null]),l=u[0],s=u[1];return l?this.where(l.name).equals(n[l.keyPath]).filter(s):r?this.filter(s):this.where(t).equals("")},e.prototype.filter=function(n){return this.toCollection().and(n)},e.prototype.count=function(n){return this.toCollection().count(n)},e.prototype.offset=function(n){return this.toCollection().offset(n)},e.prototype.limit=function(n){return this.toCollection().limit(n)},e.prototype.each=function(n){return this.toCollection().each(n)},e.prototype.toArray=function(n){return this.toCollection().toArray(n)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(n){return new this.db.Collection(new this.db.WhereClause(this,se(n)?"["+n.join("+")+"]":n))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(n){this.schema.mappedClass=n;var t=function(r){if(!r)return r;var a=Object.create(n.prototype);for(var o in r)if(Se(r,o))try{a[o]=r[o]}catch{}return a};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),n},e.prototype.defineClass=function(){function n(t){me(this,t)}return this.mapToClass(n)},e.prototype.add=function(n,t){var r=this,a=this.schema.primKey,o=a.auto,i=a.keyPath,u=n;return i&&o&&(u=lt(i)(n)),this._trans("readwrite",function(l){return r.core.mutate({trans:l,type:"add",keys:t!=null?[t]:null,values:[u]})}).then(function(l){return l.numFailures?k.reject(l.failures[0]):l.lastResult}).then(function(l){if(i)try{Te(n,i,l)}catch{}return l})},e.prototype.update=function(n,t){if(typeof n=="object"&&!se(n)){var r=ze(n,this.schema.primKey.keyPath);if(r===void 0)return ae(new F.InvalidArgument("Given object does not contain its primary key"));try{typeof t!="function"?te(t).forEach(function(a){Te(n,a,t[a])}):t(n,{value:n,primKey:r})}catch{}return this.where(":id").equals(r).modify(t)}else return this.where(":id").equals(n).modify(t)},e.prototype.put=function(n,t){var r=this,a=this.schema.primKey,o=a.auto,i=a.keyPath,u=n;return i&&o&&(u=lt(i)(n)),this._trans("readwrite",function(l){return r.core.mutate({trans:l,type:"put",values:[u],keys:t!=null?[t]:null})}).then(function(l){return l.numFailures?k.reject(l.failures[0]):l.lastResult}).then(function(l){if(i)try{Te(n,i,l)}catch{}return l})},e.prototype.delete=function(n){var t=this;return this._trans("readwrite",function(r){return t.core.mutate({trans:r,type:"delete",keys:[n]})}).then(function(r){return r.numFailures?k.reject(r.failures[0]):void 0})},e.prototype.clear=function(){var n=this;return this._trans("readwrite",function(t){return n.core.mutate({trans:t,type:"deleteRange",range:ji})}).then(function(t){return t.numFailures?k.reject(t.failures[0]):void 0})},e.prototype.bulkGet=function(n){var t=this;return this._trans("readonly",function(r){return t.core.getMany({keys:n,trans:r}).then(function(a){return a.map(function(o){return t.hook.reading.fire(o)})})})},e.prototype.bulkAdd=function(n,t,r){var a=this,o=Array.isArray(t)?t:void 0;r=r||(o?void 0:t);var i=r?r.allKeys:void 0;return this._trans("readwrite",function(u){var l=a.schema.primKey,s=l.auto,c=l.keyPath;if(c&&o)throw new F.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==n.length)throw new F.InvalidArgument("Arguments objects and keys must have the same length");var d=n.length,f=c&&s?n.map(lt(c)):n;return a.core.mutate({trans:u,type:"add",keys:o,values:f,wantResults:i}).then(function(p){var v=p.numFailures,h=p.results,g=p.lastResult,C=p.failures,b=i?h:g;if(v===0)return b;throw new Fn(a.name+".bulkAdd(): "+v+" of "+d+" operations failed",C)})})},e.prototype.bulkPut=function(n,t,r){var a=this,o=Array.isArray(t)?t:void 0;r=r||(o?void 0:t);var i=r?r.allKeys:void 0;return this._trans("readwrite",function(u){var l=a.schema.primKey,s=l.auto,c=l.keyPath;if(c&&o)throw new F.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==n.length)throw new F.InvalidArgument("Arguments objects and keys must have the same length");var d=n.length,f=c&&s?n.map(lt(c)):n;return a.core.mutate({trans:u,type:"put",keys:o,values:f,wantResults:i}).then(function(p){var v=p.numFailures,h=p.results,g=p.lastResult,C=p.failures,b=i?h:g;if(v===0)return b;throw new Fn(a.name+".bulkPut(): "+v+" of "+d+" operations failed",C)})})},e.prototype.bulkDelete=function(n){var t=this,r=n.length;return this._trans("readwrite",function(a){return t.core.mutate({trans:a,type:"delete",keys:n})}).then(function(a){var o=a.numFailures,i=a.lastResult,u=a.failures;if(o===0)return i;throw new Fn(t.name+".bulkDelete(): "+o+" of "+r+" operations failed",u)})},e}();function xn(e){var n={},t=function(u,l){if(l){for(var s=arguments.length,c=new Array(s-1);--s;)c[s-1]=arguments[s];return n[u].subscribe.apply(null,c),e}else if(typeof u=="string")return n[u]};t.addEventType=o;for(var r=1,a=arguments.length;r<a;++r)o(arguments[r]);return t;function o(u,l,s){if(typeof u=="object")return i(u);l||(l=Ns),s||(s=J);var c={subscribers:[],fire:s,subscribe:function(d){c.subscribers.indexOf(d)===-1&&(c.subscribers.push(d),c.fire=l(c.fire,d))},unsubscribe:function(d){c.subscribers=c.subscribers.filter(function(f){return f!==d}),c.fire=c.subscribers.reduce(l,s)}};return n[u]=t[u]=c,c}function i(u){te(u).forEach(function(l){var s=u[l];if(se(s))o(l,u[l][0],u[l][1]);else if(s==="asap")var c=o(l,Jn,function(){for(var f=arguments.length,p=new Array(f);f--;)p[f]=arguments[f];c.subscribers.forEach(function(v){bi(function(){v.apply(null,p)})})});else throw new F.InvalidArgument("Invalid event config")})}}function et(e,n){return En(n).from({prototype:e}),n}function tc(e){return et(nc.prototype,function(t,r,a){this.db=e,this._tx=a,this.name=t,this.schema=r,this.hook=e._allTables[t]?e._allTables[t].hook:xn(null,{creating:[Vs,J],reading:[Ks,Jn],updating:[Ls,J],deleting:[js,J]})})}function pn(e,n){return!(e.filter||e.algorithm||e.or)&&(n?e.justLimit:!e.replayFilter)}function fr(e,n){e.filter=cn(e.filter,n)}function dr(e,n,t){var r=e.replayFilter;e.replayFilter=r?function(){return cn(r(),n())}:n,e.justLimit=t&&!r}function rc(e,n){e.isMatch=cn(e.isMatch,n)}function Tt(e,n){if(e.isPrimKey)return n.primaryKey;var t=n.getIndexByKeyPath(e.index);if(!t)throw new F.Schema("KeyPath "+e.index+" on object store "+n.name+" is not indexed");return t}function Fa(e,n,t){var r=Tt(e,n.schema);return n.openCursor({trans:t,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function st(e,n,t,r){var a=e.replayFilter?cn(e.filter,e.replayFilter()):e.filter;if(e.or){var o={},i=function(u,l,s){if(!a||a(l,s,function(f){return l.stop(f)},function(f){return l.fail(f)})){var c=l.primaryKey,d=""+c;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(c)),Se(o,d)||(o[d]=!0,n(u,l,s))}};return Promise.all([e.or._iterate(i,t),Ra(Fa(e,r,t),e.algorithm,i,!e.keysOnly&&e.valueMapper)])}else return Ra(Fa(e,r,t),cn(e.algorithm,a),n,!e.keysOnly&&e.valueMapper)}function Ra(e,n,t,r){var a=r?function(i,u,l){return t(r(i),u,l)}:t,o=x(a);return e.then(function(i){if(i)return i.start(function(){var u=function(){return i.continue()};(!n||n(i,function(l){return u=l},function(l){i.stop(l),u=J},function(l){i.fail(l),u=J}))&&o(i.value,i,function(l){return u=l}),u()})})}function de(e,n){try{var t=Ma(e),r=Ma(n);if(t!==r)return t==="Array"?1:r==="Array"?-1:t==="binary"?1:r==="binary"?-1:t==="string"?1:r==="string"?-1:t==="Date"?1:r!=="Date"?NaN:-1;switch(t){case"number":case"Date":case"string":return e>n?1:e<n?-1:0;case"binary":return oc(Ka(e),Ka(n));case"Array":return ac(e,n)}}catch{}return NaN}function ac(e,n){for(var t=e.length,r=n.length,a=t<r?t:r,o=0;o<a;++o){var i=de(e[o],n[o]);if(i!==0)return i}return t===r?0:t<r?-1:1}function oc(e,n){for(var t=e.length,r=n.length,a=t<r?t:r,o=0;o<a;++o)if(e[o]!==n[o])return e[o]<n[o]?-1:1;return t===r?0:t<r?-1:1}function Ma(e){var n=typeof e;if(n!=="object")return n;if(ArrayBuffer.isView(e))return"binary";var t=Pr(e);return t==="ArrayBuffer"?"binary":t}function Ka(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var ic=function(){function e(){}return e.prototype._read=function(n,t){var r=this._ctx;return r.error?r.table._trans(null,ae.bind(null,r.error)):r.table._trans("readonly",n).then(t)},e.prototype._write=function(n){var t=this._ctx;return t.error?t.table._trans(null,ae.bind(null,t.error)):t.table._trans("readwrite",n,"locked")},e.prototype._addAlgorithm=function(n){var t=this._ctx;t.algorithm=cn(t.algorithm,n)},e.prototype._iterate=function(n,t){return st(this._ctx,n,t,this._ctx.table.core)},e.prototype.clone=function(n){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return n&&me(r,n),t._ctx=r,t},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(n){var t=this._ctx;return this._read(function(r){return st(t,n,r,t.table.core)})},e.prototype.count=function(n){var t=this;return this._read(function(r){var a=t._ctx,o=a.table.core;if(pn(a,!0))return o.count({trans:r,query:{index:Tt(a,o.schema),range:a.range}}).then(function(u){return Math.min(u,a.limit)});var i=0;return st(a,function(){return++i,!1},r,o).then(function(){return i})}).then(n)},e.prototype.sortBy=function(n,t){var r=n.split(".").reverse(),a=r[0],o=r.length-1;function i(s,c){return c?i(s[r[c]],c-1):s[a]}var u=this._ctx.dir==="next"?1:-1;function l(s,c){var d=i(s,o),f=i(c,o);return d<f?-u:d>f?u:0}return this.toArray(function(s){return s.sort(l)}).then(t)},e.prototype.toArray=function(n){var t=this;return this._read(function(r){var a=t._ctx;if(a.dir==="next"&&pn(a,!0)&&a.limit>0){var o=a.valueMapper,i=Tt(a,a.table.core.schema);return a.table.core.query({trans:r,limit:a.limit,values:!0,query:{index:i,range:a.range}}).then(function(l){var s=l.result;return o?s.map(o):s})}else{var u=[];return st(a,function(l){return u.push(l)},r,a.table.core).then(function(){return u})}},n)},e.prototype.offset=function(n){var t=this._ctx;return n<=0?this:(t.offset+=n,pn(t)?dr(t,function(){var r=n;return function(a,o){return r===0?!0:r===1?(--r,!1):(o(function(){a.advance(r),r=0}),!1)}}):dr(t,function(){var r=n;return function(){return--r<0}}),this)},e.prototype.limit=function(n){return this._ctx.limit=Math.min(this._ctx.limit,n),dr(this._ctx,function(){var t=n;return function(r,a,o){return--t<=0&&a(o),t>=0}},!0),this},e.prototype.until=function(n,t){return fr(this._ctx,function(r,a,o){return n(r.value)?(a(o),t):!0}),this},e.prototype.first=function(n){return this.limit(1).toArray(function(t){return t[0]}).then(n)},e.prototype.last=function(n){return this.reverse().first(n)},e.prototype.filter=function(n){return fr(this._ctx,function(t){return n(t.value)}),rc(this._ctx,n),this},e.prototype.and=function(n){return this.filter(n)},e.prototype.or=function(n){return new this.db.WhereClause(this._ctx.table,n,this)},e.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(n){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(r,a){n(a.key,a)})},e.prototype.eachUniqueKey=function(n){return this._ctx.unique="unique",this.eachKey(n)},e.prototype.eachPrimaryKey=function(n){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(r,a){n(a.primaryKey,a)})},e.prototype.keys=function(n){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each(function(a,o){r.push(o.key)}).then(function(){return r}).then(n)},e.prototype.primaryKeys=function(n){var t=this._ctx;if(t.dir==="next"&&pn(t,!0)&&t.limit>0)return this._read(function(a){var o=Tt(t,t.table.core.schema);return t.table.core.query({trans:a,values:!1,limit:t.limit,query:{index:o,range:t.range}})}).then(function(a){var o=a.result;return o}).then(n);t.keysOnly=!t.isMatch;var r=[];return this.each(function(a,o){r.push(o.primaryKey)}).then(function(){return r}).then(n)},e.prototype.uniqueKeys=function(n){return this._ctx.unique="unique",this.keys(n)},e.prototype.firstKey=function(n){return this.limit(1).keys(function(t){return t[0]}).then(n)},e.prototype.lastKey=function(n){return this.reverse().firstKey(n)},e.prototype.distinct=function(){var n=this._ctx,t=n.index&&n.table.schema.idxByName[n.index];if(!t||!t.multi)return this;var r={};return fr(this._ctx,function(a){var o=a.primaryKey.toString(),i=Se(r,o);return r[o]=!0,!i}),this},e.prototype.modify=function(n){var t=this,r=this._ctx;return this._write(function(a){var o;if(typeof n=="function")o=n;else{var i=te(n),u=i.length;o=function(C){for(var b=!1,y=0;y<u;++y){var S=i[y],w=n[S];ze(C,S)!==w&&(Te(C,S,w),b=!0)}return b}}var l=r.table.core,s=l.schema.primaryKey,c=s.outbound,d=s.extractKey,f=t.db._options.modifyChunkSize||200,p=[],v=0,h=[],g=function(C,b){var y=b.failures,S=b.numFailures;v+=C-S;for(var w=0,m=te(y);w<m.length;w++){var P=m[w];p.push(y[P])}};return t.clone().primaryKeys().then(function(C){var b=function(y){var S=Math.min(f,C.length-y);return l.getMany({trans:a,keys:C.slice(y,y+S),cache:"immutable"}).then(function(w){for(var m=[],P=[],_=c?[]:null,T=[],E=0;E<S;++E){var D=w[E],U={value:qn(D),primKey:C[y+E]};o.call(U,U.value,U)!==!1&&(U.value==null?T.push(C[y+E]):!c&&de(d(D),d(U.value))!==0?(T.push(C[y+E]),m.push(U.value)):(P.push(U.value),c&&_.push(C[y+E])))}var H=pn(r)&&r.limit===1/0&&(typeof n!="function"||n===vr)&&{index:r.index,range:r.range};return Promise.resolve(m.length>0&&l.mutate({trans:a,type:"add",values:m}).then(function(oe){for(var V in oe.failures)T.splice(parseInt(V),1);g(m.length,oe)})).then(function(){return(P.length>0||H&&typeof n=="object")&&l.mutate({trans:a,type:"put",keys:_,values:P,criteria:H,changeSpec:typeof n!="function"&&n}).then(function(oe){return g(P.length,oe)})}).then(function(){return(T.length>0||H&&n===vr)&&l.mutate({trans:a,type:"delete",keys:T,criteria:H}).then(function(oe){return g(T.length,oe)})}).then(function(){return C.length>y+S&&b(y+f)})})};return b(0).then(function(){if(p.length>0)throw new Ft("Error modifying one or more objects",p,v,h);return C.length})})})},e.prototype.delete=function(){var n=this._ctx,t=n.range;return pn(n)&&(n.isPrimKey&&!ec||t.type===3)?this._write(function(r){var a=n.table.core.schema.primaryKey,o=t;return n.table.core.count({trans:r,query:{index:a,range:o}}).then(function(i){return n.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(function(u){var l=u.failures;u.lastResult,u.results;var s=u.numFailures;if(s)throw new Ft("Could not delete some values",Object.keys(l).map(function(c){return l[c]}),i-s);return i-s})})}):this.modify(vr)},e}(),vr=function(e,n){return n.value=null};function uc(e){return et(ic.prototype,function(t,r){this.db=e;var a=ji,o=null;if(r)try{a=r()}catch(s){o=s}var i=t._ctx,u=i.table,l=u.hook.reading.fire;this._ctx={table:u,index:i.index,isPrimKey:!i.index||u.schema.primKey.keyPath&&i.index===u.schema.primKey.name,range:a,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:o,or:i.or,valueMapper:l!==Jn?l:null}})}function lc(e,n){return e<n?-1:e===n?0:1}function sc(e,n){return e>n?-1:e===n?0:1}function Oe(e,n,t){var r=e instanceof Ni?new e.Collection(e):e;return r._ctx.error=t?new t(n):new TypeError(n),r}function hn(e){return new e.Collection(e,function(){return Li("")}).limit(0)}function cc(e){return e==="next"?function(n){return n.toUpperCase()}:function(n){return n.toLowerCase()}}function fc(e){return e==="next"?function(n){return n.toLowerCase()}:function(n){return n.toUpperCase()}}function dc(e,n,t,r,a,o){for(var i=Math.min(e.length,r.length),u=-1,l=0;l<i;++l){var s=n[l];if(s!==r[l])return a(e[l],t[l])<0?e.substr(0,l)+t[l]+t.substr(l+1):a(e[l],r[l])<0?e.substr(0,l)+r[l]+t.substr(l+1):u>=0?e.substr(0,u)+n[u]+t.substr(u+1):null;a(e[l],s)<0&&(u=l)}return i<r.length&&o==="next"?e+t.substr(e.length):i<e.length&&o==="prev"?e.substr(0,t.length):u<0?null:e.substr(0,u)+r[u]+t.substr(u+1)}function ct(e,n,t,r){var a,o,i,u,l,s,c,d=t.length;if(!t.every(function(h){return typeof h=="string"}))return Oe(e,Ki);function f(h){a=cc(h),o=fc(h),i=h==="next"?lc:sc;var g=t.map(function(C){return{lower:o(C),upper:a(C)}}).sort(function(C,b){return i(C.lower,b.lower)});u=g.map(function(C){return C.upper}),l=g.map(function(C){return C.lower}),s=h,c=h==="next"?"":r}f("next");var p=new e.Collection(e,function(){return He(u[0],l[d-1]+r)});p._ondirectionchange=function(h){f(h)};var v=0;return p._addAlgorithm(function(h,g,C){var b=h.key;if(typeof b!="string")return!1;var y=o(b);if(n(y,l,v))return!0;for(var S=null,w=v;w<d;++w){var m=dc(b,y,u[w],l[w],i,s);m===null&&S===null?v=w+1:(S===null||i(S,m)>0)&&(S=m)}return g(S!==null?function(){h.continue(S+c)}:C),!1}),p}function He(e,n,t,r){return{type:2,lower:e,upper:n,lowerOpen:t,upperOpen:r}}function Li(e){return{type:1,lower:e,upper:e}}var Ni=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),e.prototype.between=function(n,t,r,a){r=r!==!1,a=a===!0;try{return this._cmp(n,t)>0||this._cmp(n,t)===0&&(r||a)&&!(r&&a)?hn(this):new this.Collection(this,function(){return He(n,t,!r,!a)})}catch{return Oe(this,Me)}},e.prototype.equals=function(n){return n==null?Oe(this,Me):new this.Collection(this,function(){return Li(n)})},e.prototype.above=function(n){return n==null?Oe(this,Me):new this.Collection(this,function(){return He(n,void 0,!0)})},e.prototype.aboveOrEqual=function(n){return n==null?Oe(this,Me):new this.Collection(this,function(){return He(n,void 0,!1)})},e.prototype.below=function(n){return n==null?Oe(this,Me):new this.Collection(this,function(){return He(void 0,n,!1,!0)})},e.prototype.belowOrEqual=function(n){return n==null?Oe(this,Me):new this.Collection(this,function(){return He(void 0,n)})},e.prototype.startsWith=function(n){return typeof n!="string"?Oe(this,Ki):this.between(n,n+an,!0,!0)},e.prototype.startsWithIgnoreCase=function(n){return n===""?this.startsWith(n):ct(this,function(t,r){return t.indexOf(r[0])===0},[n],an)},e.prototype.equalsIgnoreCase=function(n){return ct(this,function(t,r){return t===r[0]},[n],"")},e.prototype.anyOfIgnoreCase=function(){var n=Ve.apply(yn,arguments);return n.length===0?hn(this):ct(this,function(t,r){return r.indexOf(t)!==-1},n,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var n=Ve.apply(yn,arguments);return n.length===0?hn(this):ct(this,function(t,r){return r.some(function(a){return t.indexOf(a)===0})},n,an)},e.prototype.anyOf=function(){var n=this,t=Ve.apply(yn,arguments),r=this._cmp;try{t.sort(r)}catch{return Oe(this,Me)}if(t.length===0)return hn(this);var a=new this.Collection(this,function(){return He(t[0],t[t.length-1])});a._ondirectionchange=function(i){r=i==="next"?n._ascending:n._descending,t.sort(r)};var o=0;return a._addAlgorithm(function(i,u,l){for(var s=i.key;r(s,t[o])>0;)if(++o,o===t.length)return u(l),!1;return r(s,t[o])===0?!0:(u(function(){i.continue(t[o])}),!1)}),a},e.prototype.notEqual=function(n){return this.inAnyRange([[Mr,n],[n,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var n=Ve.apply(yn,arguments);if(n.length===0)return new this.Collection(this);try{n.sort(this._ascending)}catch{return Oe(this,Me)}var t=n.reduce(function(r,a){return r?r.concat([[r[r.length-1][1],a]]):[[Mr,a]]},null);return t.push([n[n.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(n,t){var r=this,a=this._cmp,o=this._ascending,i=this._descending,u=this._min,l=this._max;if(n.length===0)return hn(this);if(!n.every(function(w){return w[0]!==void 0&&w[1]!==void 0&&o(w[0],w[1])<=0}))return Oe(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",F.InvalidArgument);var s=!t||t.includeLowers!==!1,c=t&&t.includeUppers===!0;function d(w,m){for(var P=0,_=w.length;P<_;++P){var T=w[P];if(a(m[0],T[1])<0&&a(m[1],T[0])>0){T[0]=u(T[0],m[0]),T[1]=l(T[1],m[1]);break}}return P===_&&w.push(m),w}var f=o;function p(w,m){return f(w[0],m[0])}var v;try{v=n.reduce(d,[]),v.sort(p)}catch{return Oe(this,Me)}var h=0,g=c?function(w){return o(w,v[h][1])>0}:function(w){return o(w,v[h][1])>=0},C=s?function(w){return i(w,v[h][0])>0}:function(w){return i(w,v[h][0])>=0};function b(w){return!g(w)&&!C(w)}var y=g,S=new this.Collection(this,function(){return He(v[0][0],v[v.length-1][1],!s,!c)});return S._ondirectionchange=function(w){w==="next"?(y=g,f=o):(y=C,f=i),v.sort(p)},S._addAlgorithm(function(w,m,P){for(var _=w.key;y(_);)if(++h,h===v.length)return m(P),!1;return b(_)?!0:(r._cmp(_,v[h][1])===0||r._cmp(_,v[h][0])===0||m(function(){f===o?w.continue(v[h][0]):w.continue(v[h][1])}),!1)}),S},e.prototype.startsWithAnyOf=function(){var n=Ve.apply(yn,arguments);return n.every(function(t){return typeof t=="string"})?n.length===0?hn(this):this.inAnyRange(n.map(function(t){return[t,t+an]})):Oe(this,"startsWithAnyOf() only works with strings")},e}();function vc(e){return et(Ni.prototype,function(t,r,a){this.db=e,this._ctx={table:t,index:r===":id"?null:r,or:a};var o=e._deps.indexedDB;if(!o)throw new F.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(i,u){return o.cmp(u,i)},this._max=function(i,u){return o.cmp(i,u)>0?i:u},this._min=function(i,u){return o.cmp(i,u)<0?i:u},this._IDBKeyRange=e._deps.IDBKeyRange})}function Ie(e){return x(function(n){return Wn(n),e(n.target.error),!1})}function Wn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Hn="storagemutated",qe="x-storagemutated-1",xe=xn(null,Hn),pc=function(){function e(){}return e.prototype._lock=function(){return Dn(!I.global),++this._reculock,this._reculock===1&&!I.global&&(I.lockOwnerFor=this),this},e.prototype._unlock=function(){if(Dn(!I.global),--this._reculock===0)for(I.global||(I.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var n=this._blockedFuncs.shift();try{Tn(n[1],n[0])}catch{}}return this},e.prototype._locked=function(){return this._reculock&&I.lockOwnerFor!==this},e.prototype.create=function(n){var t=this;if(!this.mode)return this;var r=this.db.idbdb,a=this.db._state.dbOpenError;if(Dn(!this.idbtrans),!n&&!r)switch(a&&a.name){case"DatabaseClosedError":throw new F.DatabaseClosed(a);case"MissingAPIError":throw new F.MissingAPI(a.message,a);default:throw new F.OpenFailed(a)}if(!this.active)throw new F.TransactionInactive;return Dn(this._completion._state===null),n=this.idbtrans=n||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),n.onerror=x(function(o){Wn(o),t._reject(n.error)}),n.onabort=x(function(o){Wn(o),t.active&&t._reject(new F.Abort(n.error)),t.active=!1,t.on("abort").fire(o)}),n.oncomplete=x(function(){t.active=!1,t._resolve(),"mutatedParts"in n&&xe.storagemutated.fire(n.mutatedParts)}),this},e.prototype._promise=function(n,t,r){var a=this;if(n==="readwrite"&&this.mode!=="readwrite")return ae(new F.ReadOnly("Transaction is readonly"));if(!this.active)return ae(new F.TransactionInactive);if(this._locked())return new k(function(i,u){a._blockedFuncs.push([function(){a._promise(n,t,r).then(i,u)},I])});if(r)return Qe(function(){var i=new k(function(u,l){a._lock();var s=t(u,l,a);s&&s.then&&s.then(u,l)});return i.finally(function(){return a._unlock()}),i._lib=!0,i});var o=new k(function(i,u){var l=t(i,u,a);l&&l.then&&l.then(i,u)});return o._lib=!0,o},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(n){var t=this._root(),r=k.resolve(n);if(t._waitingFor)t._waitingFor=t._waitingFor.then(function(){return r});else{t._waitingFor=r,t._waitingQueue=[];var a=t.idbtrans.objectStore(t.storeNames[0]);(function i(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(a.get(-1/0).onsuccess=i)})()}var o=t._waitingFor;return new k(function(i,u){r.then(function(l){return t._waitingQueue.push(x(i.bind(null,l)))},function(l){return t._waitingQueue.push(x(u.bind(null,l)))}).finally(function(){t._waitingFor===o&&(t._waitingFor=null)})})},e.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new F.Abort))},e.prototype.table=function(n){var t=this._memoizedTables||(this._memoizedTables={});if(Se(t,n))return t[n];var r=this.schema[n];if(!r)throw new F.NotFound("Table "+n+" not part of transaction");var a=new this.db.Table(n,r,this);return a.core=this.db.core.table(n),t[n]=a,a},e}();function hc(e){return et(pc.prototype,function(t,r,a,o,i){var u=this;this.db=e,this.mode=t,this.storeNames=r,this.schema=a,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=xn(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new k(function(l,s){u._resolve=l,u._reject=s}),this._completion.then(function(){u.active=!1,u.on.complete.fire()},function(l){var s=u.active;return u.active=!1,u.on.error.fire(l),u.parent?u.parent._reject(l):s&&u.idbtrans&&u.idbtrans.abort(),ae(l)})})}function Kr(e,n,t,r,a,o,i){return{name:e,keyPath:n,unique:t,multi:r,auto:a,compound:o,src:(t&&!i?"&":"")+(r?"*":"")+(a?"++":"")+zi(n)}}function zi(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Ui(e,n,t){return{name:e,primKey:n,indexes:t,mappedClass:null,idxByName:wi(t,function(r){return[r.name,r]})}}function mc(e){return e.length===1?e[0]:e}var Yn=function(e){try{return e.only([[]]),Yn=function(){return[[]]},[[]]}catch{return Yn=function(){return an},an}};function Vr(e){return e==null?function(){}:typeof e=="string"?yc(e):function(n){return ze(n,e)}}function yc(e){var n=e.split(".");return n.length===1?function(t){return t[e]}:function(t){return ze(t,e)}}function Va(e){return[].slice.call(e)}var gc=0;function Mn(e){return e==null?":id":typeof e=="string"?e:"["+e.join("+")+"]"}function bc(e,n,t){function r(d,f){var p=Va(d.objectStoreNames);return{schema:{name:d.name,tables:p.map(function(v){return f.objectStore(v)}).map(function(v){var h=v.keyPath,g=v.autoIncrement,C=se(h),b=h==null,y={},S={name:v.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:b,compound:C,keyPath:h,autoIncrement:g,unique:!0,extractKey:Vr(h)},indexes:Va(v.indexNames).map(function(w){return v.index(w)}).map(function(w){var m=w.name,P=w.unique,_=w.multiEntry,T=w.keyPath,E=se(T),D={name:m,compound:E,keyPath:T,unique:P,multiEntry:_,extractKey:Vr(T)};return y[Mn(T)]=D,D}),getIndexByKeyPath:function(w){return y[Mn(w)]}};return y[":id"]=S.primaryKey,h!=null&&(y[Mn(h)]=S.primaryKey),S})},hasGetAll:p.length>0&&"getAll"in f.objectStore(p[0])&&!(typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function a(d){if(d.type===3)return null;if(d.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var f=d.lower,p=d.upper,v=d.lowerOpen,h=d.upperOpen,g=f===void 0?p===void 0?null:n.upperBound(p,!!h):p===void 0?n.lowerBound(f,!!v):n.bound(f,p,!!v,!!h);return g}function o(d){var f=d.name;function p(g){var C=g.trans,b=g.type,y=g.keys,S=g.values,w=g.range;return new Promise(function(m,P){m=x(m);var _=C.objectStore(f),T=_.keyPath==null,E=b==="put"||b==="add";if(!E&&b!=="delete"&&b!=="deleteRange")throw new Error("Invalid operation type: "+b);var D=(y||S||{length:1}).length;if(y&&S&&y.length!==S.length)throw new Error("Given keys array must have same length as given values array.");if(D===0)return m({numFailures:0,failures:{},results:[],lastResult:void 0});var U,H=[],oe=[],V=0,ce=function(we){++V,Wn(we)};if(b==="deleteRange"){if(w.type===4)return m({numFailures:V,failures:oe,results:[],lastResult:void 0});w.type===3?H.push(U=_.clear()):H.push(U=_.delete(a(w)))}else{var ge=E?T?[S,y]:[S,null]:[y,null],Ae=ge[0],be=ge[1];if(E)for(var fe=0;fe<D;++fe)H.push(U=be&&be[fe]!==void 0?_[b](Ae[fe],be[fe]):_[b](Ae[fe])),U.onerror=ce;else for(var fe=0;fe<D;++fe)H.push(U=_[b](Ae[fe])),U.onerror=ce}var ke=function(we){var W=we.target.result;H.forEach(function(R,q){return R.error!=null&&(oe[q]=R.error)}),m({numFailures:V,failures:oe,results:b==="delete"?y:H.map(function(R){return R.result}),lastResult:W})};U.onerror=function(we){ce(we),ke(we)},U.onsuccess=ke})}function v(g){var C=g.trans,b=g.values,y=g.query,S=g.reverse,w=g.unique;return new Promise(function(m,P){m=x(m);var _=y.index,T=y.range,E=C.objectStore(f),D=_.isPrimaryKey?E:E.index(_.name),U=S?w?"prevunique":"prev":w?"nextunique":"next",H=b||!("openKeyCursor"in D)?D.openCursor(a(T),U):D.openKeyCursor(a(T),U);H.onerror=Ie(P),H.onsuccess=x(function(oe){var V=H.result;if(!V){m(null);return}V.___id=++gc,V.done=!1;var ce=V.continue.bind(V),ge=V.continuePrimaryKey;ge&&(ge=ge.bind(V));var Ae=V.advance.bind(V),be=function(){throw new Error("Cursor not started")},fe=function(){throw new Error("Cursor not stopped")};V.trans=C,V.stop=V.continue=V.continuePrimaryKey=V.advance=be,V.fail=x(P),V.next=function(){var ke=this,we=1;return this.start(function(){return we--?ke.continue():ke.stop()}).then(function(){return ke})},V.start=function(ke){var we=new Promise(function(R,q){R=x(R),H.onerror=Ie(q),V.fail=q,V.stop=function(ee){V.stop=V.continue=V.continuePrimaryKey=V.advance=fe,R(ee)}}),W=function(){if(H.result)try{ke()}catch(R){V.fail(R)}else V.done=!0,V.start=function(){throw new Error("Cursor behind last entry")},V.stop()};return H.onsuccess=x(function(R){H.onsuccess=W,W()}),V.continue=ce,V.continuePrimaryKey=ge,V.advance=Ae,W(),we},m(V)},P)})}function h(g){return function(C){return new Promise(function(b,y){b=x(b);var S=C.trans,w=C.values,m=C.limit,P=C.query,_=m===1/0?void 0:m,T=P.index,E=P.range,D=S.objectStore(f),U=T.isPrimaryKey?D:D.index(T.name),H=a(E);if(m===0)return b({result:[]});if(g){var oe=w?U.getAll(H,_):U.getAllKeys(H,_);oe.onsuccess=function(Ae){return b({result:Ae.target.result})},oe.onerror=Ie(y)}else{var V=0,ce=w||!("openKeyCursor"in U)?U.openCursor(H):U.openKeyCursor(H),ge=[];ce.onsuccess=function(Ae){var be=ce.result;if(!be)return b({result:ge});if(ge.push(w?be.value:be.primaryKey),++V===m)return b({result:ge});be.continue()},ce.onerror=Ie(y)}})}}return{name:f,schema:d,mutate:p,getMany:function(g){var C=g.trans,b=g.keys;return new Promise(function(y,S){y=x(y);for(var w=C.objectStore(f),m=b.length,P=new Array(m),_=0,T=0,E,D=function(V){var ce=V.target;(P[ce._pos]=ce.result)!=null,++T===_&&y(P)},U=Ie(S),H=0;H<m;++H){var oe=b[H];oe!=null&&(E=w.get(b[H]),E._pos=H,E.onsuccess=D,E.onerror=U,++_)}_===0&&y(P)})},get:function(g){var C=g.trans,b=g.key;return new Promise(function(y,S){y=x(y);var w=C.objectStore(f),m=w.get(b);m.onsuccess=function(P){return y(P.target.result)},m.onerror=Ie(S)})},query:h(l),openCursor:v,count:function(g){var C=g.query,b=g.trans,y=C.index,S=C.range;return new Promise(function(w,m){var P=b.objectStore(f),_=y.isPrimaryKey?P:P.index(y.name),T=a(S),E=T?_.count(T):_.count();E.onsuccess=x(function(D){return w(D.target.result)}),E.onerror=Ie(m)})}}}var i=r(e,t),u=i.schema,l=i.hasGetAll,s=u.tables.map(function(d){return o(d)}),c={};return s.forEach(function(d){return c[d.name]=d}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(d){var f=c[d];if(!f)throw new Error("Table '"+d+"' not found");return c[d]},MIN_KEY:-1/0,MAX_KEY:Yn(n),schema:u}}function wc(e,n){return n.reduce(function(t,r){var a=r.create;return Y(Y({},t),a(t))},e)}function Oc(e,n,t,r){var a=t.IDBKeyRange;t.indexedDB;var o=wc(bc(n,a,r),e.dbcore);return{dbcore:o}}function da(e,n){var t=e._novip,r=n.db,a=Oc(t._middlewares,r,t._deps,n);t.core=a.dbcore,t.tables.forEach(function(o){var i=o.name;t.core.schema.tables.some(function(u){return u.name===i})&&(o.core=t.core.table(i),t[i]instanceof t.Table&&(t[i].core=o.core))})}function Lt(e,n,t,r){var a=e._novip;t.forEach(function(o){var i=r[o];n.forEach(function(u){var l=ra(u,o);(!l||"value"in l&&l.value===void 0)&&(u===a.Transaction.prototype||u instanceof a.Transaction?Ue(u,o,{get:function(){return this.table(o)},set:function(s){yi(this,o,{value:s,writable:!0,configurable:!0,enumerable:!0})}}):u[o]=new a.Table(o,i))})})}function jr(e,n){var t=e._novip;n.forEach(function(r){for(var a in r)r[a]instanceof t.Table&&delete r[a]})}function Cc(e,n){return e._cfg.version-n._cfg.version}function Sc(e,n,t,r){var a=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,a);o.create(t),o._completion.catch(r);var i=o._reject.bind(o),u=I.transless||I;Qe(function(){I.trans=o,I.transless=u,n===0?(te(a).forEach(function(l){va(t,l,a[l].primKey,a[l].indexes)}),da(e,t),k.follow(function(){return e.on.populate.fire(o)}).catch(i)):Pc(e,n,o,t).catch(i)})}function Pc(e,n,t,r){var a=e._novip,o=[],i=a._versions,u=a._dbSchema=pa(a,a.idbdb,r),l=!1,s=i.filter(function(d){return d._cfg.version>=n});s.forEach(function(d){o.push(function(){var f=u,p=d._cfg.dbschema;Nr(a,f,r),Nr(a,p,r),u=a._dbSchema=p;var v=Wi(f,p);v.add.forEach(function(S){va(r,S[0],S[1].primKey,S[1].indexes)}),v.change.forEach(function(S){if(S.recreate)throw new F.Upgrade("Not yet support for changing primary key");var w=r.objectStore(S.name);S.add.forEach(function(m){return Lr(w,m)}),S.change.forEach(function(m){w.deleteIndex(m.name),Lr(w,m)}),S.del.forEach(function(m){return w.deleteIndex(m)})});var h=d._cfg.contentUpgrade;if(h&&d._cfg.version>n){da(a,r),t._memoizedTables={},l=!0;var g=Oi(p);v.del.forEach(function(S){g[S]=f[S]}),jr(a,[a.Transaction.prototype]),Lt(a,[a.Transaction.prototype],te(g),g),t.schema=g;var C=aa(h);C&&$n();var b,y=k.follow(function(){if(b=h(t),b&&C){var S=We.bind(null,null);b.then(S,S)}});return b&&typeof b.then=="function"?k.resolve(b):y.then(function(){return b})}}),o.push(function(f){if(!l||!xs){var p=d._cfg.dbschema;Ec(p,f)}jr(a,[a.Transaction.prototype]),Lt(a,[a.Transaction.prototype],a._storeNames,a._dbSchema),t.schema=a._dbSchema})});function c(){return o.length?k.resolve(o.shift()(t.idbtrans)).then(c):k.resolve()}return c().then(function(){_c(u,r)})}function Wi(e,n){var t={del:[],add:[],change:[]},r;for(r in e)n[r]||t.del.push(r);for(r in n){var a=e[r],o=n[r];if(!a)t.add.push([r,o]);else{var i={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(a.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||a.primKey.auto!==o.primKey.auto&&!xt)i.recreate=!0,t.change.push(i);else{var u=a.idxByName,l=o.idxByName,s=void 0;for(s in u)l[s]||i.del.push(s);for(s in l){var c=u[s],d=l[s];c?c.src!==d.src&&i.change.push(d):i.add.push(d)}(i.del.length>0||i.add.length>0||i.change.length>0)&&t.change.push(i)}}}return t}function va(e,n,t,r){var a=e.db.createObjectStore(n,t.keyPath?{keyPath:t.keyPath,autoIncrement:t.auto}:{autoIncrement:t.auto});return r.forEach(function(o){return Lr(a,o)}),a}function _c(e,n){te(e).forEach(function(t){n.db.objectStoreNames.contains(t)||va(n,t,e[t].primKey,e[t].indexes)})}function Ec(e,n){[].slice.call(n.db.objectStoreNames).forEach(function(t){return e[t]==null&&n.db.deleteObjectStore(t)})}function Lr(e,n){e.createIndex(n.name,n.keyPath,{unique:n.unique,multiEntry:n.multi})}function pa(e,n,t){var r={},a=Qt(n.objectStoreNames,0);return a.forEach(function(o){for(var i=t.objectStore(o),u=i.keyPath,l=Kr(zi(u),u||"",!1,!1,!!i.autoIncrement,u&&typeof u!="string",!0),s=[],c=0;c<i.indexNames.length;++c){var d=i.index(i.indexNames[c]);u=d.keyPath;var f=Kr(d.name,u,!!d.unique,!!d.multiEntry,!1,u&&typeof u!="string",!1);s.push(f)}r[o]=Ui(o,l,s)}),r}function kc(e,n,t){var r=e._novip;r.verno=n.version/10;var a=r._dbSchema=pa(r,n,t);r._storeNames=Qt(n.objectStoreNames,0),Lt(r,[r._allTables],te(a),a)}function $c(e,n){var t=pa(e,e.idbdb,n),r=Wi(t,e._dbSchema);return!(r.add.length||r.change.some(function(a){return a.add.length||a.change.length}))}function Nr(e,n,t){for(var r=e._novip,a=t.db.objectStoreNames,o=0;o<a.length;++o){var i=a[o],u=t.objectStore(i);r._hasGetAll="getAll"in u;for(var l=0;l<u.indexNames.length;++l){var s=u.indexNames[l],c=u.index(s).keyPath,d=typeof c=="string"?c:"["+Qt(c).join("+")+"]";if(n[i]){var f=n[i].idxByName[d];f&&(f.name=s,delete n[i].idxByName[d],n[i].idxByName[s]=f)}}}typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Z.WorkerGlobalScope&&Z instanceof Z.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function Tc(e){return e.split(",").map(function(n,t){n=n.trim();var r=n.replace(/([&*]|\+\+)/g,""),a=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return Kr(r,a||null,/\&/.test(n),/\*/.test(n),/\+\+/.test(n),se(a),t===0)})}var Dc=function(){function e(){}return e.prototype._parseStoresSpec=function(n,t){te(n).forEach(function(r){if(n[r]!==null){var a=Tc(n[r]),o=a.shift();if(o.multi)throw new F.Schema("Primary key cannot be multi-valued");a.forEach(function(i){if(i.auto)throw new F.Schema("Only primary key can be marked as autoIncrement (++)");if(!i.keyPath)throw new F.Schema("Index must have a name and cannot be an empty string")}),t[r]=Ui(r,o,a)}})},e.prototype.stores=function(n){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?me(this._cfg.storesSource,n):n;var r=t._versions,a={},o={};return r.forEach(function(i){me(a,i._cfg.storesSource),o=i._cfg.dbschema={},i._parseStoresSpec(a,o)}),t._dbSchema=o,jr(t,[t._allTables,t,t.Transaction.prototype]),Lt(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],te(o),o),t._storeNames=te(o),this},e.prototype.upgrade=function(n){return this._cfg.contentUpgrade=ua(this._cfg.contentUpgrade||J,n),this},e}();function Ac(e){return et(Dc.prototype,function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function ha(e,n){var t=e._dbNamesDB;return t||(t=e._dbNamesDB=new ba(er,{addons:[],indexedDB:e,IDBKeyRange:n}),t.version(1).stores({dbnames:"name"})),t.table("dbnames")}function ma(e){return e&&typeof e.databases=="function"}function Ic(e){var n=e.indexedDB,t=e.IDBKeyRange;return ma(n)?Promise.resolve(n.databases()).then(function(r){return r.map(function(a){return a.name}).filter(function(a){return a!==er})}):ha(n,t).toCollection().primaryKeys()}function Bc(e,n){var t=e.indexedDB,r=e.IDBKeyRange;!ma(t)&&n!==er&&ha(t,r).put({name:n}).catch(J)}function Fc(e,n){var t=e.indexedDB,r=e.IDBKeyRange;!ma(t)&&n!==er&&ha(t,r).delete(n).catch(J)}function zr(e){return Qe(function(){return I.letThrough=!0,e()})}function Rc(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var n;return new Promise(function(t){var r=function(){return indexedDB.databases().finally(t)};n=setInterval(r,100),r()}).finally(function(){return clearInterval(n)})}function Mc(e){var n=e._state,t=e._deps.indexedDB;if(n.isBeingOpened||e.idbdb)return n.dbReadyPromise.then(function(){return n.dbOpenError?ae(n.dbOpenError):e});Re&&(n.openCanceller._stackHolder=dn()),n.isBeingOpened=!0,n.dbOpenError=null,n.openComplete=!1;var r=n.openCanceller;function a(){if(n.openCanceller!==r)throw new F.DatabaseClosed("db.open() was cancelled")}var o=n.dbReadyResolve,i=null,u=!1;return k.race([r,(typeof navigator=="undefined"?k.resolve():Rc()).then(function(){return new k(function(l,s){if(a(),!t)throw new F.MissingAPI;var c=e.name,d=n.autoSchema?t.open(c):t.open(c,Math.round(e.verno*10));if(!d)throw new F.MissingAPI;d.onerror=Ie(s),d.onblocked=x(e._fireOnBlocked),d.onupgradeneeded=x(function(f){if(i=d.transaction,n.autoSchema&&!e._options.allowEmptyDB){d.onerror=Wn,i.abort(),d.result.close();var p=t.deleteDatabase(c);p.onsuccess=p.onerror=x(function(){s(new F.NoSuchDatabase("Database "+c+" doesnt exist"))})}else{i.onerror=Ie(s);var v=f.oldVersion>Math.pow(2,62)?0:f.oldVersion;u=v<1,e._novip.idbdb=d.result,Sc(e,v/10,i,s)}},s),d.onsuccess=x(function(){i=null;var f=e._novip.idbdb=d.result,p=Qt(f.objectStoreNames);if(p.length>0)try{var v=f.transaction(mc(p),"readonly");n.autoSchema?kc(e,f,v):(Nr(e,e._dbSchema,v),$c(e,v)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),da(e,v)}catch{}Rn.push(e),f.onversionchange=x(function(h){n.vcFired=!0,e.on("versionchange").fire(h)}),f.onclose=x(function(h){e.on("close").fire(h)}),u&&Bc(e._deps,c),l()},s)})})]).then(function(){return a(),n.onReadyBeingFired=[],k.resolve(zr(function(){return e.on.ready.fire(e.vip)})).then(function l(){if(n.onReadyBeingFired.length>0){var s=n.onReadyBeingFired.reduce(ua,J);return n.onReadyBeingFired=[],k.resolve(zr(function(){return s(e.vip)})).then(l)}})}).finally(function(){n.onReadyBeingFired=null,n.isBeingOpened=!1}).then(function(){return e}).catch(function(l){n.dbOpenError=l;try{i&&i.abort()}catch{}return r===n.openCanceller&&e._close(),ae(l)}).finally(function(){n.openComplete=!0,o()})}function Ur(e){var n=function(i){return e.next(i)},t=function(i){return e.throw(i)},r=o(n),a=o(t);function o(i){return function(u){var l=i(u),s=l.value;return l.done?s:!s||typeof s.then!="function"?se(s)?Promise.all(s).then(r,a):r(s):s.then(r,a)}}return o(n)()}function Kc(e,n,t){var r=arguments.length;if(r<2)throw new F.InvalidArgument("Too few arguments");for(var a=new Array(r-1);--r;)a[r-1]=arguments[r];t=a.pop();var o=Ci(a);return[e,o,t]}function Hi(e,n,t,r,a){return k.resolve().then(function(){var o=I.transless||I,i=e._createTransaction(n,t,e._dbSchema,r),u={trans:i,transless:o};if(r)i.idbtrans=r.idbtrans;else try{i.create(),e._state.PR1398_maxLoop=3}catch(d){return d.name===ia.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return Hi(e,n,t,null,a)})):ae(d)}var l=aa(a);l&&$n();var s,c=k.follow(function(){if(s=a.call(i,i),s)if(l){var d=We.bind(null,null);s.then(d,d)}else typeof s.next=="function"&&typeof s.throw=="function"&&(s=Ur(s))},u);return(s&&typeof s.then=="function"?k.resolve(s).then(function(d){return i.active?d:ae(new F.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):c.then(function(){return s})).then(function(d){return r&&i._resolve(),i._completion.then(function(){return d})}).catch(function(d){return i._reject(d),ae(d)})})}function ft(e,n,t){for(var r=se(e)?e.slice():[e],a=0;a<t;++a)r.push(n);return r}function Vc(e){return Y(Y({},e),{table:function(n){var t=e.table(n),r=t.schema,a={},o=[];function i(h,g,C){var b=Mn(h),y=a[b]=a[b]||[],S=h==null?0:typeof h=="string"?1:h.length,w=g>0,m=Y(Y({},C),{isVirtual:w,keyTail:g,keyLength:S,extractKey:Vr(h),unique:!w&&C.unique});if(y.push(m),m.isPrimaryKey||o.push(m),S>1){var P=S===2?h[0]:h.slice(0,S-1);i(P,g+1,C)}return y.sort(function(_,T){return _.keyTail-T.keyTail}),m}var u=i(r.primaryKey.keyPath,0,r.primaryKey);a[":id"]=[u];for(var l=0,s=r.indexes;l<s.length;l++){var c=s[l];i(c.keyPath,0,c)}function d(h){var g=a[Mn(h)];return g&&g[0]}function f(h,g){return{type:h.type===1?2:h.type,lower:ft(h.lower,h.lowerOpen?e.MAX_KEY:e.MIN_KEY,g),lowerOpen:!0,upper:ft(h.upper,h.upperOpen?e.MIN_KEY:e.MAX_KEY,g),upperOpen:!0}}function p(h){var g=h.query.index;return g.isVirtual?Y(Y({},h),{query:{index:g,range:f(h.query.range,g.keyTail)}}):h}var v=Y(Y({},t),{schema:Y(Y({},r),{primaryKey:u,indexes:o,getIndexByKeyPath:d}),count:function(h){return t.count(p(h))},query:function(h){return t.query(p(h))},openCursor:function(h){var g=h.query.index,C=g.keyTail,b=g.isVirtual,y=g.keyLength;if(!b)return t.openCursor(h);function S(w){function m(_){_!=null?w.continue(ft(_,h.reverse?e.MAX_KEY:e.MIN_KEY,C)):h.unique?w.continue(w.key.slice(0,y).concat(h.reverse?e.MIN_KEY:e.MAX_KEY,C)):w.continue()}var P=Object.create(w,{continue:{value:m},continuePrimaryKey:{value:function(_,T){w.continuePrimaryKey(ft(_,e.MAX_KEY,C),T)}},primaryKey:{get:function(){return w.primaryKey}},key:{get:function(){var _=w.key;return y===1?_[0]:_.slice(0,y)}},value:{get:function(){return w.value}}});return P}return t.openCursor(p(h)).then(function(w){return w&&S(w)})}});return v}})}var jc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:Vc};function ya(e,n,t,r){return t=t||{},r=r||"",te(e).forEach(function(a){if(!Se(n,a))t[r+a]=void 0;else{var o=e[a],i=n[a];if(typeof o=="object"&&typeof i=="object"&&o&&i){var u=Pr(o),l=Pr(i);u!==l?t[r+a]=n[a]:u==="Object"?ya(o,i,t,r+a+"."):o!==i&&(t[r+a]=n[a])}else o!==i&&(t[r+a]=n[a])}}),te(n).forEach(function(a){Se(e,a)||(t[r+a]=n[a])}),t}function Lc(e,n){return n.type==="delete"?n.keys:n.keys||n.values.map(e.extractKey)}var Nc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return Y(Y({},e),{table:function(n){var t=e.table(n),r=t.schema.primaryKey,a=Y(Y({},t),{mutate:function(o){var i=I.trans,u=i.table(n).hook,l=u.deleting,s=u.creating,c=u.updating;switch(o.type){case"add":if(s.fire===J)break;return i._promise("readwrite",function(){return d(o)},!0);case"put":if(s.fire===J&&c.fire===J)break;return i._promise("readwrite",function(){return d(o)},!0);case"delete":if(l.fire===J)break;return i._promise("readwrite",function(){return d(o)},!0);case"deleteRange":if(l.fire===J)break;return i._promise("readwrite",function(){return f(o)},!0)}return t.mutate(o);function d(v){var h=I.trans,g=v.keys||Lc(r,v);if(!g)throw new Error("Keys missing");return v=v.type==="add"||v.type==="put"?Y(Y({},v),{keys:g}):Y({},v),v.type!=="delete"&&(v.values=Cr([],v.values,!0)),v.keys&&(v.keys=Cr([],v.keys,!0)),zc(t,v,g).then(function(C){var b=g.map(function(y,S){var w=C[S],m={onerror:null,onsuccess:null};if(v.type==="delete")l.fire.call(m,y,w,h);else if(v.type==="add"||w===void 0){var P=s.fire.call(m,y,v.values[S],h);y==null&&P!=null&&(y=P,v.keys[S]=y,r.outbound||Te(v.values[S],r.keyPath,y))}else{var _=ya(w,v.values[S]),T=c.fire.call(m,_,y,w,h);if(T){var E=v.values[S];Object.keys(T).forEach(function(D){Se(E,D)?E[D]=T[D]:Te(E,D,T[D])})}}return m});return t.mutate(v).then(function(y){for(var S=y.failures,w=y.results,m=y.numFailures,P=y.lastResult,_=0;_<g.length;++_){var T=w?w[_]:g[_],E=b[_];T==null?E.onerror&&E.onerror(S[_]):E.onsuccess&&E.onsuccess(v.type==="put"&&C[_]?v.values[_]:T)}return{failures:S,results:w,numFailures:m,lastResult:P}}).catch(function(y){return b.forEach(function(S){return S.onerror&&S.onerror(y)}),Promise.reject(y)})})}function f(v){return p(v.trans,v.range,1e4)}function p(v,h,g){return t.query({trans:v,values:!1,query:{index:r,range:h},limit:g}).then(function(C){var b=C.result;return d({type:"delete",keys:b,trans:v}).then(function(y){return y.numFailures>0?Promise.reject(y.failures[0]):b.length<g?{failures:[],numFailures:0,lastResult:void 0}:p(v,Y(Y({},h),{lower:b[b.length-1],lowerOpen:!0}),g)})})}}});return a}})}};function zc(e,n,t){return n.type==="add"?Promise.resolve([]):e.getMany({trans:n.trans,keys:t,cache:"immutable"})}function Yi(e,n,t){try{if(!n||n.keys.length<e.length)return null;for(var r=[],a=0,o=0;a<n.keys.length&&o<e.length;++a)de(n.keys[a],e[o])===0&&(r.push(t?qn(n.values[a]):n.values[a]),++o);return r.length===e.length?r:null}catch{return null}}var Uc={stack:"dbcore",level:-1,create:function(e){return{table:function(n){var t=e.table(n);return Y(Y({},t),{getMany:function(r){if(!r.cache)return t.getMany(r);var a=Yi(r.keys,r.trans._cache,r.cache==="clone");return a?k.resolve(a):t.getMany(r).then(function(o){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?qn(o):o},o})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),t.mutate(r)}})}}}},pr;function ga(e){return!("from"in e)}var Ke=function(e,n){if(this)me(this,arguments.length?{d:1,from:e,to:arguments.length>1?n:e}:{d:0});else{var t=new Ke;return e&&"d"in e&&me(t,e),t}};Cn(Ke.prototype,(pr={add:function(e){return Nt(this,e),this},addKey:function(e){return Xn(this,e,e),this},addKeys:function(e){var n=this;return e.forEach(function(t){return Xn(n,t,t)}),this}},pr[_r]=function(){return Wr(this)},pr));function Xn(e,n,t){var r=de(n,t);if(!isNaN(r)){if(r>0)throw RangeError();if(ga(e))return me(e,{from:n,to:t,d:1});var a=e.l,o=e.r;if(de(t,e.from)<0)return a?Xn(a,n,t):e.l={from:n,to:t,d:1,l:null,r:null},ja(e);if(de(n,e.to)>0)return o?Xn(o,n,t):e.r={from:n,to:t,d:1,l:null,r:null},ja(e);de(n,e.from)<0&&(e.from=n,e.l=null,e.d=o?o.d+1:1),de(t,e.to)>0&&(e.to=t,e.r=null,e.d=e.l?e.l.d+1:1);var i=!e.r;a&&!e.l&&Nt(e,a),o&&i&&Nt(e,o)}}function Nt(e,n){function t(r,a){var o=a.from,i=a.to,u=a.l,l=a.r;Xn(r,o,i),u&&t(r,u),l&&t(r,l)}ga(n)||t(e,n)}function Wc(e,n){var t=Wr(n),r=t.next();if(r.done)return!1;for(var a=r.value,o=Wr(e),i=o.next(a.from),u=i.value;!r.done&&!i.done;){if(de(u.from,a.to)<=0&&de(u.to,a.from)>=0)return!0;de(a.from,u.from)<0?a=(r=t.next(u.from)).value:u=(i=o.next(a.from)).value}return!1}function Wr(e){var n=ga(e)?null:{s:0,n:e};return{next:function(t){for(var r=arguments.length>0;n;)switch(n.s){case 0:if(n.s=1,r)for(;n.n.l&&de(t,n.n.from)<0;)n={up:n,n:n.n.l,s:1};else for(;n.n.l;)n={up:n,n:n.n.l,s:1};case 1:if(n.s=2,!r||de(t,n.n.to)<=0)return{value:n.n,done:!1};case 2:if(n.n.r){n.s=3,n={up:n,n:n.n.r,s:0};continue}case 3:n=n.up}return{done:!0}}}}function ja(e){var n,t,r=(((n=e.r)===null||n===void 0?void 0:n.d)||0)-(((t=e.l)===null||t===void 0?void 0:t.d)||0),a=r>1?"r":r<-1?"l":"";if(a){var o=a==="r"?"l":"r",i=Y({},e),u=e[a];e.from=u.from,e.to=u.to,e[a]=u[a],i[a]=u[o],e[o]=i,i.d=La(i)}e.d=La(e)}function La(e){var n=e.r,t=e.l;return(n?t?Math.max(n.d,t.d):n.d:t?t.d:0)+1}var Hc={stack:"dbcore",level:0,create:function(e){var n=e.schema.name,t=new Ke(e.MIN_KEY,e.MAX_KEY);return Y(Y({},e),{table:function(r){var a=e.table(r),o=a.schema,i=o.primaryKey,u=i.extractKey,l=i.outbound,s=Y(Y({},a),{mutate:function(f){var p=f.trans,v=p.mutatedParts||(p.mutatedParts={}),h=function(P){var _="idb://"+n+"/"+r+"/"+P;return v[_]||(v[_]=new Ke)},g=h(""),C=h(":dels"),b=f.type,y=f.type==="deleteRange"?[f.range]:f.type==="delete"?[f.keys]:f.values.length<50?[[],f.values]:[],S=y[0],w=y[1],m=f.trans._cache;return a.mutate(f).then(function(P){if(se(S)){b!=="delete"&&(S=P.results),g.addKeys(S);var _=Yi(S,m);!_&&b!=="add"&&C.addKeys(S),(_||w)&&Yc(h,o,_,w)}else if(S){var T={from:S.lower,to:S.upper};C.add(T),g.add(T)}else g.add(t),C.add(t),o.indexes.forEach(function(E){return h(E.name).add(t)});return P})}}),c=function(f){var p,v,h=f.query,g=h.index,C=h.range;return[g,new Ke((p=C.lower)!==null&&p!==void 0?p:e.MIN_KEY,(v=C.upper)!==null&&v!==void 0?v:e.MAX_KEY)]},d={get:function(f){return[i,new Ke(f.key)]},getMany:function(f){return[i,new Ke().addKeys(f.keys)]},count:c,query:c,openCursor:c};return te(d).forEach(function(f){s[f]=function(p){var v=I.subscr;if(v){var h=function(m){var P="idb://"+n+"/"+r+"/"+m;return v[P]||(v[P]=new Ke)},g=h(""),C=h(":dels"),b=d[f](p),y=b[0],S=b[1];if(h(y.name||"").add(S),!y.isPrimaryKey)if(f==="count")C.add(t);else{var w=f==="query"&&l&&p.values&&a.query(Y(Y({},p),{values:!1}));return a[f].apply(this,arguments).then(function(m){if(f==="query"){if(l&&p.values)return w.then(function(E){var D=E.result;return g.addKeys(D),m});var P=p.values?m.result.map(u):m.result;p.values?g.addKeys(P):C.addKeys(P)}else if(f==="openCursor"){var _=m,T=p.values;return _&&Object.create(_,{key:{get:function(){return C.addKey(_.primaryKey),_.key}},primaryKey:{get:function(){var E=_.primaryKey;return C.addKey(E),E}},value:{get:function(){return T&&g.addKey(_.primaryKey),_.value}}})}return m})}}return a[f].apply(this,arguments)}}),s}})}};function Yc(e,n,t,r){function a(o){var i=e(o.name||"");function u(s){return s!=null?o.extractKey(s):null}var l=function(s){return o.multiEntry&&se(s)?s.forEach(function(c){return i.addKey(c)}):i.addKey(s)};(t||r).forEach(function(s,c){var d=t&&u(t[c]),f=r&&u(r[c]);de(d,f)!==0&&(d!=null&&l(d),f!=null&&l(f))})}n.indexes.forEach(a)}var ba=function(){function e(n,t){var r=this;this._middlewares={},this.verno=0;var a=e.dependencies;this._options=t=Y({addons:e.addons,autoOpen:!0,indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange},t),this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};var o=t.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:J,dbReadyPromise:null,cancelOpen:J,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};i.dbReadyPromise=new k(function(u){i.dbReadyResolve=u}),i.openCanceller=new k(function(u,l){i.cancelOpen=l}),this._state=i,this.name=n,this.on=xn(this,"populate","blocked","versionchange","close",{ready:[ua,J]}),this.on.ready.subscribe=gi(this.on.ready.subscribe,function(u){return function(l,s){e.vip(function(){var c=r._state;if(c.openComplete)c.dbOpenError||k.resolve().then(l),s&&u(l);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(l),s&&u(l);else{u(l);var d=r;s||u(function f(){d.on.ready.unsubscribe(l),d.on.ready.unsubscribe(f)})}})}}),this.Collection=uc(this),this.Table=tc(this),this.Transaction=hc(this),this.Version=Ac(this),this.WhereClause=vc(this),this.on("versionchange",function(u){u.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(u){!u.newVersion||u.newVersion<u.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+u.oldVersion/10)}),this._maxKey=Yn(t.IDBKeyRange),this._createTransaction=function(u,l,s,c){return new r.Transaction(u,l,s,r._options.chromeTransactionDurability,c)},this._fireOnBlocked=function(u){r.on("blocked").fire(u),Rn.filter(function(l){return l.name===r.name&&l!==r&&!l._state.vcFired}).map(function(l){return l.on("versionchange").fire(u)})},this.use(jc),this.use(Nc),this.use(Hc),this.use(Uc),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach(function(u){return u(r)})}return e.prototype.version=function(n){if(isNaN(n)||n<.1)throw new F.Type("Given version is not a positive number");if(n=Math.round(n*10)/10,this.idbdb||this._state.isBeingOpened)throw new F.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,n);var t=this._versions,r=t.filter(function(a){return a._cfg.version===n})[0];return r||(r=new this.Version(n),t.push(r),t.sort(Cc),r.stores({}),this._state.autoSchema=!1,r)},e.prototype._whenReady=function(n){var t=this;return this.idbdb&&(this._state.openComplete||I.letThrough||this._vip)?n():new k(function(r,a){if(t._state.openComplete)return a(new F.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen){a(new F.DatabaseClosed);return}t.open().catch(J)}t._state.dbReadyPromise.then(r,a)}).then(n)},e.prototype.use=function(n){var t=n.stack,r=n.create,a=n.level,o=n.name;o&&this.unuse({stack:t,name:o});var i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:r,level:a==null?10:a,name:o}),i.sort(function(u,l){return u.level-l.level}),this},e.prototype.unuse=function(n){var t=n.stack,r=n.name,a=n.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(o){return a?o.create!==a:r?o.name!==r:!1})),this},e.prototype.open=function(){return Mc(this)},e.prototype._close=function(){var n=this._state,t=Rn.indexOf(this);if(t>=0&&Rn.splice(t,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}n.dbReadyPromise=new k(function(r){n.dbReadyResolve=r}),n.openCanceller=new k(function(r,a){n.cancelOpen=a})},e.prototype.close=function(){this._close();var n=this._state;this._options.autoOpen=!1,n.dbOpenError=new F.DatabaseClosed,n.isBeingOpened&&n.cancelOpen(n.dbOpenError)},e.prototype.delete=function(){var n=this,t=arguments.length>0,r=this._state;return new k(function(a,o){var i=function(){n.close();var u=n._deps.indexedDB.deleteDatabase(n.name);u.onsuccess=x(function(){Fc(n._deps,n.name),a()}),u.onerror=Ie(o),u.onblocked=n._fireOnBlocked};if(t)throw new F.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(i):i()})},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return this.idbdb!==null},e.prototype.hasBeenClosed=function(){var n=this._state.dbOpenError;return n&&n.name==="DatabaseClosed"},e.prototype.hasFailed=function(){return this._state.dbOpenError!==null},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var n=this;return te(this._allTables).map(function(t){return n._allTables[t]})},enumerable:!1,configurable:!0}),e.prototype.transaction=function(){var n=Kc.apply(this,arguments);return this._transaction.apply(this,n)},e.prototype._transaction=function(n,t,r){var a=this,o=I.trans;(!o||o.db!==this||n.indexOf("!")!==-1)&&(o=null);var i=n.indexOf("?")!==-1;n=n.replace("!","").replace("?","");var u,l;try{if(l=t.map(function(c){var d=c instanceof a.Table?c.name:c;if(typeof d!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return d}),n=="r"||n===sr)u=sr;else if(n=="rw"||n==cr)u=cr;else throw new F.InvalidArgument("Invalid transaction mode: "+n);if(o){if(o.mode===sr&&u===cr)if(i)o=null;else throw new F.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o&&l.forEach(function(c){if(o&&o.storeNames.indexOf(c)===-1)if(i)o=null;else throw new F.SubTransaction("Table "+c+" not included in parent transaction.")}),i&&o&&!o.active&&(o=null)}}catch(c){return o?o._promise(null,function(d,f){f(c)}):ae(c)}var s=Hi.bind(null,this,u,l,o,r);return o?o._promise(u,s,"lock"):I.trans?Tn(I.transless,function(){return a._whenReady(s)}):this._whenReady(s)},e.prototype.table=function(n){if(!Se(this._allTables,n))throw new F.InvalidTable("Table "+n+" does not exist");return this._allTables[n]},e}(),Xc=typeof Symbol!="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",Gc=function(){function e(n){this._subscribe=n}return e.prototype.subscribe=function(n,t,r){return this._subscribe(!n||typeof n=="function"?{next:n,error:t,complete:r}:n)},e.prototype[Xc]=function(){return this},e}();function Xi(e,n){return te(n).forEach(function(t){var r=e[t]||(e[t]=new Ke);Nt(r,n[t])}),e}function qc(e){return new Gc(function(n){var t=aa(e);function r(p){t&&$n();var v=function(){return Qe(e,{subscr:p,trans:null})},h=I.trans?Tn(I.transless,v):v();return t&&h.then(We,We),h}var a=!1,o={},i={},u={get closed(){return a},unsubscribe:function(){a=!0,xe.storagemutated.unsubscribe(d)}};n.start&&n.start(u);var l=!1,s=!1;function c(){return te(i).some(function(p){return o[p]&&Wc(o[p],i[p])})}var d=function(p){Xi(o,p),c()&&f()},f=function(){if(!(l||a)){o={};var p={},v=r(p);s||(xe(Hn,d),s=!0),l=!0,Promise.resolve(v).then(function(h){l=!1,!a&&(c()?f():(o={},i=p,n.next&&n.next(h)))},function(h){l=!1,n.error&&n.error(h),u.unsubscribe()})}};return f(),u})}var Hr;try{Hr={indexedDB:Z.indexedDB||Z.mozIndexedDB||Z.webkitIndexedDB||Z.msIndexedDB,IDBKeyRange:Z.IDBKeyRange||Z.webkitIDBKeyRange}}catch{Hr={indexedDB:null,IDBKeyRange:null}}var tn=ba;Cn(tn,Y(Y({},Zt),{delete:function(e){var n=new tn(e,{addons:[]});return n.delete()},exists:function(e){return new tn(e,{addons:[]}).open().then(function(n){return n.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return Ic(tn.dependencies).then(e)}catch{return ae(new F.MissingAPI)}},defineClass:function(){function e(n){me(this,n)}return e},ignoreTransaction:function(e){return I.trans?Tn(I.transless,e):e()},vip:zr,async:function(e){return function(){try{var n=Ur(e.apply(this,arguments));return!n||typeof n.then!="function"?k.resolve(n):n}catch(t){return ae(t)}}},spawn:function(e,n,t){try{var r=Ur(e.apply(t,n||[]));return!r||typeof r.then!="function"?k.resolve(r):r}catch(a){return ae(a)}},currentTransaction:{get:function(){return I.trans||null}},waitFor:function(e,n){var t=k.resolve(typeof e=="function"?tn.ignoreTransaction(e):e).timeout(n||6e4);return I.trans?I.trans.waitFor(t):t},Promise:k,debug:{get:function(){return Re},set:function(e){Pi(e,e==="dexie"?function(){return!0}:Vi)}},derive:En,extend:me,props:Cn,override:gi,Events:xn,on:xe,liveQuery:qc,extendObservabilitySet:Xi,getByKeyPath:ze,setByKeyPath:Te,delByKeyPath:ks,shallowClone:Oi,deepClone:qn,getObjectDiff:ya,cmp:de,asap:bi,minKey:Mr,addons:[],connections:Rn,errnames:ia,dependencies:Hr,semVer:Ba,version:Ba.split(".").map(function(e){return parseInt(e)}).reduce(function(e,n,t){return e+n/Math.pow(10,t*2)})}));tn.maxKey=Yn(tn.dependencies.IDBKeyRange);typeof dispatchEvent!="undefined"&&typeof addEventListener!="undefined"&&(xe(Hn,function(e){if(!je){var n;xt?(n=document.createEvent("CustomEvent"),n.initCustomEvent(qe,!0,!0,e)):n=new CustomEvent(qe,{detail:e}),je=!0,dispatchEvent(n),je=!1}}),addEventListener(qe,function(e){var n=e.detail;je||zt(n)}));function zt(e){var n=je;try{je=!0,xe.storagemutated.fire(e)}finally{je=n}}var je=!1;if(typeof BroadcastChannel!="undefined"){var Na=new BroadcastChannel(qe);xe(Hn,function(e){je||Na.postMessage(e)}),Na.onmessage=function(e){e.data&&zt(e.data)}}else if(typeof self!="undefined"&&typeof navigator!="undefined"){xe(Hn,function(e){try{je||(typeof localStorage!="undefined"&&localStorage.setItem(qe,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&Cr([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(n){return n.postMessage({type:qe,changedParts:e})}))}catch{}}),typeof addEventListener!="undefined"&&addEventListener("storage",function(e){if(e.key===qe){var n=JSON.parse(e.newValue);n&&zt(n.changedParts)}});var za=self.document&&navigator.serviceWorker;za&&za.addEventListener("message",Jc)}function Jc(e){var n=e.data;n&&n.type===qe&&zt(n.changedParts)}k.rejectionMapper=Ms;Pi(Re,Vi);class Qc extends ba{constructor(){super("TXTReaderDatabase");Sa(this,"txtList");this.version(1).stores({txtList:"++id"})}}var Fp=new Qc;const Rp={color:"#111",background:"fff",fontSize:16,lineHight:1.5,paragraphSpacing:12,model:"scroll"};var Ua;const Fe=typeof window!="undefined",Gi=e=>typeof e=="string",Ut=()=>+Date.now(),Wa=(e,n,t)=>Math.min(t,Math.max(n,e)),Be=()=>{},Ha=Fe&&((Ua=window==null?void 0:window.navigator)==null?void 0:Ua.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function nr(e,n){function t(...r){e(()=>n.apply(this,r),{fn:n,thisArg:this,args:r})}return t}const wa=e=>e();function Zc(e,n={}){let t,r;return o=>{const i=M(e),u=M(n.maxWait);if(t&&clearTimeout(t),i<=0||u!==void 0&&u<=0)return r&&(clearTimeout(r),r=null),o();u&&!r&&(r=setTimeout(()=>{t&&clearTimeout(t),r=null,o()},u)),t=setTimeout(()=>{r&&clearTimeout(r),r=null,o()},i)}}function xc(e,n=!0,t=!0){let r=0,a,o=!0;const i=()=>{a&&(clearTimeout(a),a=void 0)};return l=>{const s=M(e),c=Date.now()-r;if(i(),s<=0)return r=Date.now(),l();c>s&&(t||!o)?(r=Date.now(),l()):n&&(a=setTimeout(()=>{r=Date.now(),o=!0,i(),l()},s)),!t&&!a&&(a=setTimeout(()=>o=!0,s)),o=!1}}function ef(e=wa){const n=O(!0);function t(){n.value=!1}function r(){n.value=!0}return{isActive:n,pause:t,resume:r,eventFilter:(...o)=>{n.value&&e(...o)}}}function nf(e,n=!1,t="Timeout"){return new Promise((r,a)=>{setTimeout(n?()=>a(t):r,e)})}function tf(e){let n;function t(){return n||(n=e()),n}return t.reset=async()=>{const r=n;n=void 0,r&&await r},t}function rf(e,n,t=!1){return n.reduce((r,a)=>(a in e&&(!t||e[a]!==void 0)&&(r[a]=e[a]),r),{})}function Ee(e){return Cu()?(Su(e),!0):!1}function af(e,n=200,t={}){return nr(Zc(n,t),e)}function Ya(e,n,t={}){const{flush:r="sync",deep:a=!1,immediate:o=!0,direction:i="both"}=t;let u,l;return(i==="both"||i==="ltr")&&(u=z(e,s=>n.value=s,{flush:r,deep:a,immediate:o})),(i==="both"||i==="rtl")&&(l=z(n,s=>e.value=s,{flush:r,deep:a,immediate:o})),()=>{u==null||u(),l==null||l()}}var of=Object.defineProperty,uf=Object.defineProperties,lf=Object.getOwnPropertyDescriptors,Xa=Object.getOwnPropertySymbols,sf=Object.prototype.hasOwnProperty,cf=Object.prototype.propertyIsEnumerable,Ga=(e,n,t)=>n in e?of(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,ff=(e,n)=>{for(var t in n||(n={}))sf.call(n,t)&&Ga(e,t,n[t]);if(Xa)for(var t of Xa(n))cf.call(n,t)&&Ga(e,t,n[t]);return e},df=(e,n)=>uf(e,lf(n));function qi(e){if(!jn(e))return Qo(e);const n=Array.isArray(e.value)?new Array(e.value.length):{};for(const t in e.value)n[t]=Ou(()=>({get(){return e.value[t]},set(r){if(Array.isArray(e.value)){const a=[...e.value];a[t]=r,e.value=a}else{const a=df(ff({},e.value),{[t]:r});Object.setPrototypeOf(a,e.value),e.value=a}}}));return n}function Ji(e,n=!0){en()?Xo(e):n?e():De(e)}function Sn(e,n=!0){en()?Pn(e):n?e():De(e)}function Qi(e,n=1e3,t={}){const{immediate:r=!0,immediateCallback:a=!1}=t;let o=null;const i=O(!1);function u(){o&&(clearInterval(o),o=null)}function l(){i.value=!1,u()}function s(){M(n)<=0||(i.value=!0,a&&e(),u(),o=setInterval(e,M(n)))}if(r&&Fe&&s(),jn(n)){const c=z(n,()=>{i.value&&Fe&&s()});Ee(c)}return Ee(l),{isActive:i,pause:l,resume:s}}function vf(e=!1,n={}){const{truthyValue:t=!0,falsyValue:r=!1}=n,a=jn(e),o=O(e);function i(u){return arguments.length?(o.value=u,o.value):(o.value=o.value===M(t)?M(r):M(t),o.value)}return a?i:[o,i]}var qa=Object.getOwnPropertySymbols,pf=Object.prototype.hasOwnProperty,hf=Object.prototype.propertyIsEnumerable,mf=(e,n)=>{var t={};for(var r in e)pf.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&qa)for(var r of qa(e))n.indexOf(r)<0&&hf.call(e,r)&&(t[r]=e[r]);return t};function yf(e,n,t={}){const r=t,{eventFilter:a=wa}=r,o=mf(r,["eventFilter"]);return z(e,nr(a,n),o)}var gf=Object.defineProperty,bf=Object.defineProperties,wf=Object.getOwnPropertyDescriptors,Wt=Object.getOwnPropertySymbols,Zi=Object.prototype.hasOwnProperty,xi=Object.prototype.propertyIsEnumerable,Ja=(e,n,t)=>n in e?gf(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Of=(e,n)=>{for(var t in n||(n={}))Zi.call(n,t)&&Ja(e,t,n[t]);if(Wt)for(var t of Wt(n))xi.call(n,t)&&Ja(e,t,n[t]);return e},Cf=(e,n)=>bf(e,wf(n)),Sf=(e,n)=>{var t={};for(var r in e)Zi.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&Wt)for(var r of Wt(e))n.indexOf(r)<0&&xi.call(e,r)&&(t[r]=e[r]);return t};function eu(e,n,t={}){const r=t,{eventFilter:a}=r,o=Sf(r,["eventFilter"]),{eventFilter:i,pause:u,resume:l,isActive:s}=ef(a);return{stop:yf(e,n,Cf(Of({},o),{eventFilter:i})),pause:u,resume:l,isActive:s}}function _e(e){var n;const t=M(e);return(n=t==null?void 0:t.$el)!=null?n:t}const Q=Fe?window:void 0,nu=Fe?window.document:void 0,tr=Fe?window.navigator:void 0;function A(...e){let n,t,r,a;if(Gi(e[0])?([t,r,a]=e,n=Q):[n,t,r,a]=e,!n)return Be;let o=Be;const i=z(()=>_e(n),l=>{o(),l&&(l.addEventListener(t,r,a),o=()=>{l.removeEventListener(t,r,a),o=Be})},{immediate:!0,flush:"post"}),u=()=>{i(),o()};return Ee(u),u}function Pf(e,n,t={}){const{window:r=Q,ignore:a,capture:o=!0,detectIframe:i=!1}=t;if(!r)return;const u=O(!0);let l;const s=f=>{r.clearTimeout(l);const p=_e(e),v=f.composedPath();!p||p===f.target||v.includes(p)||!u.value||a&&a.length>0&&a.some(h=>{const g=_e(h);return g&&(f.target===g||v.includes(g))})||n(f)},c=[A(r,"click",s,{passive:!0,capture:o}),A(r,"pointerdown",f=>{const p=_e(e);u.value=!!p&&!f.composedPath().includes(p)},{passive:!0}),A(r,"pointerup",f=>{if(f.button===0){const p=f.composedPath();f.composedPath=()=>p,l=r.setTimeout(()=>s(f),50)}},{passive:!0}),i&&A(r,"blur",f=>{var p;const v=_e(e);((p=document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(v!=null&&v.contains(document.activeElement))&&n(f)})].filter(Boolean);return()=>c.forEach(f=>f())}function _f(e={}){const{window:n=Q}=e,t=O(0);return n&&(A(n,"blur",()=>t.value+=1,!0),A(n,"focus",()=>t.value+=1,!0)),L(()=>(t.value,n==null?void 0:n.document.activeElement))}function Ef({navigator:e=tr}={}){const n=["chargingchange","chargingtimechange","dischargingtimechange","levelchange"],t=e&&"getBattery"in e,r=O(!1),a=O(0),o=O(0),i=O(1);let u;function l(){r.value=this.charging,a.value=this.chargingTime||0,o.value=this.dischargingTime||0,i.value=this.level}return t&&e.getBattery().then(s=>{u=s,l.call(u);for(const c of n)A(u,c,l,{passive:!0})}),{isSupported:t,charging:r,chargingTime:a,dischargingTime:o,level:i}}function Gn(e,n={}){const{window:t=Q}=n,r=Boolean(t&&"matchMedia"in t&&typeof t.matchMedia=="function");let a;const o=O(!1),i=()=>{!r||(a||(a=t.matchMedia(e)),o.value=a.matches)};return Ji(()=>{i(),a&&("addEventListener"in a?a.addEventListener("change",i):a.addListener(i),Ee(()=>{"removeEventListener"in a?a.removeEventListener("change",i):a.removeListener(i)}))}),o}function kf({window:e=Q}={}){const n=r=>{const{state:a,length:o}=(e==null?void 0:e.history)||{},{hash:i,host:u,hostname:l,href:s,origin:c,pathname:d,port:f,protocol:p,search:v}=(e==null?void 0:e.location)||{};return{trigger:r,state:a,length:o,hash:i,host:u,hostname:l,href:s,origin:c,pathname:d,port:f,protocol:p,search:v}},t=O(n("load"));return e&&(A(e,"popstate",()=>t.value=n("popstate"),{passive:!0}),A(e,"hashchange",()=>t.value=n("hashchange"),{passive:!0})),t}function Qa(e,n,t){const r=O(e);return L({get(){return r.value=Wa(r.value,M(n),M(t))},set(a){r.value=Wa(a,M(n),M(t))}})}const Yr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Xr="__vueuse_ssr_handlers__";Yr[Xr]=Yr[Xr]||{};const $f=Yr[Xr];function tu(e,n){return $f[e]||n}function Tf(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"||Array.isArray(e)?"object":Number.isNaN(e)?"any":"number"}const Df={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function ru(e,n,t,r={}){var a;const{flush:o="pre",deep:i=!0,listenToStorageChanges:u=!0,writeDefaults:l=!0,shallow:s,window:c=Q,eventFilter:d,onError:f=m=>{console.error(m)}}=r,p=(s?Gt:O)(n);if(!t)try{t=tu("getDefaultStorage",()=>{var m;return(m=Q)==null?void 0:m.localStorage})()}catch(m){f(m)}if(!t)return p;const v=M(n),h=Tf(v),g=(a=r.serializer)!=null?a:Df[h],{pause:C,resume:b}=eu(p,()=>y(p.value),{flush:o,deep:i,eventFilter:d});return c&&u&&A(c,"storage",w),w(),p;function y(m){try{m==null?t.removeItem(e):t.setItem(e,g.write(m))}catch(P){f(P)}}function S(m){if(!(m&&m.key!==e)){C();try{const P=m?m.newValue:t.getItem(e);return P==null?(l&&v!==null&&t.setItem(e,g.write(v)),v):typeof P!="string"?P:g.read(P)}catch(P){f(P)}finally{b()}}}function w(m){m&&m.key!==e||(p.value=S(m))}}function Oa(e){return Gn("(prefers-color-scheme: dark)",e)}var Af=Object.defineProperty,Za=Object.getOwnPropertySymbols,If=Object.prototype.hasOwnProperty,Bf=Object.prototype.propertyIsEnumerable,xa=(e,n,t)=>n in e?Af(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Ff=(e,n)=>{for(var t in n||(n={}))If.call(n,t)&&xa(e,t,n[t]);if(Za)for(var t of Za(n))Bf.call(n,t)&&xa(e,t,n[t]);return e};function Rf(e={}){const{selector:n="html",attribute:t="class",window:r=Q,storage:a,storageKey:o="vueuse-color-scheme",listenToStorageChanges:i=!0,storageRef:u,emitAuto:l}=e,s=Ff({auto:"",light:"light",dark:"dark"},e.modes||{}),c=Oa({window:r}),d=L(()=>c.value?"dark":"light"),f=u||(o==null?O("auto"):ru(o,"auto",a,{window:r,listenToStorageChanges:i})),p=L({get(){return f.value==="auto"&&!l?d.value:f.value},set(C){f.value=C}}),v=tu("updateHTMLAttrs",(C,b,y)=>{const S=r==null?void 0:r.document.querySelector(C);if(!!S)if(b==="class"){const w=y.split(/\s/g);Object.values(s).flatMap(m=>(m||"").split(/\s/g)).filter(Boolean).forEach(m=>{w.includes(m)?S.classList.add(m):S.classList.remove(m)})}else S.setAttribute(b,y)});function h(C){var b;const y=C==="auto"?d.value:C;v(n,t,(b=s[y])!=null?b:y)}function g(C){e.onChanged?e.onChanged(C,h):h(C)}return z(p,g,{flush:"post",immediate:!0}),Sn(()=>g(p.value)),p}var Mf=Object.defineProperty,Kf=Object.defineProperties,Vf=Object.getOwnPropertyDescriptors,eo=Object.getOwnPropertySymbols,jf=Object.prototype.hasOwnProperty,Lf=Object.prototype.propertyIsEnumerable,no=(e,n,t)=>n in e?Mf(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Nf=(e,n)=>{for(var t in n||(n={}))jf.call(n,t)&&no(e,t,n[t]);if(eo)for(var t of eo(n))Lf.call(n,t)&&no(e,t,n[t]);return e},zf=(e,n)=>Kf(e,Vf(n));function Uf(e={}){const{valueDark:n="dark",valueLight:t="",window:r=Q}=e,a=Rf(zf(Nf({},e),{onChanged:(u,l)=>{var s;e.onChanged?(s=e.onChanged)==null||s.call(e,u==="dark"):l(u)},modes:{dark:n,light:t}})),o=Oa({window:r});return L({get(){return a.value==="dark"},set(u){u===o.value?a.value="auto":a.value=u?"dark":"light"}})}function Wf(e={}){const{window:n=Q,eventFilter:t=wa}=e,r=O({x:null,y:null,z:null}),a=O({alpha:null,beta:null,gamma:null}),o=O(0),i=O({x:null,y:null,z:null});if(n){const u=nr(t,l=>{r.value=l.acceleration,i.value=l.accelerationIncludingGravity,a.value=l.rotationRate,o.value=l.interval});A(n,"devicemotion",u)}return{acceleration:r,accelerationIncludingGravity:i,rotationRate:a,interval:o}}function Hf(e={}){const{window:n=Q}=e,t=Boolean(n&&"DeviceOrientationEvent"in n),r=O(!1),a=O(null),o=O(null),i=O(null);return n&&t&&A(n,"deviceorientation",u=>{r.value=u.absolute,a.value=u.alpha,o.value=u.beta,i.value=u.gamma}),{isSupported:t,isAbsolute:r,alpha:a,beta:o,gamma:i}}const Yf=[1,1.325,1.4,1.5,1.8,2,2.4,2.5,2.75,3,3.5,4];function Xf({window:e=Q}={}){if(!e)return{pixelRatio:O(1)};const n=O(e.devicePixelRatio),t=()=>{n.value=e.devicePixelRatio};return A(e,"resize",t,{passive:!0}),Yf.forEach(r=>{const a=Gn(`screen and (min-resolution: ${r}dppx)`),o=Gn(`screen and (max-resolution: ${r}dppx)`);z([a,o],t)}),{pixelRatio:n}}function Gf(e,n={}){const{controls:t=!1,navigator:r=tr}=n,a=Boolean(r&&"permissions"in r);let o;const i=typeof e=="string"?{name:e}:e,u=O(),l=()=>{o&&(u.value=o.state)},s=tf(async()=>{if(!!a){if(!o)try{o=await r.permissions.query(i),A(o,"change",l),l()}catch{u.value="prompt"}return o}});return s(),t?{state:u,isSupported:a,query:s}:u}function qf(e={}){const{navigator:n=tr,requestPermissions:t=!1,constraints:r={audio:!0,video:!0},onUpdated:a}=e,o=O([]),i=L(()=>o.value.filter(p=>p.kind==="videoinput")),u=L(()=>o.value.filter(p=>p.kind==="audioinput")),l=L(()=>o.value.filter(p=>p.kind==="audiooutput"));let s=!1;const c=O(!1);async function d(){!s||(o.value=await n.mediaDevices.enumerateDevices(),a==null||a(o.value))}async function f(){if(!s)return!1;if(c.value)return!0;const{state:p,query:v}=Gf("camera",{controls:!0});return await v(),p.value!=="granted"&&((await n.mediaDevices.getUserMedia(r)).getTracks().forEach(g=>g.stop()),d()),c.value=!0,c.value}return n&&(s=Boolean(n.mediaDevices&&n.mediaDevices.enumerateDevices),s&&(t&&f(),A(n.mediaDevices,"devicechange",d),d())),{devices:o,ensurePermissions:f,permissionGranted:c,videoInputs:i,audioInputs:u,audioOutputs:l,isSupported:s}}function Jf({document:e=nu}={}){if(!e)return O("visible");const n=O(e.visibilityState);return A(e,"visibilitychange",()=>{n.value=e.visibilityState}),n}var Qf=Object.defineProperty,Zf=Object.defineProperties,xf=Object.getOwnPropertyDescriptors,to=Object.getOwnPropertySymbols,ed=Object.prototype.hasOwnProperty,nd=Object.prototype.propertyIsEnumerable,ro=(e,n,t)=>n in e?Qf(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,td=(e,n)=>{for(var t in n||(n={}))ed.call(n,t)&&ro(e,t,n[t]);if(to)for(var t of to(n))nd.call(n,t)&&ro(e,t,n[t]);return e},rd=(e,n)=>Zf(e,xf(n));function ad(e,n={}){var t,r;const a=(t=n.draggingElement)!=null?t:Q,o=O((r=n.initialValue)!=null?r:{x:0,y:0}),i=O(),u=f=>n.pointerTypes?n.pointerTypes.includes(f.pointerType):!0,l=f=>{M(n.preventDefault)&&f.preventDefault(),M(n.stopPropagation)&&f.stopPropagation()},s=f=>{var p;if(!u(f)||M(n.exact)&&f.target!==M(e))return;const v=M(e).getBoundingClientRect(),h={x:f.pageX-v.left,y:f.pageY-v.top};((p=n.onStart)==null?void 0:p.call(n,h,f))!==!1&&(i.value=h,l(f))},c=f=>{var p;!u(f)||!i.value||(o.value={x:f.pageX-i.value.x,y:f.pageY-i.value.y},(p=n.onMove)==null||p.call(n,o.value,f),l(f))},d=f=>{var p;!u(f)||!i.value||(i.value=void 0,(p=n.onEnd)==null||p.call(n,o.value,f),l(f))};return Fe&&(A(e,"pointerdown",s,!0),A(a,"pointermove",c,!0),A(a,"pointerup",d,!0)),rd(td({},qi(o)),{position:o,isDragging:L(()=>!!i.value),style:L(()=>`left:${o.value.x}px;top:${o.value.y}px;`)})}var ao=Object.getOwnPropertySymbols,od=Object.prototype.hasOwnProperty,id=Object.prototype.propertyIsEnumerable,ud=(e,n)=>{var t={};for(var r in e)od.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&ao)for(var r of ao(e))n.indexOf(r)<0&&id.call(e,r)&&(t[r]=e[r]);return t};function au(e,n,t={}){const r=t,{window:a=Q}=r,o=ud(r,["window"]);let i;const u=a&&"ResizeObserver"in a,l=()=>{i&&(i.disconnect(),i=void 0)},s=z(()=>_e(e),d=>{l(),u&&a&&d&&(i=new ResizeObserver(n),i.observe(d,o))},{immediate:!0,flush:"post"}),c=()=>{l(),s()};return Ee(c),{isSupported:u,stop:c}}function ld(e,n={}){const{reset:t=!0,windowResize:r=!0,windowScroll:a=!0,immediate:o=!0}=n,i=O(0),u=O(0),l=O(0),s=O(0),c=O(0),d=O(0),f=O(0),p=O(0);function v(){const h=_e(e);if(!h){t&&(i.value=0,u.value=0,l.value=0,s.value=0,c.value=0,d.value=0,f.value=0,p.value=0);return}const g=h.getBoundingClientRect();i.value=g.height,u.value=g.bottom,l.value=g.left,s.value=g.right,c.value=g.top,d.value=g.width,f.value=g.x,p.value=g.y}return au(e,v),z(()=>_e(e),h=>!h&&v()),a&&A("scroll",v,{passive:!0}),r&&A("resize",v,{passive:!0}),Sn(()=>{o&&v()}),{height:i,bottom:u,left:l,right:s,top:c,width:d,x:f,y:p,update:v}}function ou(e,n={}){const{immediate:t=!0,window:r=Q}=n,a=O(!1);let o=null;function i(){!a.value||!r||(e(),o=r.requestAnimationFrame(i))}function u(){!a.value&&r&&(a.value=!0,i())}function l(){a.value=!1,o!=null&&r&&(r.cancelAnimationFrame(o),o=null)}return t&&u(),Ee(l),{isActive:a,pause:l,resume:u}}function iu(e,n={width:0,height:0},t={}){const r=O(n.width),a=O(n.height);return au(e,([o])=>{r.value=o.contentRect.width,a.value=o.contentRect.height},t),z(()=>_e(e),o=>{r.value=o?n.width:0,a.value=o?n.height:0}),{width:r,height:a}}function sd(e,{window:n=Q,scrollTarget:t}={}){const r=O(!1),a=()=>{if(!n)return;const o=n.document;if(!M(e))r.value=!1;else{const i=M(e).getBoundingClientRect();r.value=i.top<=(n.innerHeight||o.documentElement.clientHeight)&&i.left<=(n.innerWidth||o.documentElement.clientWidth)&&i.bottom>=0&&i.right>=0}};return Sn(a),n&&Sn(()=>A(M(t)||n,"scroll",a,{capture:!1,passive:!0})),r}function cd(e={}){const{initialValue:n=""}=e,t=Boolean(typeof window!="undefined"&&"EyeDropper"in window),r=O(n);async function a(o){if(!t)return;const u=await new window.EyeDropper().open(o);return r.value=u.sRGBHex,u}return{isSupported:t,sRGBHex:r,open:a}}var fd=Object.defineProperty,oo=Object.getOwnPropertySymbols,dd=Object.prototype.hasOwnProperty,vd=Object.prototype.propertyIsEnumerable,io=(e,n,t)=>n in e?fd(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,mn=(e,n)=>{for(var t in n||(n={}))dd.call(n,t)&&io(e,t,n[t]);if(oo)for(var t of oo(n))vd.call(n,t)&&io(e,t,n[t]);return e};function Mp(e={}){const{window:n=Q,dataType:t="Text"}=M(e),r=n,a=Boolean(r&&"showSaveFilePicker"in r&&"showOpenFilePicker"in r),o=O(),i=O(),u=O(),l=L(()=>{var b,y;return(y=(b=u.value)==null?void 0:b.name)!=null?y:""}),s=L(()=>{var b,y;return(y=(b=u.value)==null?void 0:b.type)!=null?y:""}),c=L(()=>{var b,y;return(y=(b=u.value)==null?void 0:b.size)!=null?y:0}),d=L(()=>{var b,y;return(y=(b=u.value)==null?void 0:b.lastModified)!=null?y:0});async function f(b={}){if(!a)return;const[y]=await r.showOpenFilePicker(mn(mn({},M(e)),b));o.value=y,await g(),await C()}async function p(b={}){!a||(o.value=await r.showSaveFilePicker(mn(mn({},M(e)),b)),i.value=void 0,await g(),await C())}async function v(b={}){if(!!a){if(!o.value)return h(b);if(i.value){const y=await o.value.createWritable();await y.write(i.value),await y.close()}await g()}}async function h(b={}){if(!!a){if(o.value=await r.showSaveFilePicker(mn(mn({},M(e)),b)),i.value){const y=await o.value.createWritable();await y.write(i.value),await y.close()}await g()}}async function g(){var b;u.value=await((b=o.value)==null?void 0:b.getFile())}async function C(){var b,y;M(t)==="Text"&&(i.value=await((b=u.value)==null?void 0:b.text())),M(t)==="ArrayBuffer"&&(i.value=await((y=u.value)==null?void 0:y.arrayBuffer())),M(t)==="Blob"&&(i.value=u.value)}return z(()=>M(t),C),{isSupported:a,data:i,file:u,fileName:l,fileMIME:s,fileSize:c,fileLastModified:d,open:f,create:p,save:v,saveAs:h,updateData:C}}const uo=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];function pd(e,n={}){const{document:t=nu,autoExit:r=!1}=n,a=e||(t==null?void 0:t.querySelector("html")),o=O(!1);let i=!1,u=uo[0];if(!t)i=!1;else for(const h of uo)if(h[1]in t){u=h,i=!0;break}const[l,s,c,,d]=u;async function f(){!i||(t!=null&&t[c]&&await t[s](),o.value=!1)}async function p(){if(!i)return;await f();const h=_e(a);h&&(await h[l](),o.value=!0)}async function v(){o.value?await f():await p()}return t&&A(t,d,()=>{o.value=!!(t!=null&&t[c])},!1),r&&Ee(f),{isSupported:i,isFullscreen:o,enter:p,exit:f,toggle:v}}function hd(e={}){const{enableHighAccuracy:n=!0,maximumAge:t=3e4,timeout:r=27e3,navigator:a=tr}=e,o=a&&"geolocation"in a,i=O(null),u=O(null),l=O({accuracy:0,latitude:1/0,longitude:1/0,altitude:null,altitudeAccuracy:null,heading:null,speed:null});function s(d){i.value=d.timestamp,l.value=d.coords,u.value=null}let c;return o&&(c=a.geolocation.watchPosition(s,d=>u.value=d,{enableHighAccuracy:n,maximumAge:t,timeout:r})),Ee(()=>{c&&a&&a.geolocation.clearWatch(c)}),{isSupported:o,coords:l,locatedAt:i,error:u}}const md=["mousemove","mousedown","resize","keydown","touchstart","wheel"],yd=6e4;function gd(e=yd,n={}){const{initialState:t=!1,listenForVisibilityChange:r=!0,events:a=md,window:o=Q,eventFilter:i=xc(50)}=n,u=O(t),l=O(Ut());let s;const c=nr(i,()=>{u.value=!1,l.value=Ut(),clearTimeout(s),s=setTimeout(()=>u.value=!0,e)});if(o){const d=o.document;for(const f of a)A(o,f,c,{passive:!0});r&&A(d,"visibilitychange",()=>{d.hidden||c()})}return s=setTimeout(()=>u.value=!0,e),{idle:u,lastActive:l}}function uu(e={}){const{type:n="page",touch:t=!0,resetOnTouchEnds:r=!1,initialValue:a={x:0,y:0},window:o=Q,eventFilter:i}=e,u=O(a.x),l=O(a.y),s=O(null),c=h=>{n==="page"?(u.value=h.pageX,l.value=h.pageY):n==="client"&&(u.value=h.clientX,l.value=h.clientY),s.value="mouse"},d=()=>{u.value=a.x,l.value=a.y},f=h=>{if(h.touches.length>0){const g=h.touches[0];n==="page"?(u.value=g.pageX,l.value=g.pageY):n==="client"&&(u.value=g.clientX,l.value=g.clientY),s.value="touch"}},p=h=>i===void 0?c(h):i(()=>c(h),{}),v=h=>i===void 0?f(h):i(()=>f(h),{});return o&&(A(o,"mousemove",p,{passive:!0}),A(o,"dragover",p,{passive:!0}),t&&(A(o,"touchstart",v,{passive:!0}),A(o,"touchmove",v,{passive:!0}),r&&A(o,"touchend",d,{passive:!0}))),{x:u,y:l,sourceType:s}}function bd(e,n={}){const{handleOutside:t=!0,window:r=Q}=n,{x:a,y:o,sourceType:i}=uu(n),u=O(e!=null?e:r==null?void 0:r.document.body),l=O(0),s=O(0),c=O(0),d=O(0),f=O(0),p=O(0),v=O(!0);let h=()=>{};return r&&(h=z([u,a,o],()=>{const g=_e(u);if(!g)return;const{left:C,top:b,width:y,height:S}=g.getBoundingClientRect();c.value=C+r.pageXOffset,d.value=b+r.pageYOffset,f.value=S,p.value=y;const w=a.value-c.value,m=o.value-d.value;v.value=y===0||S===0||w<0||m<0||w>y||m>S,(t||!v.value)&&(l.value=w,s.value=m)},{immediate:!0})),{x:a,y:o,sourceType:i,elementX:l,elementY:s,elementPositionX:c,elementPositionY:d,elementHeight:f,elementWidth:p,isOutside:v,stop:h}}function wd(e={}){const{touch:n=!0,drag:t=!0,initialValue:r=!1,window:a=Q}=e,o=O(r),i=O(null);if(!a)return{pressed:o,sourceType:i};const u=c=>()=>{o.value=!0,i.value=c},l=()=>{o.value=!1,i.value=null},s=L(()=>_e(e.target)||a);return A(s,"mousedown",u("mouse"),{passive:!0}),A(a,"mouseleave",l,{passive:!0}),A(a,"mouseup",l,{passive:!0}),t&&(A(s,"dragstart",u("mouse"),{passive:!0}),A(a,"drop",l,{passive:!0}),A(a,"dragend",l,{passive:!0})),n&&(A(s,"touchstart",u("touch"),{passive:!0}),A(a,"touchend",l,{passive:!0}),A(a,"touchcancel",l,{passive:!0})),{pressed:o,sourceType:i}}function lu(e={}){const{window:n=Q}=e,t=n==null?void 0:n.navigator,r=Boolean(t&&"connection"in t),a=O(!0),o=O(!1),i=O(void 0),u=O(void 0),l=O(void 0),s=O(void 0),c=O(void 0),d=O(void 0),f=O("unknown"),p=r&&t.connection;function v(){!t||(a.value=t.onLine,i.value=a.value?void 0:Date.now(),u.value=a.value?Date.now():void 0,p&&(l.value=p.downlink,s.value=p.downlinkMax,d.value=p.effectiveType,c.value=p.rtt,o.value=p.saveData,f.value=p.type))}return n&&(A(n,"offline",()=>{a.value=!1,i.value=Date.now()}),A(n,"online",()=>{a.value=!0,u.value=Date.now()})),p&&A(p,"change",v,!1),v(),{isSupported:r,isOnline:a,saveData:o,offlineAt:i,onlineAt:u,downlink:l,downlinkMax:s,effectiveType:d,rtt:c,type:f}}var Od=Object.defineProperty,lo=Object.getOwnPropertySymbols,Cd=Object.prototype.hasOwnProperty,Sd=Object.prototype.propertyIsEnumerable,so=(e,n,t)=>n in e?Od(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Pd=(e,n)=>{for(var t in n||(n={}))Cd.call(n,t)&&so(e,t,n[t]);if(lo)for(var t of lo(n))Sd.call(n,t)&&so(e,t,n[t]);return e};function su(e={}){const{controls:n=!1,interval:t="requestAnimationFrame"}=e,r=O(new Date),a=()=>r.value=new Date,o=t==="requestAnimationFrame"?ou(a,{immediate:!0}):Qi(a,t,{immediate:!0});return n?Pd({now:r},o):r}function _d(e){const n=O(),t=()=>{n.value&&URL.revokeObjectURL(n.value),n.value=void 0};return z(()=>M(e),r=>{t(),r&&(n.value=URL.createObjectURL(r))},{immediate:!0}),Ee(t),Pu(n)}function Ed(e){const{total:n=1/0,pageSize:t=10,page:r=1,onPageChange:a=Be,onPageSizeChange:o=Be,onPageCountChange:i=Be}=e,u=Qa(t,1,1/0),l=L(()=>Math.ceil(M(n)/M(u))),s=Qa(r,1,l),c=L(()=>s.value===1),d=L(()=>s.value===l.value);jn(r)&&Ya(r,s),jn(t)&&Ya(t,u);function f(){s.value--}function p(){s.value++}const v={currentPage:s,currentPageSize:u,pageCount:l,isFirstPage:c,isLastPage:d,prev:f,next:p};return z(s,()=>{a(N(v))}),z(u,()=>{o(N(v))}),z(l,()=>{i(N(v))}),v}function kd(e={}){const{isOnline:n}=lu(e);return n}function $d(e={}){const{window:n=Q}=e,t=O(!1),r=a=>{if(!n)return;a=a||n.event;const o=a.relatedTarget||a.toElement;t.value=!o};return n&&(A(n,"mouseout",r,{passive:!0}),A(n.document,"mouseleave",r,{passive:!0}),A(n.document,"mouseenter",r,{passive:!0})),t}var Td=Object.defineProperty,Dd=Object.defineProperties,Ad=Object.getOwnPropertyDescriptors,co=Object.getOwnPropertySymbols,Id=Object.prototype.hasOwnProperty,Bd=Object.prototype.propertyIsEnumerable,fo=(e,n,t)=>n in e?Td(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Fd=(e,n)=>{for(var t in n||(n={}))Id.call(n,t)&&fo(e,t,n[t]);if(co)for(var t of co(n))Bd.call(n,t)&&fo(e,t,n[t]);return e},Rd=(e,n)=>Dd(e,Ad(n));const cu={x:0,y:0,pointerId:0,pressure:0,tiltX:0,tiltY:0,width:0,height:0,twist:0,pointerType:null},Md=Object.keys(cu);function Kd(e={}){const{target:n=Q}=e,t=O(!1),r=O(e.initialValue||{});Object.assign(r.value,cu,r.value);const a=o=>{t.value=!0,!(e.pointerTypes&&!e.pointerTypes.includes(o.pointerType))&&(r.value=rf(o,Md,!1))};return n&&(A(n,"pointerdown",a,{passive:!0}),A(n,"pointermove",a,{passive:!0}),A(n,"pointerleave",()=>t.value=!1,{passive:!0})),Rd(Fd({},qi(r)),{isInside:t})}var vo;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(vo||(vo={}));function Vd(e){const n=Gn("(prefers-color-scheme: light)",e),t=Gn("(prefers-color-scheme: dark)",e);return L(()=>t.value?"dark":n.value?"light":"no-preference")}function jd(e={}){const{window:n=Q}=e;if(!n)return O(["en"]);const t=n.navigator,r=O(t.languages);return A(n,"languagechange",()=>{r.value=t.languages}),r}var Ld=Object.defineProperty,Ht=Object.getOwnPropertySymbols,fu=Object.prototype.hasOwnProperty,du=Object.prototype.propertyIsEnumerable,po=(e,n,t)=>n in e?Ld(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Nd=(e,n)=>{for(var t in n||(n={}))fu.call(n,t)&&po(e,t,n[t]);if(Ht)for(var t of Ht(n))du.call(n,t)&&po(e,t,n[t]);return e},zd=(e,n)=>{var t={};for(var r in e)fu.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&Ht)for(var r of Ht(e))n.indexOf(r)<0&&du.call(e,r)&&(t[r]=e[r]);return t};const ho=[{max:6e4,value:1e3,name:"second"},{max:276e4,value:6e4,name:"minute"},{max:72e6,value:36e5,name:"hour"},{max:5184e5,value:864e5,name:"day"},{max:24192e5,value:6048e5,name:"week"},{max:28512e6,value:2592e6,name:"month"},{max:1/0,value:31536e6,name:"year"}],Ud={justNow:"just now",past:e=>e.match(/\d/)?`${e} ago`:e,future:e=>e.match(/\d/)?`in ${e}`:e,month:(e,n)=>e===1?n?"last month":"next month":`${e} month${e>1?"s":""}`,year:(e,n)=>e===1?n?"last year":"next year":`${e} year${e>1?"s":""}`,day:(e,n)=>e===1?n?"yesterday":"tomorrow":`${e} day${e>1?"s":""}`,week:(e,n)=>e===1?n?"last week":"next week":`${e} week${e>1?"s":""}`,hour:e=>`${e} hour${e>1?"s":""}`,minute:e=>`${e} minute${e>1?"s":""}`,second:e=>`${e} second${e>1?"s":""}`},Wd=e=>e.toISOString().slice(0,10);function Hd(e,n={}){const{controls:t=!1,max:r,updateInterval:a=3e4,messages:o=Ud,fullDateFormatter:i=Wd}=n,{abs:u,round:l}=Math,s=su({interval:a,controls:!0}),{now:c}=s,d=zd(s,["now"]);function f(g,C){var b;const y=+C-+g,S=u(y);if(S<6e4)return o.justNow;if(typeof r=="number"&&S>r)return i(new Date(g));if(typeof r=="string"){const w=(b=ho.find(m=>m.name===r))==null?void 0:b.max;if(w&&S>w)return i(new Date(g))}for(const w of ho)if(S<w.max)return v(y,w)}function p(g,C,b){const y=o[g];return typeof y=="function"?y(C,b):y.replace("{0}",C.toString())}function v(g,C){const b=l(u(g)/C.value),y=g>0,S=p(C.name,b,y);return p(y?"past":"future",S,y)}const h=L(()=>f(new Date(M(e)),M(c.value)));return t?Nd({timeAgo:h},d):h}var Yd=Object.defineProperty,mo=Object.getOwnPropertySymbols,Xd=Object.prototype.hasOwnProperty,Gd=Object.prototype.propertyIsEnumerable,yo=(e,n,t)=>n in e?Yd(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,qd=(e,n)=>{for(var t in n||(n={}))Xd.call(n,t)&&yo(e,t,n[t]);if(mo)for(var t of mo(n))Gd.call(n,t)&&yo(e,t,n[t]);return e};function Jd(e={}){const{controls:n=!1,offset:t=0,immediate:r=!0,interval:a="requestAnimationFrame"}=e,o=O(Ut()+t),i=()=>o.value=Ut()+t,u=a==="requestAnimationFrame"?ou(i,{immediate:r}):Qi(i,a,{immediate:r});return n?qd({timestamp:o},u):o}function Qd(e,n){const t=O(),r=iu(t),a=O([]),o=Gt(e),i=O({start:0,end:10}),{itemHeight:u,overscan:l=5}=n,s=b=>{if(typeof u=="number")return Math.ceil(b/u);const{start:y=0}=i.value;let S=0,w=0;for(let m=y;m<o.value.length;m++)if(S+=u(m),S>=b){w=m;break}return w-y},c=b=>{if(typeof u=="number")return Math.floor(b/u)+1;let y=0,S=0;for(let w=0;w<o.value.length;w++)if(y+=u(w),y>=b){S=w;break}return S+1},d=()=>{const b=t.value;if(b){const y=c(b.scrollTop),S=s(b.clientHeight),w=y-l,m=y+S+l;i.value={start:w<0?0:w,end:m>o.value.length?o.value.length:m},a.value=o.value.slice(i.value.start,i.value.end).map((P,_)=>({data:P,index:_+i.value.start}))}};z([r.width,r.height,e],()=>{d()});const f=L(()=>typeof u=="number"?o.value.length*u:o.value.reduce((b,y,S)=>b+u(S),0)),p=b=>typeof u=="number"?b*u:o.value.slice(0,b).reduce((S,w,m)=>S+u(m),0),v=b=>{t.value&&(t.value.scrollTop=p(b),d())},h=L(()=>p(i.value.start)),g=L(()=>({style:{width:"100%",height:`${f.value-h.value}px`,marginTop:`${h.value}px`}}));return{list:a,scrollTo:v,containerProps:{ref:t,onScroll:()=>{d()},style:{overflowY:"auto"}},wrapperProps:g}}function Zd({window:e=Q}={}){if(!e)return O(!1);const n=O(e.document.hasFocus());return A(e,"blur",()=>{n.value=!1}),A(e,"focus",()=>{n.value=!0}),n}function xd(e={}){const{window:n=Q,initialWidth:t=1/0,initialHeight:r=1/0,listenOrientation:a=!0}=e,o=O(t),i=O(r),u=()=>{n&&(o.value=n.innerWidth,i.value=n.innerHeight)};return u(),Sn(u),A("resize",u,{passive:!0}),a&&A("orientationchange",u,{passive:!0}),{width:o,height:i}}B({name:"OnClickOutside",props:["as"],emits:["trigger"],setup(e,{slots:n,emit:t}){const r=O();return Pf(r,a=>{t("trigger",a)}),()=>{if(n.default)return he(e.as||"div",{ref:r},n.default())}}});function Ca(e){var n;const t=M(e);return(n=t==null?void 0:t.$el)!=null?n:t}const fn=Fe?window:void 0;function On(...e){let n,t,r,a;if(Gi(e[0])?([t,r,a]=e,n=fn):[n,t,r,a]=e,!n)return Be;let o=Be;const i=z(()=>Ca(n),l=>{o(),l&&(l.addEventListener(t,r,a),o=()=>{l.removeEventListener(t,r,a),o=Be})},{immediate:!0,flush:"post"}),u=()=>{i(),o()};return Ee(u),u}const ev=500;function nv(e,n,t){var r,a;const o=L(()=>Ca(e));let i=null;function u(){i!=null&&(clearTimeout(i),i=null)}function l(c){var d,f,p,v;((d=t==null?void 0:t.modifiers)==null?void 0:d.self)&&c.target!==o.value||(u(),(f=t==null?void 0:t.modifiers)!=null&&f.prevent&&c.preventDefault(),(p=t==null?void 0:t.modifiers)!=null&&p.stop&&c.stopPropagation(),i=setTimeout(()=>n(c),(v=t==null?void 0:t.delay)!=null?v:ev))}const s={capture:(r=t==null?void 0:t.modifiers)==null?void 0:r.capture,once:(a=t==null?void 0:t.modifiers)==null?void 0:a.once};On(o,"pointerdown",l,s),On(o,"pointerup",u,s),On(o,"pointerleave",u,s)}const Kp=B({name:"OnLongPress",props:["as","options"],emits:["trigger"],setup(e,{slots:n,emit:t}){const r=O();return nv(r,a=>{t("trigger",a)},e.options),()=>{if(n.default)return he(e.as||"div",{ref:r},n.default())}}});B({name:"UseActiveElement",setup(e,{slots:n}){const t=N({element:_f()});return()=>{if(n.default)return n.default(t)}}});B({name:"UseBattery",setup(e,{slots:n}){const t=N(Ef(e));return()=>{if(n.default)return n.default(t)}}});B({name:"UseBrowserLocation",setup(e,{slots:n}){const t=N(kf());return()=>{if(n.default)return n.default(t)}}});const Gr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},qr="__vueuse_ssr_handlers__";Gr[qr]=Gr[qr]||{};const tv=Gr[qr];function vu(e,n){return tv[e]||n}function rv(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"||Array.isArray(e)?"object":Number.isNaN(e)?"any":"number"}const av={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function ov(e,n,t,r={}){var a;const{flush:o="pre",deep:i=!0,listenToStorageChanges:u=!0,writeDefaults:l=!0,shallow:s,window:c=fn,eventFilter:d,onError:f=m=>{console.error(m)}}=r,p=(s?Gt:O)(n);if(!t)try{t=vu("getDefaultStorage",()=>{var m;return(m=fn)==null?void 0:m.localStorage})()}catch(m){f(m)}if(!t)return p;const v=M(n),h=rv(v),g=(a=r.serializer)!=null?a:av[h],{pause:C,resume:b}=eu(p,()=>y(p.value),{flush:o,deep:i,eventFilter:d});return c&&u&&On(c,"storage",w),w(),p;function y(m){try{m==null?t.removeItem(e):t.setItem(e,g.write(m))}catch(P){f(P)}}function S(m){if(!(m&&m.key!==e)){C();try{const P=m?m.newValue:t.getItem(e);return P==null?(l&&v!==null&&t.setItem(e,g.write(v)),v):typeof P!="string"?P:g.read(P)}catch(P){f(P)}finally{b()}}}function w(m){m&&m.key!==e||(p.value=S(m))}}function iv(e,n={}){const{window:t=fn}=n,r=Boolean(t&&"matchMedia"in t&&typeof t.matchMedia=="function");let a;const o=O(!1),i=()=>{!r||(a||(a=t.matchMedia(e)),o.value=a.matches)};return Ji(()=>{i(),a&&("addEventListener"in a?a.addEventListener("change",i):a.addListener(i),Ee(()=>{"removeEventListener"in a?a.removeEventListener("change",i):a.removeListener(i)}))}),o}function uv(e){return iv("(prefers-color-scheme: dark)",e)}var lv=Object.defineProperty,go=Object.getOwnPropertySymbols,sv=Object.prototype.hasOwnProperty,cv=Object.prototype.propertyIsEnumerable,bo=(e,n,t)=>n in e?lv(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,fv=(e,n)=>{for(var t in n||(n={}))sv.call(n,t)&&bo(e,t,n[t]);if(go)for(var t of go(n))cv.call(n,t)&&bo(e,t,n[t]);return e};function dv(e={}){const{selector:n="html",attribute:t="class",window:r=fn,storage:a,storageKey:o="vueuse-color-scheme",listenToStorageChanges:i=!0,storageRef:u,emitAuto:l}=e,s=fv({auto:"",light:"light",dark:"dark"},e.modes||{}),c=uv({window:r}),d=L(()=>c.value?"dark":"light"),f=u||(o==null?O("auto"):ov(o,"auto",a,{window:r,listenToStorageChanges:i})),p=L({get(){return f.value==="auto"&&!l?d.value:f.value},set(C){f.value=C}}),v=vu("updateHTMLAttrs",(C,b,y)=>{const S=r==null?void 0:r.document.querySelector(C);if(!!S)if(b==="class"){const w=y.split(/\s/g);Object.values(s).flatMap(m=>(m||"").split(/\s/g)).filter(Boolean).forEach(m=>{w.includes(m)?S.classList.add(m):S.classList.remove(m)})}else S.setAttribute(b,y)});function h(C){var b;const y=C==="auto"?d.value:C;v(n,t,(b=s[y])!=null?b:y)}function g(C){e.onChanged?e.onChanged(C,h):h(C)}return z(p,g,{flush:"post",immediate:!0}),Sn(()=>g(p.value)),p}B({name:"UseColorMode",props:["selector","attribute","modes","onChanged","storageKey","storage","emitAuto"],setup(e,{slots:n}){const t=dv(e),r=N({mode:t});return()=>{if(n.default)return n.default(r)}}});B({name:"UseDark",props:["selector","attribute","valueDark","valueLight","onChanged","storageKey","storage"],setup(e,{slots:n}){const t=Uf(e),r=N({isDark:t,toggleDark:vf(t)});return()=>{if(n.default)return n.default(r)}}});B({name:"UseDeviceMotion",setup(e,{slots:n}){const t=N(Wf());return()=>{if(n.default)return n.default(t)}}});B({name:"UseDeviceOrientation",setup(e,{slots:n}){const t=N(Hf());return()=>{if(n.default)return n.default(t)}}});B({name:"UseDevicePixelRatio",setup(e,{slots:n}){const t=N({pixelRatio:Xf()});return()=>{if(n.default)return n.default(t)}}});B({name:"UseDevicesList",props:["onUpdated","requestPermissions","constraints"],setup(e,{slots:n}){const t=N(qf(e));return()=>{if(n.default)return n.default(t)}}});B({name:"UseDocumentVisibility",setup(e,{slots:n}){const t=N({visibility:Jf()});return()=>{if(n.default)return n.default(t)}}});var vv=Object.defineProperty,pv=Object.defineProperties,hv=Object.getOwnPropertyDescriptors,wo=Object.getOwnPropertySymbols,mv=Object.prototype.hasOwnProperty,yv=Object.prototype.propertyIsEnumerable,Oo=(e,n,t)=>n in e?vv(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,gv=(e,n)=>{for(var t in n||(n={}))mv.call(n,t)&&Oo(e,t,n[t]);if(wo)for(var t of wo(n))yv.call(n,t)&&Oo(e,t,n[t]);return e},bv=(e,n)=>pv(e,hv(n));B({name:"UseDraggable",props:["storageKey","storageType","initialValue","exact","preventDefault","stopPropagation","pointerTypes","as"],setup(e,{slots:n}){const t=O(),r=e.storageKey?ru(e.storageKey,M(e.initialValue)||{x:0,y:0},Fe?e.storageType==="session"?sessionStorage:localStorage:void 0):e.initialValue||{x:0,y:0},a=N(ad(t,bv(gv({},e),{initialValue:r})));return()=>{if(n.default)return he(e.as||"div",{ref:t,style:`touch-action:none;${a.style}`},n.default(a))}}});B({name:"UseElementBounding",props:["box","as"],setup(e,{slots:n}){const t=O(),r=N(ld(t));return()=>{if(n.default)return he(e.as||"div",{ref:t},n.default(r))}}});B({name:"UseElementSize",props:["width","height","box"],setup(e,{slots:n}){const t=O(),r=N(iu(t,{width:e.width,height:e.height},{box:e.box}));return()=>{if(n.default)return he(e.as||"div",{ref:t},n.default(r))}}});B({name:"UseElementVisibility",props:["as"],setup(e,{slots:n}){const t=O(),r=N({isVisible:sd(t)});return()=>{if(n.default)return he(e.as||"div",{ref:t},n.default(r))}}});B({name:"UseEyeDropper",props:{sRGBHex:String},setup(e,{slots:n}){const t=N(cd());return()=>{if(n.default)return n.default(t)}}});B({name:"UseFullscreen",props:["as"],setup(e,{slots:n}){const t=O(),r=N(pd(t));return()=>{if(n.default)return he(e.as||"div",{ref:t},n.default(r))}}});B({name:"UseGeolocation",props:["enableHighAccuracy","maximumAge","timeout","navigator"],setup(e,{slots:n}){const t=N(hd(e));return()=>{if(n.default)return n.default(t)}}});B({name:"UseIdle",props:["timeout","events","listenForVisibilityChange","initialState"],setup(e,{slots:n}){const t=N(gd(e.timeout,e));return()=>{if(n.default)return n.default(t)}}});function wv(e,n,t){const{immediate:r=!0,delay:a=0,onError:o=Be,resetOnExecute:i=!0,shallow:u=!0}=t!=null?t:{},l=u?Gt(n):O(n),s=O(!1),c=O(!1),d=O(void 0);async function f(p=0,...v){i&&(l.value=n),d.value=void 0,s.value=!1,c.value=!0,p>0&&await nf(p);const h=typeof e=="function"?e(...v):e;try{const g=await h;l.value=g,s.value=!0}catch(g){d.value=g,o(g)}finally{c.value=!1}return l.value}return r&&f(a),{state:l,isReady:s,isLoading:c,error:d,execute:f}}var Ov=Object.defineProperty,Co=Object.getOwnPropertySymbols,Cv=Object.prototype.hasOwnProperty,Sv=Object.prototype.propertyIsEnumerable,So=(e,n,t)=>n in e?Ov(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Pv=(e,n)=>{for(var t in n||(n={}))Cv.call(n,t)&&So(e,t,n[t]);if(Co)for(var t of Co(n))Sv.call(n,t)&&So(e,t,n[t]);return e};async function _v(e){return new Promise((n,t)=>{const r=new Image,{src:a,srcset:o,sizes:i}=e;r.src=a,o&&(r.srcset=o),i&&(r.sizes=i),r.onload=()=>n(r),r.onerror=t})}const Ev=(e,n={})=>{const t=wv(()=>_v(M(e)),void 0,Pv({resetOnExecute:!0},n));return z(()=>M(e),()=>t.execute(n.delay),{deep:!0}),t};B({name:"UseImage",props:["src","srcset","sizes","as"],setup(e,{slots:n}){const t=N(Ev(e));return()=>t.isLoading&&n.loading?n.loading(t):t.error&&n.error?n.error(t.error):n.default?n.default(t):he(e.as||"img",e)}});B({name:"UseMouse",props:["touch","resetOnTouchEnds","initialValue"],setup(e,{slots:n}){const t=N(uu(e));return()=>{if(n.default)return n.default(t)}}});B({name:"UseMouseElement",props:["handleOutside","as"],setup(e,{slots:n}){const t=O(),r=N(bd(t,e));return()=>{if(n.default)return he(e.as||"div",{ref:t},n.default(r))}}});var kv=Object.defineProperty,$v=Object.defineProperties,Tv=Object.getOwnPropertyDescriptors,Po=Object.getOwnPropertySymbols,Dv=Object.prototype.hasOwnProperty,Av=Object.prototype.propertyIsEnumerable,_o=(e,n,t)=>n in e?kv(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Iv=(e,n)=>{for(var t in n||(n={}))Dv.call(n,t)&&_o(e,t,n[t]);if(Po)for(var t of Po(n))Av.call(n,t)&&_o(e,t,n[t]);return e},Bv=(e,n)=>$v(e,Tv(n));B({name:"UseMousePressed",props:["touch","initialValue","as"],setup(e,{slots:n}){const t=O(),r=N(wd(Bv(Iv({},e),{target:t})));return()=>{if(n.default)return he(e.as||"div",{ref:t},n.default(r))}}});B({name:"UseNetwork",setup(e,{slots:n}){const t=N(lu());return()=>{if(n.default)return n.default(t)}}});var Fv=Object.defineProperty,Rv=Object.defineProperties,Mv=Object.getOwnPropertyDescriptors,Eo=Object.getOwnPropertySymbols,Kv=Object.prototype.hasOwnProperty,Vv=Object.prototype.propertyIsEnumerable,ko=(e,n,t)=>n in e?Fv(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,jv=(e,n)=>{for(var t in n||(n={}))Kv.call(n,t)&&ko(e,t,n[t]);if(Eo)for(var t of Eo(n))Vv.call(n,t)&&ko(e,t,n[t]);return e},Lv=(e,n)=>Rv(e,Mv(n));B({name:"UseNow",props:["interval"],setup(e,{slots:n}){const t=N(su(Lv(jv({},e),{controls:!0})));return()=>{if(n.default)return n.default(t)}}});B({name:"UseObjectUrl",props:["object"],setup(e,{slots:n}){const t=Zo(e,"object"),r=_d(t);return()=>{if(n.default&&r.value)return n.default(r)}}});var Nv=Object.defineProperty,zv=Object.defineProperties,Uv=Object.getOwnPropertyDescriptors,$o=Object.getOwnPropertySymbols,Wv=Object.prototype.hasOwnProperty,Hv=Object.prototype.propertyIsEnumerable,To=(e,n,t)=>n in e?Nv(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Yv=(e,n)=>{for(var t in n||(n={}))Wv.call(n,t)&&To(e,t,n[t]);if($o)for(var t of $o(n))Hv.call(n,t)&&To(e,t,n[t]);return e},Xv=(e,n)=>zv(e,Uv(n));B({name:"UseOffsetPagination",props:["total","page","pageSize","onPageChange","onPageSizeChange","onPageCountChange"],emits:["page-change","page-size-change","page-count-change"],setup(e,{slots:n,emit:t}){const r=N(Ed(Xv(Yv({},e),{onPageChange(...a){var o;(o=e.onPageChange)==null||o.call(e,...a),t("page-change",...a)},onPageSizeChange(...a){var o;(o=e.onPageSizeChange)==null||o.call(e,...a),t("page-size-change",...a)},onPageCountChange(...a){var o;(o=e.onPageCountChange)==null||o.call(e,...a),t("page-count-change",...a)}})));return()=>{if(n.default)return n.default(r)}}});B({name:"UseOnline",setup(e,{slots:n}){const t=N({isOnline:kd()});return()=>{if(n.default)return n.default(t)}}});B({name:"UsePageLeave",setup(e,{slots:n}){const t=N({isLeft:$d()});return()=>{if(n.default)return n.default(t)}}});var Gv=Object.defineProperty,qv=Object.defineProperties,Jv=Object.getOwnPropertyDescriptors,Do=Object.getOwnPropertySymbols,Qv=Object.prototype.hasOwnProperty,Zv=Object.prototype.propertyIsEnumerable,Ao=(e,n,t)=>n in e?Gv(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,xv=(e,n)=>{for(var t in n||(n={}))Qv.call(n,t)&&Ao(e,t,n[t]);if(Do)for(var t of Do(n))Zv.call(n,t)&&Ao(e,t,n[t]);return e},ep=(e,n)=>qv(e,Jv(n));B({name:"UsePointer",props:["pointerTypes","initialValue","target"],setup(e,{slots:n}){const t=O(null),r=N(Kd(ep(xv({},e),{target:e.target==="self"?t:fn})));return()=>{if(n.default)return n.default(r,{ref:t})}}});B({name:"UsePreferredColorScheme",setup(e,{slots:n}){const t=N({colorScheme:Vd()});return()=>{if(n.default)return n.default(t)}}});B({name:"UsePreferredDark",setup(e,{slots:n}){const t=N({prefersDark:Oa()});return()=>{if(n.default)return n.default(t)}}});B({name:"UsePreferredLanguages",setup(e,{slots:n}){const t=N({languages:jd()});return()=>{if(n.default)return n.default(t)}}});function dt(e,n,{window:t=fn,initialValue:r=""}={}){const a=O(r),o=L(()=>{var i;return Ca(n)||((i=t==null?void 0:t.document)==null?void 0:i.documentElement)});return z([o,()=>M(e)],([i,u])=>{var l;if(i&&t){const s=(l=t.getComputedStyle(i).getPropertyValue(u))==null?void 0:l.trim();a.value=s||r}},{immediate:!0}),z(a,i=>{var u;(u=o.value)!=null&&u.style&&o.value.style.setProperty(M(e),i)}),a}const Io="--vueuse-safe-area-top",Bo="--vueuse-safe-area-right",Fo="--vueuse-safe-area-bottom",Ro="--vueuse-safe-area-left";function np(){const e=O(""),n=O(""),t=O(""),r=O("");if(Fe){const o=dt(Io),i=dt(Bo),u=dt(Fo),l=dt(Ro);o.value="env(safe-area-inset-top, 0px)",i.value="env(safe-area-inset-right, 0px)",u.value="env(safe-area-inset-bottom, 0px)",l.value="env(safe-area-inset-left, 0px)",a(),On("resize",af(a))}function a(){e.value=vt(Io),n.value=vt(Bo),t.value=vt(Fo),r.value=vt(Ro)}return{top:e,right:n,bottom:t,left:r,update:a}}function vt(e){return getComputedStyle(document.documentElement).getPropertyValue(e)}B({name:"UseScreenSafeArea",props:{top:Boolean,right:Boolean,bottom:Boolean,left:Boolean},setup(e,{slots:n}){const{top:t,right:r,bottom:a,left:o}=np();return()=>{if(n.default)return he("div",{style:{paddingTop:e.top?t.value:"",paddingRight:e.right?r.value:"",paddingBottom:e.bottom?a.value:"",paddingLeft:e.left?o.value:"",boxSizing:"border-box",maxHeight:"100vh",maxWidth:"100vw",overflow:"auto"}},n.default())}}});function tp(e){const n=e||window.event;return n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)}function rp(e,n=!1){const t=O(n);let r=null,a;z(()=>M(e),u=>{if(u){const l=u;a=l.style.overflow,t.value&&(l.style.overflow="hidden")}},{immediate:!0});const o=()=>{const u=M(e);!u||t.value||(Ha&&(r=On(u,"touchmove",tp,{passive:!1})),u.style.overflow="hidden",t.value=!0)},i=()=>{const u=M(e);!u||!t.value||(Ha&&(r==null||r()),u.style.overflow=a,t.value=!1)};return Ee(i),L({get(){return t.value},set(u){u?o():i()}})}const ap=()=>{let e=!1;const n=O(!1);return(t,r)=>{if(n.value=r.value,e)return;e=!0;const a=rp(t,r.value);z(n,o=>a.value=o)}};ap();var op=Object.defineProperty,ip=Object.defineProperties,up=Object.getOwnPropertyDescriptors,Mo=Object.getOwnPropertySymbols,lp=Object.prototype.hasOwnProperty,sp=Object.prototype.propertyIsEnumerable,Ko=(e,n,t)=>n in e?op(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,cp=(e,n)=>{for(var t in n||(n={}))lp.call(n,t)&&Ko(e,t,n[t]);if(Mo)for(var t of Mo(n))sp.call(n,t)&&Ko(e,t,n[t]);return e},fp=(e,n)=>ip(e,up(n));B({name:"UseTimeAgo",props:["time","updateInterval","max","fullDateFormatter","messages"],setup(e,{slots:n}){const t=Zo(e,"time"),r=N(Hd(t,fp(cp({},e),{controls:!0})));return()=>{if(n.default)return n.default(r)}}});var dp=Object.defineProperty,vp=Object.defineProperties,pp=Object.getOwnPropertyDescriptors,Vo=Object.getOwnPropertySymbols,hp=Object.prototype.hasOwnProperty,mp=Object.prototype.propertyIsEnumerable,jo=(e,n,t)=>n in e?dp(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,yp=(e,n)=>{for(var t in n||(n={}))hp.call(n,t)&&jo(e,t,n[t]);if(Vo)for(var t of Vo(n))mp.call(n,t)&&jo(e,t,n[t]);return e},gp=(e,n)=>vp(e,pp(n));B({name:"UseTimestamp",props:["immediate","interval","offset"],setup(e,{slots:n}){const t=N(Jd(gp(yp({},e),{controls:!0})));return()=>{if(n.default)return n.default(t)}}});var bp=Object.defineProperty,Lo=Object.getOwnPropertySymbols,wp=Object.prototype.hasOwnProperty,Op=Object.prototype.propertyIsEnumerable,No=(e,n,t)=>n in e?bp(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,zo=(e,n)=>{for(var t in n||(n={}))wp.call(n,t)&&No(e,t,n[t]);if(Lo)for(var t of Lo(n))Op.call(n,t)&&No(e,t,n[t]);return e};B({name:"UseVirtualList",props:["list","options","height"],setup(e,{slots:n}){const{list:t}=Qo(e),{list:r,containerProps:a,wrapperProps:o}=Qd(t,e.options);return a.style.height=e.height||"300px",()=>he("div",zo({},a),[he("div",zo({},o.value),r.value.map(i=>he("div",{style:{overFlow:"hidden",height:i.height}},n.default?n.default(i):"Please set content!")))])}});B({name:"UseWindowFocus",setup(e,{slots:n}){const t=N({focused:Zd()});return()=>{if(n.default)return n.default(t)}}});B({name:"UseWindowSize",props:["initialWidth","initialHeight"],setup(e,{slots:n}){const t=N(xd(e));return()=>{if(n.default)return n.default(t)}}});export{Je as C,Jt as D,Ne as I,yt as L,Kp as O,Tp as _,Rp as a,Dp as b,kp as c,Fp as d,$p as e,Ip as f,wr as g,fi as h,qu as i,ye as j,ii as k,Pp as l,Mu as m,nn as n,Qr as o,Ln as p,Bp as q,Ap as r,af as s,pt as t,Mp as u};
