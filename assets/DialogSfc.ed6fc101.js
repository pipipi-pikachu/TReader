var Rl=Object.defineProperty;var Fl=(e,n,t)=>n in e?Rl(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Aa=(e,n,t)=>(Fl(e,typeof n!="symbol"?n+"":n,t),t);import{m as W,o as Pn,n as nt,r as g,q as ai,s as oi,v as Ml,x as Ee,y as ii,c as G,z as li,A as cn,B as De,C as Vl,D as sa,E as q,G as ui,d as M,e as fe,T as Yn,H as on,I as An,J as si,K as ci,a as F,f as Oe,L as T,M as ae,N as Kl,O as ve,P as tt,w as Te,g as J,Q as oe,t as me,b as X,h as bn,i as ue,F as tn,j as dn,p as Ll,k as Nl,R as ca,u as x,S as Hn,U as fi,V as jl,W as zl,X as Ul,Y as Wl,Z as rr,$ as di}from"./index.cb3db58a.js";var vi={locks:{},zIndex:2e3,touchmoveForbid:!0};W(vi);var rn=W(vi);const Ve=e=>typeof e=="string",Yl=e=>typeof e=="boolean",rt=e=>typeof e=="number",vh=e=>Object.prototype.toString.call(e)==="[object Object]",ar=e=>Array.isArray(e),Hl=e=>e?/^(http)|(\.*\/)/.test(e):!1,en=e=>e==null||e===""||Array.isArray(e)&&!e.length,Re=e=>e==null?0:Ve(e)?(e=parseFloat(e),e=Number.isNaN(e)?0:e,e):Yl(e)?Number(e):e,pi=(e,n)=>{if(e.length){const t=e.indexOf(n);if(t>-1)return e.splice(t,1)}},hi=()=>typeof window!="undefined";function Xl(e){var{left:n}=e.getBoundingClientRect();return n+(document.body.scrollLeft||document.documentElement.scrollLeft)}function Tr(e){var{top:n}=e.getBoundingClientRect();return n+(document.body.scrollTop||document.documentElement.scrollTop)}var mi=e=>Ve(e)&&e.endsWith("rem"),Gl=e=>Ve(e)&&e.endsWith("px")||rt(e),ql=e=>Ve(e)&&e.endsWith("%"),yi=e=>Ve(e)&&e.endsWith("vw"),gi=e=>Ve(e)&&e.endsWith("vh"),St=e=>{if(rt(e))return e;if(Gl(e))return+e.replace("px","");if(yi(e))return+e.replace("vw","")*window.innerWidth/100;if(gi(e))return+e.replace("vh","")*window.innerHeight/100;if(mi(e)){var n=+e.replace("rem",""),t=window.getComputedStyle(document.documentElement).fontSize;return n*parseFloat(t)}return Ve(e)?Re(e):0},jt=e=>{if(e!=null)return ql(e)||yi(e)||gi(e)||mi(e)?e:St(e)+"px"},Jl=function(e,n){if(n===void 0&&(n=1),e!=null){var t=jt(e),r=t.match(/(vh|%|rem|px|vw)$/)[0];return""+parseFloat(t)*n+r}};function zt(e){return globalThis.requestAnimationFrame?globalThis.requestAnimationFrame(e):globalThis.setTimeout(e,16)}function Ql(e){zt(()=>{zt(e)})}function Zl(){return new Promise(e=>{zt(()=>{zt(e)})})}function xl(){var e=typeof window!="undefined";return e&&"ontouchstart"in window}var eu=["collect","clear"];function Ba(e,n,t,r,a,o,i){try{var l=e[o](i),u=l.value}catch(s){t(s);return}l.done?n(u):Promise.resolve(u).then(r,a)}function Ra(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function i(u){Ba(o,r,a,i,l,"next",u)}function l(u){Ba(o,r,a,i,l,"throw",u)}i(void 0)})}}function nu(e,n){if(e==null)return{};var t={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(n.indexOf(a)>=0)&&(t[a]=e[a]);return t}function Ut(){return Ut=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ut.apply(this,arguments)}function wn(e,n){return Array.isArray(n)?n.reduce((t,r)=>(t[r]=e[r],t),{}):e[n]}function tu(e){var n=Ml(e),t=document.createElement("div");return document.body.appendChild(t),{instance:n.mount(t),unmount(){n.unmount(),document.body.removeChild(t)}}}function bi(e,n,t){n===void 0&&(n={}),t===void 0&&(t={});var r={setup(){return()=>Ee(e,Ut({},n,t))}},{unmount:a}=tu(r);return{unmountInstance:a}}function ru(e){var n=[],t=r=>{if(r!=null&&r.component){t(r==null?void 0:r.component.subTree);return}Array.isArray(r==null?void 0:r.children)&&r.children.forEach(a=>{sa(a)&&(n.push(a),t(a))})};return t(e),n}function wi(e){var n=W([]),t=cn(),r=()=>{var l=ru(t.subTree);n.sort((u,s)=>l.indexOf(u.vnode)-l.indexOf(s.vnode))},a=l=>{n.push(l),r()},o=l=>{pi(n,l)};ii(e,{collect:a,clear:o,instances:n});var i=G(()=>n.length);return{length:i}}function fa(e){if(!Oi(e))return{index:null};var n=li(e),{collect:t,clear:r,instances:a}=n,o=cn();Pn(()=>{De().then(()=>t(o))}),nt(()=>{De().then(()=>r(o))});var i=G(()=>a.indexOf(o));return{index:i}}function Ci(e){var n=[],t=o=>{n.push(o)},r=o=>{pi(n,o)},a=o=>{ii(e,Ut({collect:t,clear:r},o))};return{childProviders:n,bindChildren:a}}function or(e){if(!Oi(e))return{parentProvider:null,bindParent:null};var n=li(e),{collect:t,clear:r}=n,a=nu(n,eu),o=i=>{Pn(()=>t(i)),Vl(()=>r(i))};return{parentProvider:a,bindParent:o}}function Oi(e){var n=cn();return e in n.provides}function ir(){var e=g(""),n=function(){var a=Ra(function*(o,i,l){if(!ar(o)||!o.length)return!0;var u=yield Promise.all(o.map(s=>s(i,l)));return!u.some(s=>s!==!0?(e.value=String(s),!0):!1)});return function(i,l,u){return a.apply(this,arguments)}}(),t=()=>{e.value=""},r=function(){var a=Ra(function*(o,i,l,u,s){o.includes(i)&&(yield n(l,u,s))&&(e.value="")});return function(i,l,u,s,c){return a.apply(this,arguments)}}();return{errorMessage:e,validate:n,resetValidation:t,validateWithTrigger:r}}function au(e){Pn(()=>{window.addEventListener("hashchange",e),window.addEventListener("popstate",e)}),nt(()=>{window.removeEventListener("hashchange",e),window.removeEventListener("popstate",e)})}function Si(){var e=g(!1);return ai(()=>{e.value=!1}),oi(()=>{e.value=!0}),{disabled:e}}function ou(e){var n=cn();n&&Object.assign(n.proxy,e)}function ye(e){var n="var-"+e,t=a=>a?a.startsWith("--")?""+n+a:n+"__"+a:n,r=function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return o.map(l=>{if(ar(l)){var[u,s,c=null]=l;return u?s:c}return l})};return{n:t,classes:r}}function K(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];if(e)return e(...t)}function Wt(){return Wt=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Wt.apply(this,arguments)}var{n:Pi}=ye("ripple"),Fa=250;function iu(e){var{zIndex:n,position:t}=window.getComputedStyle(e);e.style.overflow="hidden",e.style.overflowX="hidden",e.style.overflowY="hidden",t==="static"&&(e.style.position="relative"),n==="auto"&&(e.style.zIndex="1")}function lu(e,n){var{top:t,left:r}=e.getBoundingClientRect(),{clientWidth:a,clientHeight:o}=e,i=Math.sqrt(Math.pow(a,2)+Math.pow(o,2))/2,l=i*2,u=n.touches[0].clientX-r,s=n.touches[0].clientY-t,c=(a-i*2)/2,d=(o-i*2)/2,f=u-i,p=s-i;return{x:f,y:p,centerX:c,centerY:d,size:l}}function Ei(e){var n=this._ripple;if(n.removeRipple(),!(n.disabled||n.tasker)){var t=()=>{n.tasker=null;var{x:r,y:a,centerX:o,centerY:i,size:l}=lu(this,e),u=document.createElement("div");u.classList.add(Pi()),u.style.opacity="0",u.style.transform="translate("+r+"px, "+a+"px) scale3d(.3, .3, .3)",u.style.width=l+"px",u.style.height=l+"px",n.color&&(u.style.backgroundColor=n.color),u.dataset.createdAt=String(performance.now()),iu(this),this.appendChild(u),window.setTimeout(()=>{u.style.transform="translate("+o+"px, "+i+"px) scale3d(1, 1, 1)",u.style.opacity=".25"},20)};n.tasker=window.setTimeout(t,60)}}function $r(){var e=this._ripple,n=()=>{var t=this.querySelectorAll("."+Pi());if(!!t.length){var r=t[t.length-1],a=Fa-performance.now()+Number(r.dataset.createdAt);setTimeout(()=>{r.style.opacity="0",setTimeout(()=>{var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)},Fa)},a)}};e.tasker?setTimeout(n,60):n()}function ki(){var e=this._ripple;!xl()||!e.touchmoveForbid||(e.tasker&&window.clearTimeout(e.tasker),e.tasker=null)}function uu(e,n){var t,r,a;e._ripple=Wt({tasker:null},(t=n.value)!=null?t:{},{touchmoveForbid:(r=(a=n.value)==null?void 0:a.touchmoveForbid)!=null?r:rn.touchmoveForbid,removeRipple:$r.bind(e)}),e.addEventListener("touchstart",Ei,{passive:!0}),e.addEventListener("touchmove",ki,{passive:!0}),e.addEventListener("dragstart",$r,{passive:!0}),document.addEventListener("touchend",e._ripple.removeRipple,{passive:!0}),document.addEventListener("touchcancel",e._ripple.removeRipple,{passive:!0})}function su(e){e.removeEventListener("touchstart",Ei),e.removeEventListener("touchmove",ki),e.removeEventListener("dragstart",$r),document.removeEventListener("touchend",e._ripple.removeRipple),document.removeEventListener("touchcancel",e._ripple.removeRipple)}function cu(e,n){var t,r,a,o,i,l,u,s={touchmoveForbid:(t=(r=n.value)==null?void 0:r.touchmoveForbid)!=null?t:rn.touchmoveForbid,color:(a=n.value)==null?void 0:a.color,disabled:(o=n.value)==null?void 0:o.disabled},c=s.touchmoveForbid!==((i=e._ripple)==null?void 0:i.touchmoveForbid)||s.color!==((l=e._ripple)==null?void 0:l.color)||s.disabled!==((u=e._ripple)==null?void 0:u.disabled);if(c){var d,f;e._ripple=Wt({tasker:(d=e._ripple)==null?void 0:d.tasker,removeRipple:(f=e._ripple)==null?void 0:f.removeRipple},s)}}var fu={mounted:uu,unmounted:su,updated:cu,install(e){e.directive("ripple",this)}},at=fu;function du(e){return["top","bottom","right","left","center"].includes(e)}var lr={show:{type:Boolean,default:!1},position:{type:String,default:"center",validator:du},transition:{type:String},overlay:{type:Boolean,default:!0},overlayClass:{type:String},overlayStyle:{type:Object},lockScroll:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},teleport:{type:String},onOpen:{type:Function},onOpened:{type:Function},onClose:{type:Function},onClosed:{type:Function},onClickOverlay:{type:Function},onRouteChange:{type:Function},"onUpdate:show":{type:Function}};function Ti(){var e=Object.keys(rn.locks).length;e<=0?document.body.classList.remove("var--lock"):document.body.classList.add("var--lock")}function vt(e){rn.locks[e]=1,Ti()}function pt(e){delete rn.locks[e],Ti()}function vu(e,n){var{uid:t}=cn();n&&q(n,r=>{r===!1?pt(t):r===!0&&e()===!0&&vt(t)}),q(e,r=>{n&&n()===!1||(r===!0?vt(t):pt(t))}),ui(()=>{n&&n()===!1||e()===!0&&vt(t)}),nt(()=>{n&&n()===!1||e()===!0&&pt(t)}),ai(()=>{n&&n()===!1||e()===!0&&vt(t)}),oi(()=>{n&&n()===!1||e()===!0&&pt(t)})}function $i(e,n){var t=g(rn.zIndex);return q(e,r=>{r&&(rn.zIndex+=n,t.value=rn.zIndex)},{immediate:!0}),{zIndex:t}}function Dr(){return Dr=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Dr.apply(this,arguments)}function pu(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!sa(e)}var{n:ht,classes:mr}=ye("popup"),an=M({name:"VarPopup",inheritAttrs:!1,props:lr,setup(e,n){var{slots:t,attrs:r}=n,{zIndex:a}=$i(()=>e.show,3),{disabled:o}=Si(),i=()=>{var c,{closeOnClickOverlay:d,onClickOverlay:f}=e;f==null||f(),d&&((c=e["onUpdate:show"])==null||c.call(e,!1))};vu(()=>e.show,()=>e.lockScroll),q(()=>e.show,c=>{var{onOpen:d,onClose:f}=e;c?d==null||d():f==null||f()}),au(()=>e.onRouteChange==null?void 0:e.onRouteChange());var l=()=>{var{overlayClass:c="",overlayStyle:d}=e;return fe("div",{class:mr(ht("overlay"),c),style:Dr({zIndex:a.value-1},d),onClick:i},null)},u=()=>fe("div",An({class:mr(ht("content"),"var-elevation--3",ht("--"+e.position)),style:{zIndex:a.value}},r),[t.default==null?void 0:t.default()]),s=()=>{var{onOpened:c,onClosed:d,show:f,overlay:p,transition:v,position:h}=e;return fe(Yn,{name:"var-fade",onAfterEnter:c,onAfterLeave:d},{default:()=>[on(fe("div",{class:mr("var--box",ht()),style:{zIndex:a.value-2}},[p&&l(),fe(Yn,{name:v||"var-pop-"+h},{default:()=>[f&&u()]})]),[[ci,f]])]})};return()=>{var{teleport:c}=e;if(c){var d;return fe(si,{to:c,disabled:o.value},pu(d=s())?d:{default:()=>[d]})}return s()}}});an.install=function(e){e.component(an.name,an)};var hu=an,Di={name:{type:String},size:{type:[Number,String]},color:{type:String},namespace:{type:String,default:"var-icon"},transition:{type:[Number,String],default:0},onClick:{type:Function}};function Ma(e,n,t,r,a,o,i){try{var l=e[o](i),u=l.value}catch(s){t(s);return}l.done?n(u):Promise.resolve(u).then(r,a)}function mu(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function i(u){Ma(o,r,a,i,l,"next",u)}function l(u){Ma(o,r,a,i,l,"throw",u)}i(void 0)})}}var{n:yu,classes:gu}=ye("icon");function bu(e,n){return F(),Oe(Kl(e.isURL(e.name)?"img":"i"),{class:T(e.classes(e.n(),e.namespace+"--set",[e.isURL(e.name),e.n("image"),e.namespace+"-"+e.nextName],[e.shrinking,e.n("--shrinking")])),style:ae({color:e.color,transition:"transform "+e.toNumber(e.transition)+"ms",width:e.isURL(e.name)?e.toSizeUnit(e.size):null,height:e.isURL(e.name)?e.toSizeUnit(e.size):null,fontSize:e.toSizeUnit(e.size)}),src:e.isURL(e.name)?e.nextName:null,onClick:e.onClick},null,8,["class","style","src","onClick"])}var Fe=M({render:bu,name:"VarIcon",props:Di,setup(e){var n=g(""),t=g(!1),r=function(){var a=mu(function*(o,i){var{transition:l}=e;if(i==null||Re(l)===0){n.value=o;return}t.value=!0,yield De(),setTimeout(()=>{i!=null&&(n.value=o),t.value=!1},Re(l))});return function(i,l){return a.apply(this,arguments)}}();return q(()=>e.name,r,{immediate:!0}),{n:yu,classes:gu,nextName:n,shrinking:t,isURL:Hl,toNumber:Re,toSizeUnit:jt}}});Fe.install=function(e){e.component(Fe.name,Fe)};var wu=Fe;function Ir(){return Ir=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ir.apply(this,arguments)}var Cu=Ir({show:{type:Boolean,default:!1},actions:{type:Array,default:()=>[]},title:{type:String},closeOnClickAction:{type:Boolean,default:!0},onSelect:{type:Function},"onUpdate:show":{type:Function}},wn(lr,["overlay","overlayClass","overlayStyle","lockScroll","closeOnClickOverlay","teleport","onOpen","onClose","onOpened","onClosed","onClickOverlay","onRouteChange"])),Va=e=>e==null?!1:e.startsWith("data:image")||/\.(png|jpg|gif|jpeg|svg)$/.test(e),Ka=e=>e==null?!1:e.startsWith("data:video")||/\.(mp4|webm|ogg)$/.test(e),Ii=(e,n)=>e==null?n:e,Ou={dialogTitle:"\u63D0\u793A",dialogConfirmButtonText:"\u786E\u8BA4",dialogCancelButtonText:"\u53D6\u6D88",actionSheetTitle:"\u8BF7\u9009\u62E9",listLoadingText:"\u52A0\u8F7D\u4E2D",listFinishedText:"\u6CA1\u6709\u66F4\u591A\u4E86",listErrorText:"\u52A0\u8F7D\u5931\u8D25",pickerTitle:"\u8BF7\u9009\u62E9",pickerConfirmButtonText:"\u786E\u8BA4",pickerCancelButtonText:"\u53D6\u6D88",datePickerMonthDict:{"01":{name:"\u4E00\u6708",abbr:"\u4E00\u6708"},"02":{name:"\u4E8C\u6708",abbr:"\u4E8C\u6708"},"03":{name:"\u4E09\u6708",abbr:"\u4E09\u6708"},"04":{name:"\u56DB\u6708",abbr:"\u56DB\u6708"},"05":{name:"\u4E94\u6708",abbr:"\u4E94\u6708"},"06":{name:"\u516D\u6708",abbr:"\u516D\u6708"},"07":{name:"\u4E03\u6708",abbr:"\u4E03\u6708"},"08":{name:"\u516B\u6708",abbr:"\u516B\u6708"},"09":{name:"\u4E5D\u6708",abbr:"\u4E5D\u6708"},10:{name:"\u5341\u6708",abbr:"\u5341\u6708"},11:{name:"\u5341\u4E00\u6708",abbr:"\u5341\u4E00\u6708"},12:{name:"\u5341\u4E8C\u6708",abbr:"\u5341\u4E8C\u6708"}},datePickerWeekDict:{0:{name:"\u661F\u671F\u65E5",abbr:"\u65E5"},1:{name:"\u661F\u671F\u4E00",abbr:"\u4E00"},2:{name:"\u661F\u671F\u4E8C",abbr:"\u4E8C"},3:{name:"\u661F\u671F\u4E09",abbr:"\u4E09"},4:{name:"\u661F\u671F\u56DB",abbr:"\u56DB"},5:{name:"\u661F\u671F\u4E94",abbr:"\u4E94"},6:{name:"\u661F\u671F\u516D",abbr:"\u516D"}},datePickerSelected:"\u4E2A\u88AB\u9009\u62E9",paginationItem:"\u6761",paginationPage:"\u9875",paginationJump:"\u524D\u5F80"};function _r(){return _r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_r.apply(this,arguments)}function Su(){var e={},n=g({}),t=(o,i)=>{i.lang=o,e[o]=i},r=o=>{if(!e[o])return console.warn("The "+o+" does not exist. You can mount a language package using the add method"),{};n.value=e[o]},a=(o,i)=>{if(!e[o]){console.warn("The "+o+" does not exist. You can mount a language package using the add method");return}e[o]=_r({},e[o],i),r(o)};return{packs:e,pack:n,add:t,use:r,merge:a}}var{packs:ph,pack:_i,add:Pu,use:Eu,merge:hh}=Su();Pu("zh-CN",Ou);Eu("zh-CN");var{n:ku,classes:Tu}=ye("action-sheet"),$u=["onClick"];function Du(e,n){var t=ve("var-icon"),r=ve("var-popup"),a=tt("ripple");return F(),Oe(r,An({class:e.n("popup-radius"),position:"bottom",overlay:e.overlay,"overlay-class":e.overlayClass,"overlay-style":e.overlayStyle,"lock-scroll":e.lockScroll,"close-on-click-overlay":e.closeOnClickOverlay,teleport:e.teleport,show:e.popupShow},{"onUpdate:show":e.handlePopupUpdateShow},{onOpen:e.onOpen,onClose:e.onClose,onClosed:e.onClosed,onOpened:e.onOpened,onRouteChange:e.onRouteChange}),{default:Te(()=>[J("div",An({class:e.classes(e.n(),"var--box")},e.$attrs),[oe(e.$slots,"title",{},()=>[J("div",{class:T(e.n("title"))},me(e.dt(e.title,e.pack.actionSheetTitle)),3)]),oe(e.$slots,"actions",{},()=>[(F(!0),X(tn,null,bn(e.actions,o=>on((F(),X("div",{class:T(e.classes(e.n("action-item"),o.className,[o.disabled,e.n("--disabled")])),key:o.name,style:ae({color:o.color}),onClick:i=>e.handleSelect(o)},[o.icon?(F(),Oe(t,{key:0,class:T(e.n("action-icon")),"var-action-sheet-cover":"",name:o.icon,size:o.iconSize},null,8,["class","name","size"])):ue("v-if",!0),J("div",{class:T(e.n("action-name"))},me(o.name),3)],14,$u)),[[a,{disabled:o.disabled}]])),128))])],16)]),_:3},16,["class","overlay","overlay-class","overlay-style","lock-scroll","close-on-click-overlay","teleport","show","onOpen","onClose","onClosed","onOpened","onRouteChange"])}var Pt=M({render:Du,name:"VarActionSheet",directives:{Ripple:at},components:{VarPopup:an,VarIcon:Fe},inheritAttrs:!1,props:Cu,setup(e){var n=g(!1),t=a=>{if(!a.disabled){var{closeOnClickAction:o,onSelect:i}=e;K(i,a),o&&K(e["onUpdate:show"],!1)}},r=a=>K(e["onUpdate:show"],a);return q(()=>e.show,a=>{n.value=a},{immediate:!0}),{n:ku,classes:Tu,handlePopupUpdateShow:r,popupShow:n,pack:_i,dt:Ii,handleSelect:t}}});Pt.install=function(e){e.component(Pt.name,Pt)};var Iu=Pt;function _u(e){return["circle","wave","cube","rect","disappear"].includes(e)}function Au(e){return["normal","mini","small","large"].includes(e)}var Ar={type:{type:String,default:"circle",validator:_u},radius:{type:[String,Number]},size:{type:String,default:"normal",validator:Au},color:{type:String,default:"currentColor"},description:{type:String},loading:{type:Boolean,default:!1}},{n:Bu,classes:Ru}=ye("loading"),Fu=e=>(Ll(""),e=e(),Nl(),e),Mu=Fu(()=>J("svg",{viewBox:"25 25 50 50"},[J("circle",{cx:"50",cy:"50",r:"20",fill:"none"})],-1)),Vu=[Mu];function Ku(e,n){return F(),X("div",{class:T(e.n())},[e.$slots.default?(F(),X("div",{key:0,class:T(e.classes(e.n("content"),[e.loading,e.n("content--active")]))},[oe(e.$slots,"default"),e.loading?(F(),X("div",{key:0,class:T(e.n("content-mask"))},null,2)):ue("v-if",!0)],2)):ue("v-if",!0),e.isShow?(F(),X("div",{key:1,class:T(e.classes("var--box",e.n("body"),[e.$slots.default,e.n("inside")]))},[e.type==="circle"?(F(),X("div",{key:0,class:T(e.n("circle"))},[J("span",{class:T(e.classes(e.n("circle-block"),e.n("circle-block--"+e.size))),style:ae({width:e.multiplySizeUnit(e.radius,2),height:e.multiplySizeUnit(e.radius,2),color:e.color})},Vu,6)],2)):ue("v-if",!0),(F(!0),X(tn,null,bn(e.loadingTypeDict,(t,r)=>(F(),X(tn,{key:r},[e.type===r?(F(),X("div",{key:0,class:T(e.classes(e.n(r),e.n(r+"--"+e.size)))},[(F(!0),X(tn,null,bn(t,a=>(F(),X("div",{key:a+r,style:ae({backgroundColor:e.color}),class:T(e.classes(e.n(r+"-item"),e.n(r+"-item--"+e.size)))},null,6))),128))],2)):ue("v-if",!0)],64))),128)),e.$slots.description||e.description?(F(),X("div",{key:1,class:T(e.classes(e.n("description"),e.n("description--"+e.size))),style:ae({color:e.color})},[oe(e.$slots,"description",{},()=>[dn(me(e.description),1)])],6)):ue("v-if",!0)],2)):ue("v-if",!0)],2)}var Et=M({render:Ku,name:"VarLoading",props:Ar,setup(e,n){var{slots:t}=n,r={wave:5,cube:4,rect:8,disappear:3},a=G(()=>K(t.default)?e.loading:!0);return{n:Bu,classes:Ru,multiplySizeUnit:Jl,loadingTypeDict:r,isShow:a}}});Et.install=function(e){e.component(Et.name,Et)};function Lu(e){return["default","primary","info","success","warning","danger"].includes(e)}function Nu(e){return["normal","mini","small","large"].includes(e)}var ju={type:{type:String,default:"default",validator:Lu},size:{type:String,default:"normal",validator:Nu},loading:{type:Boolean,default:!1},round:{type:Boolean,default:!1},block:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},ripple:{type:Boolean,default:!0},color:{type:String},textColor:{type:String},autoLoading:{type:Boolean,default:!1},loadingRadius:{type:[Number,String],default:12},loadingType:wn(Ar,"type"),loadingSize:wn(Ar,"size"),onClick:{type:Function},onTouchstart:{type:Function}},{n:zu,classes:Uu}=ye("button"),Wu=["disabled"];function Yu(e,n){var t=ve("var-loading"),r=tt("ripple");return on((F(),X("button",{class:T(e.classes(e.n(),"var--box",e.n("--"+e.size),[e.block,"var--flex "+e.n("--block"),"var--inline-flex"],[e.disabled,e.n("--disabled")],[e.text,e.n("--text-"+e.type)+" "+e.n("--text"),e.n("--"+e.type)+" var-elevation--2"],[e.text&&e.disabled,e.n("--text-disabled")],[e.round,e.n("--round")],[e.outline,e.n("--outline")])),style:ae({color:e.textColor,background:e.color}),disabled:e.disabled,onClick:n[0]||(n[0]=function(){return e.handleClick&&e.handleClick(...arguments)}),onTouchstart:n[1]||(n[1]=function(){return e.handleTouchstart&&e.handleTouchstart(...arguments)})},[e.loading||e.pending?(F(),Oe(t,{key:0,class:T(e.n("loading")),"var-button-cover":"",type:e.loadingType,size:e.loadingSize,radius:e.loadingRadius},null,8,["class","type","size","radius"])):ue("v-if",!0),J("div",{class:T(e.classes(e.n("content"),[e.loading||e.pending,e.n("--hidden")]))},[oe(e.$slots,"default")],2)],46,Wu)),[[r,{disabled:e.disabled||!e.ripple}]])}var jn=M({render:Yu,name:"VarButton",components:{VarLoading:Et},directives:{Ripple:at},props:ju,setup(e){var n=g(!1),t=o=>{e.autoLoading&&(n.value=!0,Promise.resolve(o).finally(()=>{n.value=!1}))},r=o=>{var{loading:i,disabled:l,onClick:u}=e;!u||i||l||n.value||t(u(o))},a=o=>{var{loading:i,disabled:l,onTouchstart:u}=e;!u||i||l||n.value||t(u(o))};return{n:zu,classes:Uu,pending:n,handleClick:r,handleTouchstart:a}}});jn.install=function(e){e.component(jn.name,jn)};var Hu=jn,Xu={errorMessage:{type:String,default:""},maxlengthText:{type:String,default:""}},{n:Gu}=ye("form-details");function qu(e,n){return F(),Oe(Yn,{name:e.n()},{default:Te(()=>[e.errorMessage||e.maxlengthText?(F(),X("div",{key:0,class:T(e.n())},[J("div",{class:T(e.n("message"))},me(e.errorMessage),3),J("div",{class:T(e.n("length"))},me(e.maxlengthText),3)],2)):ue("v-if",!0)]),_:1},8,["name"])}var pn=M({render:qu,name:"VarFormDetails",props:Xu,setup:()=>({n:Gu})});pn.install=function(e){e.component(pn.name,pn)};var Ju={modelValue:{type:[String,Number,Boolean,Object,Array],default:!1},checkedValue:{type:[String,Number,Boolean,Object,Array],default:!0},uncheckedValue:{type:[String,Number,Boolean,Object,Array],default:!1},checkedColor:{type:String},uncheckedColor:{type:String},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},iconSize:{type:[String,Number]},ripple:{type:Boolean,default:!0},validateTrigger:{type:Array,default:["onChange"]},rules:{type:Array},onClick:{type:Function},onChange:{type:Function},"onUpdate:modelValue":{type:Function}},Qu=Symbol("CHECKBOX_GROUP_BIND_CHECKBOX_KEY"),Zu=Symbol("CHECKBOX_GROUP_COUNT_CHECKBOX_KEY");function xu(){var{bindParent:e,parentProvider:n}=or(Qu),{index:t}=fa(Zu);return{index:t,checkboxGroup:n,bindCheckboxGroup:e}}var es=Symbol("FORM_BIND_FORM_ITEM_KEY");function ur(){var{bindParent:e,parentProvider:n}=or(es);return{bindForm:e,form:n}}var{n:ns,classes:ts}=ye("checkbox");function rs(e,n){var t=ve("var-icon"),r=ve("var-form-details"),a=tt("ripple");return F(),X("div",{class:T(e.n("wrap")),onClick:n[0]||(n[0]=function(){return e.handleClick&&e.handleClick(...arguments)})},[J("div",{class:T(e.n())},[on((F(),X("div",{class:T(e.classes(e.n("action"),[e.checked,e.n("--checked"),e.n("--unchecked")],[e.errorMessage||e.checkboxGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:ae({color:e.checked?e.checkedColor:e.uncheckedColor})},[e.checked?oe(e.$slots,"checked-icon",{key:0},()=>[fe(t,{class:T(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),name:"checkbox-marked",size:e.iconSize,"var-checkbox-cover":""},null,8,["class","size"])]):oe(e.$slots,"unchecked-icon",{key:1},()=>[fe(t,{class:T(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),name:"checkbox-blank-outline",size:e.iconSize,"var-checkbox-cover":""},null,8,["class","size"])])],6)),[[a,{disabled:e.formReadonly||e.readonly||e.formDisabled||e.disabled||!e.ripple}]]),J("div",{class:T(e.classes(e.n("text"),[e.errorMessage||e.checkboxGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")]))},[oe(e.$slots,"default")],2)],2),fe(r,{"error-message":e.errorMessage},null,8,["error-message"])],2)}var kt=M({render:rs,name:"VarCheckbox",directives:{Ripple:at},components:{VarIcon:Fe,VarFormDetails:pn},props:Ju,setup(e){var n=g(!1),t=G(()=>n.value===e.checkedValue),r=G(()=>e.checkedValue),a=g(!1),{checkboxGroup:o,bindCheckboxGroup:i}=xu(),{form:l,bindForm:u}=ur(),{errorMessage:s,validateWithTrigger:c,validate:d,resetValidation:f}=ir(),p=m=>{De(()=>{var{validateTrigger:E,rules:k,modelValue:I}=e;c(E,m,k,I)})},v=m=>{n.value=m;var{checkedValue:E,onChange:k}=e;K(e["onUpdate:modelValue"],n.value),K(k,n.value),p("onChange"),m===E?o==null||o.onChecked(E):o==null||o.onUnchecked(E)},h=m=>{var{disabled:E,readonly:k,checkedValue:I,uncheckedValue:P,onClick:$}=e;if(!(l!=null&&l.disabled.value||E)&&(K($,m),!(l!=null&&l.readonly.value||k))){a.value=!0;var _=o?o.checkedCount.value>=Number(o.max.value):!1;!t.value&&_||v(t.value?P:I)}},y=m=>{var{checkedValue:E,uncheckedValue:k}=e;n.value=m.includes(E)?E:k},C=()=>{a.value=!1},O=()=>{K(e["onUpdate:modelValue"],e.uncheckedValue),f()},S=m=>{var{checkedValue:E,uncheckedValue:k}=e,I=![E,k].includes(m);I&&(m=t.value?k:E),v(m)},w=()=>d(e.rules,e.modelValue);q(()=>e.modelValue,m=>{n.value=m},{immediate:!0});var b={checkedValue:r,checked:t,sync:y,validate:w,resetValidation:f,reset:O,resetWithAnimation:C};return K(i,b),K(u,b),{withAnimation:a,checked:t,errorMessage:s,checkboxGroupErrorMessage:o==null?void 0:o.errorMessage,formDisabled:l==null?void 0:l.disabled,formReadonly:l==null?void 0:l.readonly,n:ns,classes:ts,handleClick:h,toggle:S,reset:O,validate:w,resetValidation:f}}});kt.install=function(e){e.component(kt.name,kt)};function as(e){return["default","primary","info","success","warning","danger"].includes(e)}function os(e){return["normal","mini","small","large"].includes(e)}var is={type:{type:String,default:"default",validator:as},size:{type:String,default:"normal",validator:os},color:{type:String},textColor:{type:String},iconName:wn(Di,"name"),plain:{type:Boolean,default:!1},round:{type:Boolean,default:!0},block:{type:Boolean,default:!1},closable:{type:Boolean,default:!1},onClose:{type:Function}},{n:kn,classes:ls}=ye("chip");function us(e,n){var t=ve("var-icon");return F(),Oe(Yn,{name:"var-fade"},{default:Te(()=>[J("span",An({class:e.classes(e.n(),"var--box",...e.contentClass),style:e.chipStyles},e.$attrs),[oe(e.$slots,"left"),J("span",{class:T(e.n("text-"+e.size))},[oe(e.$slots,"default")],2),oe(e.$slots,"right"),e.closable?(F(),X("span",{key:0,class:T(e.n("--close")),onClick:n[0]||(n[0]=function(){return e.onClose&&e.onClose(...arguments)})},[fe(t,{name:""+(e.iconName?e.iconName:"close-circle")},null,8,["name"])],2)):ue("v-if",!0)],16)]),_:3})}var Tt=M({render:us,name:"VarChip",components:{VarIcon:Fe},inheritAttrs:!1,props:is,setup(e){var n=G(()=>{var{plain:r,textColor:a,color:o}=e;return r?{color:a||o,borderColor:o}:{color:a,background:o}}),t=G(()=>{var{size:r,block:a,type:o,plain:i,round:l}=e,u=a?"var--flex":"var--inline-flex",s=i?kn("plain")+" "+kn("plain-"+o):kn("--"+o),c=l?kn("--round"):null;return[kn("--"+r),u,s,c]});return{n:kn,classes:ls,chipStyles:n,contentClass:t}}});Tt.install=function(e){e.component(Tt.name,Tt)};function Br(){return Br=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Br.apply(this,arguments)}function ss(e){return["left","center","right"].includes(e)}var cs=Br({show:{type:Boolean,default:!1},title:{type:String},message:{type:String},messageAlign:{type:String,default:"left",validator:ss},confirmButton:{type:Boolean,default:!0},cancelButton:{type:Boolean,default:!0},confirmButtonText:{type:String},cancelButtonText:{type:String},confirmButtonTextColor:{type:String},cancelButtonTextColor:{type:String},confirmButtonColor:{type:String},cancelButtonColor:{type:String},onBeforeClose:{type:Function},onConfirm:{type:Function},onCancel:{type:Function},"onUpdate:show":{type:Function},dialogClass:{type:String},dialogStyle:{type:Object}},wn(lr,["overlay","overlayClass","overlayStyle","lockScroll","closeOnClickOverlay","teleport","onOpen","onClose","onOpened","onClosed","onClickOverlay","onRouteChange"])),{n:fs,classes:ds}=ye("dialog");function vs(e,n){var t=ve("var-button"),r=ve("var-popup");return F(),Oe(r,{class:T(e.n("popup")),"var-dialog-cover":"",show:e.popupShow,overlay:e.overlay,"overlay-class":e.overlayClass,"overlay-style":e.overlayStyle,"lock-scroll":e.lockScroll,"close-on-click-overlay":e.popupCloseOnClickOverlay,teleport:e.teleport,onOpen:e.onOpen,onClose:e.onClose,onClosed:e.onClosed,onOpened:e.onOpened,onRouteChange:e.onRouteChange,onClickOverlay:e.handleClickOverlay},{default:Te(()=>[J("div",An({class:e.classes("var--box",e.n(),e.dialogClass),style:e.dialogStyle},e.$attrs),[J("div",{class:T(e.n("title"))},[oe(e.$slots,"title",{},()=>[dn(me(e.dt(e.title,e.pack.dialogTitle)),1)])],2),J("div",{class:T(e.n("message")),style:ae({textAlign:e.messageAlign})},[oe(e.$slots,"default",{},()=>[dn(me(e.message),1)])],6),J("div",{class:T(e.n("actions"))},[e.cancelButton?(F(),Oe(t,{key:0,class:T(e.classes(e.n("button"),e.n("cancel-button"))),"var-dialog-cover":"",text:"","text-color":e.cancelButtonTextColor,color:e.cancelButtonColor,onClick:e.cancel},{default:Te(()=>[dn(me(e.dt(e.cancelButtonText,e.pack.dialogCancelButtonText)),1)]),_:1},8,["class","text-color","color","onClick"])):ue("v-if",!0),e.confirmButton?(F(),Oe(t,{key:1,class:T(e.classes(e.n("button"),e.n("confirm-button"))),"var-dialog-cover":"",text:"","text-color":e.confirmButtonTextColor,color:e.confirmButtonColor,onClick:e.confirm},{default:Te(()=>[dn(me(e.dt(e.confirmButtonText,e.pack.dialogConfirmButtonText)),1)]),_:1},8,["class","text-color","color","onClick"])):ue("v-if",!0)],2)],16)]),_:3},8,["class","show","overlay","overlay-class","overlay-style","lock-scroll","close-on-click-overlay","teleport","onOpen","onClose","onClosed","onOpened","onRouteChange","onClickOverlay"])}var hn=M({render:vs,name:"VarDialog",components:{VarPopup:an,VarButton:jn},inheritAttrs:!1,props:cs,setup(e){var n=g(!1),t=g(!1),r=()=>K(e["onUpdate:show"],!1),a=()=>{var{closeOnClickOverlay:l,onClickOverlay:u,onBeforeClose:s}=e;if(K(u),!!l){if(s!=null){s("close",r);return}K(e["onUpdate:show"],!1)}},o=()=>{var{onBeforeClose:l,onConfirm:u}=e;if(K(u),l!=null){l("confirm",r);return}K(e["onUpdate:show"],!1)},i=()=>{var{onBeforeClose:l,onCancel:u}=e;if(K(u),l!=null){l("cancel",r);return}K(e["onUpdate:show"],!1)};return q(()=>e.show,l=>{n.value=l},{immediate:!0}),q(()=>e.closeOnClickOverlay,l=>{if(e.onBeforeClose!=null){t.value=!1;return}t.value=l},{immediate:!0}),{n:fs,classes:ds,pack:_i,dt:Ii,popupShow:n,popupCloseOnClickOverlay:t,handleClickOverlay:a,confirm:o,cancel:i}}}),Ze;function sr(e){return hi()?new Promise(n=>{sr.close();var t=Ve(e)||rt(e)?{message:String(e)}:e,r=W(t);r.teleport="body",Ze=r;var{unmountInstance:a}=bi(hn,r,{onConfirm:()=>{r.onConfirm==null||r.onConfirm(),n("confirm")},onCancel:()=>{r.onCancel==null||r.onCancel(),n("cancel")},onClose:()=>{r.onClose==null||r.onClose(),n("close")},onClosed:()=>{r.onClosed==null||r.onClosed(),a(),Ze===r&&(Ze=null)},onRouteChange:()=>{a(),Ze===r&&(Ze=null)},"onUpdate:show":o=>{r.show=o}});r.show=!0}):Promise.resolve()}hn.install=function(e){e.component(hn.name,hn)};sr.install=function(e){e.component(hn.name,hn)};sr.close=()=>{if(Ze!=null){var e=Ze;Ze=null,De().then(()=>{e.show=!1})}};sr.Component=hn;var Ai=Symbol("SWIPE_BIND_SWIPE_ITEM_KEY"),Bi=Symbol("SWIPE_COUNT_SWIPE_ITEM_KEY");function ps(){var{childProviders:e,bindChildren:n}=Ci(Ai),{length:t}=wi(Bi);return{length:t,swipeItems:e,bindSwipeItems:n}}var Ri={loop:{type:Boolean,default:!0},autoplay:{type:[String,Number]},duration:{type:[String,Number],default:300},initialIndex:{type:[String,Number],default:0},indicator:{type:Boolean,default:!0},indicatorColor:{type:String},vertical:{type:Boolean,default:!1},touchable:{type:Boolean,default:!0},onChange:{type:Function}};function La(e,n,t,r,a,o,i){try{var l=e[o](i),u=l.value}catch(s){t(s);return}l.done?n(u):Promise.resolve(u).then(r,a)}function hs(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function i(u){La(o,r,a,i,l,"next",u)}function l(u){La(o,r,a,i,l,"throw",u)}i(void 0)})}}var ms=250,ys=20,{n:gs,classes:bs}=ye("swipe"),ws=["onClick"];function Cs(e,n){return F(),X("div",{class:T(e.n()),ref:"swipeEl"},[J("div",{class:T(e.classes(e.n("track"),[e.vertical,e.n("--vertical")])),style:ae({width:e.vertical?void 0:e.trackSize+"px",height:e.vertical?e.trackSize+"px":void 0,transform:"translate"+(e.vertical?"Y":"X")+"("+e.translate+"px)",transitionDuration:e.lockDuration?"0ms":e.toNumber(e.duration)+"ms"}),onTouchstart:n[0]||(n[0]=function(){return e.handleTouchstart&&e.handleTouchstart(...arguments)}),onTouchmove:n[1]||(n[1]=function(){return e.handleTouchmove&&e.handleTouchmove(...arguments)}),onTouchend:n[2]||(n[2]=function(){return e.handleTouchend&&e.handleTouchend(...arguments)})},[oe(e.$slots,"default")],38),oe(e.$slots,"indicator",{index:e.index,length:e.length},()=>[e.indicator&&e.length?(F(),X("div",{key:0,class:T(e.classes(e.n("indicators"),[e.vertical,e.n("--indicators-vertical")]))},[(F(!0),X(tn,null,bn(e.length,(t,r)=>(F(),X("div",{class:T(e.classes(e.n("indicator"),[e.index===r,e.n("--indicator-active")],[e.vertical,e.n("--indicator-vertical")])),style:ae({background:e.indicatorColor}),key:t,onClick:a=>e.to(r)},null,14,ws))),128))],2)):ue("v-if",!0)])],2)}var $t=M({render:Cs,name:"VarSwipe",props:Ri,setup(e){var n=g(null),t=g(0),r=G(()=>e.vertical),a=g(0),o=g(0),i=g(!1),l=g(0),{swipeItems:u,bindSwipeItems:s,length:c}=ps(),d=!1,f=-1,p,v,h,y,C,O=R=>u.find(H=>{var{index:Q}=H;return Q.value===R}),S=()=>{!e.loop||(o.value>=0&&O(c.value-1).setTranslate(-a.value),o.value<=-(a.value-t.value)&&O(0).setTranslate(a.value),o.value>-(a.value-t.value)&&o.value<0&&(O(c.value-1).setTranslate(0),O(0).setTranslate(0)))},w=R=>{var H=rt(R)?R:Math.floor((o.value-t.value/2)/-t.value),{loop:Q}=e;return H<=-1?Q?-1:0:H>=c.value?Q?c.value:c.value-1:H},b=R=>{var{loop:H}=e;return R===-1?H?c.value-1:0:R===c.value?H?0:c.value-1:R},m=R=>{var{loop:H}=e;return R<0?H?c.value-1:0:R>c.value-1?H?0:c.value-1:R},E=R=>{var H=o.value>=t.value,Q=o.value<=-a.value,z=0,V=-(a.value-t.value);i.value=!0,(H||Q)&&(i.value=!0,o.value=Q?z:V,O(0).setTranslate(0),O(c.value-1).setTranslate(0)),Ql(()=>{i.value=!1,K(R)})},k=()=>{l.value=m(Re(e.initialIndex))},I=()=>{var{autoplay:R}=e;!R||c.value<=1||(P(),f=window.setTimeout(()=>{Y(),I()},Re(R)))},P=()=>{f&&clearTimeout(f)},$=(R,H)=>{if(R>H&&R>10)return"horizontal";if(H>R&&H>10)return"vertical"},_=R=>{if(!(c.value<=1||!e.touchable)){var{clientX:H,clientY:Q}=R.touches[0];p=H,v=Q,h=performance.now(),d=!0,P(),E(()=>{i.value=!0})}},L=R=>{var{touchable:H,vertical:Q}=e;if(!(!d||!H)){var{clientX:z,clientY:V}=R.touches[0],Z=Math.abs(z-p),ee=Math.abs(V-v),be=$(Z,ee),Se=Q?"vertical":"horizontal";if(be===Se){R.preventDefault();var ze=y!==void 0?z-y:0,ge=C!==void 0?V-C:0;y=z,C=V,o.value+=Q?ge:ze,S()}}},A=()=>{if(!!d){var{vertical:R,onChange:H}=e,Q=R?C<v:y<p,z=Math.abs(R?v-C:p-y),V=performance.now()-h<=ms&&z>=ys,Z=V?w(Q?l.value+1:l.value-1):w();d=!1,i.value=!1,y=void 0,C=void 0,o.value=Z*-t.value;var ee=l.value;l.value=b(Z),I(),ee!==l.value&&K(H,l.value)}},D=()=>{i.value=!0,t.value=e.vertical?n.value.offsetHeight:n.value.offsetWidth,a.value=t.value*c.value,o.value=l.value*-t.value,u.forEach(R=>{R.setTranslate(0)}),I(),setTimeout(()=>{i.value=!1})},Y=()=>{if(!(c.value<=1)){var{loop:R,onChange:H}=e,Q=l.value;l.value=m(Q+1),K(H,l.value),E(()=>{if(Q===c.value-1&&R){O(0).setTranslate(a.value),o.value=c.value*-t.value;return}Q!==c.value-1&&(o.value=l.value*-t.value)})}},te=()=>{if(!(c.value<=1)){var{loop:R,onChange:H}=e,Q=l.value;l.value=m(Q-1),K(H,l.value),E(()=>{if(Q===0&&R){O(c.value-1).setTranslate(-a.value),o.value=t.value;return}Q!==0&&(o.value=l.value*-t.value)})}},le=R=>{if(!(c.value<=1||R===l.value)){R=R<0?0:R,R=R>=c.value?c.value:R;var H=R>l.value?Y:te;Array.from({length:Math.abs(R-l.value)}).forEach(H)}},de={size:t,vertical:r};return s(de),q(()=>c.value,hs(function*(){yield Zl(),k(),D()})),Pn(()=>{window.addEventListener("resize",D)}),nt(()=>{window.removeEventListener("resize",D),P()}),{n:gs,classes:bs,length:c,index:l,swipeEl:n,trackSize:a,translate:o,lockDuration:i,handleTouchstart:_,handleTouchmove:L,handleTouchend:A,next:Y,prev:te,to:le,resize:D,toNumber:Re}}});$t.install=function(e){e.component($t.name,$t)};function Os(){var{bindParent:e,parentProvider:n}=or(Ai),{index:t}=fa(Bi);if(!e||!n||!t)throw Error("<var-swipe-item/> must in <var-swipe/>");return{index:t,swipe:n,bindSwipe:e}}var{n:Ss}=ye("swipe-item");function Ps(e,n){return F(),X("div",{class:T(e.n()),style:ae({width:e.vertical?void 0:e.size+"px",height:e.vertical?e.size+"px":void 0,transform:"translate"+(e.vertical?"Y":"X")+"("+e.translate+"px)"})},[oe(e.$slots,"default")],6)}var Dt=M({render:Ps,name:"VarSwipeItem",setup(){var e=g(0),{swipe:n,bindSwipe:t,index:r}=Os(),{size:a,vertical:o}=n,i=u=>{e.value=u},l={index:r,setTranslate:i};return t(l),{n:Ss,size:a,vertical:o,translate:e}}});Dt.install=function(e){e.component(Dt.name,Dt)};function Rr(){return Rr=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Rr.apply(this,arguments)}var Es=Rr({show:{type:Boolean,default:!1},images:{type:Array,default:()=>[]},current:{type:String},zoom:{type:[String,Number],default:2},closeable:{type:Boolean,default:!1},"onUpdate:show":{type:Function}},wn(Ri,["loop","indicator","onChange"]),wn(lr,["lockScroll","teleport","onOpen","onClose","onOpened","onClosed","onRouteChange"])),{n:ks,classes:Ts}=ye("image-preview"),Na=12,ja=200,$s=350,za=200,Ds=["src","alt"];function Is(e,n){var t=ve("var-swipe-item"),r=ve("var-swipe"),a=ve("var-icon"),o=ve("var-popup");return F(),Oe(o,{class:T(e.n("popup")),"var-image-preview-cover":"",transition:"var-fade",show:e.popupShow,overlay:!1,"close-on-click-overlay":!1,"lock-scroll":e.lockScroll,teleport:e.teleport,onOpen:e.onOpen,onClose:e.onClose,onClosed:e.onClosed,onOpened:e.onOpened,onRouteChange:e.onRouteChange},{default:Te(()=>[fe(r,An({class:e.n("swipe"),"var-image-preview-cover":"",touchable:e.canSwipe,indicator:e.indicator&&e.images.length>1,"initial-index":e.initialIndex,loop:e.loop,onChange:e.onChange},e.$attrs),{default:Te(()=>[(F(!0),X(tn,null,bn(e.images,i=>(F(),Oe(t,{class:T(e.n("swipe-item")),"var-image-preview-cover":"",key:i},{default:Te(()=>[J("div",{class:T(e.n("zoom-container")),style:ae({transform:"scale("+e.scale+") translate("+e.translateX+"px, "+e.translateY+"px)",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:e.transitionDuration}),onTouchstart:n[0]||(n[0]=function(){return e.handleTouchstart&&e.handleTouchstart(...arguments)}),onTouchmove:n[1]||(n[1]=function(){return e.handleTouchmove&&e.handleTouchmove(...arguments)}),onTouchend:n[2]||(n[2]=function(){return e.handleTouchend&&e.handleTouchend(...arguments)})},[J("img",{class:T(e.n("image")),src:i,alt:i},null,10,Ds)],38)]),_:2},1032,["class"]))),128))]),indicator:Te(i=>{var{index:l,length:u}=i;return[oe(e.$slots,"indicator",{index:l,length:u},()=>[e.indicator&&e.images.length>1?(F(),X("div",{key:0,class:T(e.n("indicators"))},me(l+1)+" / "+me(u),3)):ue("v-if",!0)])]}),_:3},16,["class","touchable","indicator","initial-index","loop","onChange"]),oe(e.$slots,"close-icon",{},()=>[e.closeable?(F(),Oe(a,{key:0,class:T(e.n("close-icon")),name:"close-circle","var-image-preview-cover":"",onClick:e.close},null,8,["class","onClick"])):ue("v-if",!0)]),J("div",{class:T(e.n("extra"))},[oe(e.$slots,"extra")],2)]),_:3},8,["class","show","lock-scroll","teleport","onOpen","onClose","onClosed","onOpened","onRouteChange"])}var mn=M({render:Is,name:"VarImagePreview",components:{VarSwipe:$t,VarSwipeItem:Dt,VarPopup:an,VarIcon:Fe},inheritAttrs:!1,props:Es,setup(e){var n=g(!1),t=G(()=>{var{images:P,current:$}=e,_=P.findIndex(L=>L===$);return _>=0?_:0}),r=g(1),a=g(0),o=g(0),i=g(void 0),l=g(void 0),u=g(!0),s=null,c=null,d=null,f=(P,$)=>{var{clientX:_,clientY:L}=P,{clientX:A,clientY:D}=$;return Math.abs(Math.sqrt(Math.pow(A-_,2)+Math.pow(D-L,2)))},p=(P,$)=>({clientX:P.clientX,clientY:P.clientY,timestamp:Date.now(),target:$}),v=()=>{r.value=Re(e.zoom),u.value=!1,c=null,window.setTimeout(()=>{i.value="linear",l.value="0s"},za)},h=()=>{r.value=1,a.value=0,o.value=0,u.value=!0,c=null,i.value=void 0,l.value=void 0},y=P=>c?f(c,P)<=Na&&P.timestamp-c.timestamp<=ja&&c.target===P.target:!1,C=P=>!P||!s||!c?!1:f(s,c)<=Na&&Date.now()-c.timestamp<$s&&(P===s.target||P.parentNode===s.target),O=P=>{d=window.setTimeout(()=>{C(P.target)&&I(),s=null},ja)},S=P=>{d&&window.clearTimeout(d);var{touches:$}=P,_=p($[0],P.currentTarget);if(s=_,y(_)){r.value>1?h():v();return}c=_},w=P=>{var{offsetWidth:$,offsetHeight:_}=P,{naturalWidth:L,naturalHeight:A}=P.querySelector(".var-image-preview__image");return{width:$,height:_,imageRadio:A/L,rootRadio:_/$,zoom:Re(e.zoom)}},b=P=>{var{zoom:$,imageRadio:_,rootRadio:L,width:A,height:D}=w(P);if(!_)return 0;var Y=_>L?D/_:A;return Math.max(0,($*Y-A)/2)/$},m=P=>{var{zoom:$,imageRadio:_,rootRadio:L,width:A,height:D}=w(P);if(!_)return 0;var Y=_>L?D:A*_;return Math.max(0,($*Y-D)/2)/$},E=(P,$,_)=>P+$>=_?_:P+$<=-_?-_:P+$,k=P=>{if(!!c){var $=P.currentTarget,{touches:_}=P,L=p(_[0],$);if(r.value>1){var A=L.clientX-c.clientX,D=L.clientY-c.clientY,Y=b($),te=m($);a.value=E(a.value,A,Y),o.value=E(o.value,D,te)}c=L}},I=()=>{if(r.value>1){h(),setTimeout(()=>K(e["onUpdate:show"],!1),za);return}K(e["onUpdate:show"],!1)};return q(()=>e.show,P=>{n.value=P},{immediate:!0}),{n:ks,classes:Ts,initialIndex:t,popupShow:n,scale:r,translateX:a,translateY:o,canSwipe:u,transitionTimingFunction:i,transitionDuration:l,handleTouchstart:S,handleTouchmove:k,handleTouchend:O,close:I}}}),xe;function ot(e){if(!!hi()){ot.close();var n=Ve(e)?{images:[e]}:ar(e)?{images:e}:e,t=W(n);t.teleport="body",xe=t;var{unmountInstance:r}=bi(mn,t,{onClose:()=>t.onClose==null?void 0:t.onClose(),onClosed:()=>{t.onClosed==null||t.onClosed(),r(),xe===t&&(xe=null)},onRouteChange:()=>{r(),xe===t&&(xe=null)},"onUpdate:show":a=>{t.show=a}});t.show=!0}}ot.close=()=>{if(xe!=null){var e=xe;xe=null,De().then(()=>{e.show=!1})}};mn.install=function(e){e.component(mn.name,mn)};ot.install=function(e){e.component(mn.name,mn)};ot.Component=mn;function _s(e){return["text","password","number"].includes(e)}var As={modelValue:{type:String},modelModifiers:{type:Object,default:()=>({})},type:{type:String,default:"text",validator:_s},textarea:{type:Boolean,default:!1},rows:{type:[String,Number],default:8},placeholder:{type:String},line:{type:Boolean,default:!0},hint:{type:Boolean,default:!0},textColor:{type:String},focusColor:{type:String},blurColor:{type:String},maxlength:{type:[String,Number]},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},resize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},validateTrigger:{type:Array,default:()=>["onInput","onClear"]},rules:{type:Array},onFocus:{type:Function},onBlur:{type:Function},onClick:{type:Function},onClear:{type:Function},onInput:{type:Function},onChange:{type:Function},"onUpdate:modelValue":{type:Function}},{n:yr,classes:Bs}=ye("input"),Rs=["id","disabled","type","value","maxlength","rows"],Fs=["id","disabled","type","value","maxlength"],Ms=["for"];function Vs(e,n){var t=ve("var-icon"),r=ve("var-form-details");return F(),X("div",{class:T(e.classes(e.n(),"var--box",[e.disabled,e.n("--disabled")])),onClick:n[10]||(n[10]=function(){return e.handleClick&&e.handleClick(...arguments)})},[J("div",{class:T(e.classes(e.n("controller"),[e.isFocus,e.n("--focus")],[e.errorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:ae({color:e.errorMessage?void 0:e.isFocus?e.focusColor:e.blurColor})},[J("div",{class:T(e.classes(e.n("icon"),[!e.hint,e.n("--non-hint")]))},[oe(e.$slots,"prepend-icon")],2),J("div",{class:T(e.classes(e.n("wrap"),[!e.hint,e.n("--non-hint")]))},[e.type==="password"?(F(),X("input",{key:0,class:T(e.n("autocomplete"))},null,2)):ue("v-if",!0),e.textarea?(F(),X("textarea",{key:1,class:T(e.classes(e.n("input"),e.n("--textarea"),[e.formDisabled||e.disabled,e.n("--disabled")],[e.errorMessage,e.n("--caret-error")])),ref:"el",autocomplete:"new-password",id:e.id,disabled:e.formDisabled||e.disabled||e.formReadonly||e.readonly,type:e.type,value:e.modelValue,maxlength:e.maxlength,rows:e.rows,style:ae({color:e.textColor,caretColor:e.errorMessage?void 0:e.focusColor,resize:e.resize?"vertical":"none"}),onFocus:n[0]||(n[0]=function(){return e.handleFocus&&e.handleFocus(...arguments)}),onBlur:n[1]||(n[1]=function(){return e.handleBlur&&e.handleBlur(...arguments)}),onInput:n[2]||(n[2]=function(){return e.handleInput&&e.handleInput(...arguments)}),onChange:n[3]||(n[3]=function(){return e.handleChange&&e.handleChange(...arguments)}),onTouchstart:n[4]||(n[4]=function(){return e.handleTouchstart&&e.handleTouchstart(...arguments)})},`
        `,46,Rs)):(F(),X("input",{key:2,class:T(e.classes(e.n("input"),[e.formDisabled||e.disabled,e.n("--disabled")],[e.errorMessage,e.n("--caret-error")])),ref:"el",autocomplete:"new-password",id:e.id,disabled:e.formDisabled||e.disabled||e.formReadonly||e.readonly,type:e.type,value:e.modelValue,maxlength:e.maxlength,style:ae({color:e.textColor,caretColor:e.errorMessage?void 0:e.focusColor}),onFocus:n[5]||(n[5]=function(){return e.handleFocus&&e.handleFocus(...arguments)}),onBlur:n[6]||(n[6]=function(){return e.handleBlur&&e.handleBlur(...arguments)}),onInput:n[7]||(n[7]=function(){return e.handleInput&&e.handleInput(...arguments)}),onChange:n[8]||(n[8]=function(){return e.handleChange&&e.handleChange(...arguments)}),onTouchstart:n[9]||(n[9]=function(){return e.handleTouchstart&&e.handleTouchstart(...arguments)})},null,46,Fs)),J("label",{class:T(e.classes("var--ellipsis",[e.isFocus,e.n("--focus")],[e.errorMessage,e.n("--error")],[e.textarea,e.n("textarea-placeholder"),e.n("placeholder")],e.computePlaceholderState(),[!e.hint,e.n("--placeholder-non-hint")])),style:ae({color:e.errorMessage?void 0:e.isFocus?e.focusColor:e.blurColor}),for:e.id},me(e.placeholder),15,Ms)],2),J("div",{class:T(e.classes(e.n("icon"),[!e.hint,e.n("--non-hint")]))},[oe(e.$slots,"append-icon",{},()=>[e.clearable&&!e.isEmpty(e.modelValue)?(F(),Oe(t,{key:0,class:T(e.n("clear-icon")),"var-input-cover":"",name:"close-circle",size:"14px",onClick:e.handleClear},null,8,["class","onClick"])):ue("v-if",!0)])],2)],6),e.line?(F(),X("div",{key:0,class:T(e.classes(e.n("line"),[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:ae({background:e.errorMessage?void 0:e.blurColor})},[J("div",{class:T(e.classes(e.n("dot"),[e.isFocus,e.n("--spread")],[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:ae({background:e.errorMessage?void 0:e.focusColor})},null,6)],6)):ue("v-if",!0),fe(r,{"error-message":e.errorMessage,"maxlength-text":e.maxlengthText},null,8,["error-message","maxlength-text"])],2)}var It=M({render:Vs,name:"VarInput",components:{VarIcon:Fe,VarFormDetails:pn},props:As,setup(e){var n=g("var-input-"+cn().uid),t=g(null),r=g(!1),a=G(()=>{var{maxlength:P,modelValue:$}=e;return P?en($)?"0 / "+P:String($).length+"/"+P:""}),{bindForm:o,form:i}=ur(),{errorMessage:l,validateWithTrigger:u,validate:s,resetValidation:c}=ir(),d=P=>{De(()=>{var{validateTrigger:$,rules:_,modelValue:L}=e;u($,P,_,L)})},f=()=>{var{hint:P,modelValue:$}=e;if(!P&&!en($))return yr("--placeholder-hidden");if(P&&(!en($)||r.value))return yr("--placeholder-hint")},p=P=>{r.value=!0,K(e.onFocus,P),d("onFocus")},v=P=>{r.value=!1,K(e.onBlur,P),d("onBlur")},h=P=>{var{value:$}=P.target;$=S($),K(e["onUpdate:modelValue"],$),K(e.onInput,$,P),d("onInput")},y=P=>{var{value:$}=P.target;K(e.onChange,S($),P),d("onChange")},C=()=>{var{disabled:P,readonly:$,clearable:_,onClear:L}=e;i!=null&&i.disabled.value||i!=null&&i.readonly.value||P||$||!_||(K(e["onUpdate:modelValue"],""),K(L,""),d("onClear"))},O=P=>{var{disabled:$,onClick:_}=e;i!=null&&i.disabled.value||$||(K(_,P),d("onClick"))},S=P=>e.modelModifiers.trim?P.trim():P,w=P=>{var{disabled:$,readonly:_}=e;i!=null&&i.disabled.value||i!=null&&i.readonly.value||$||_||P.stopPropagation()},b=()=>{K(e["onUpdate:modelValue"],""),c()},m=()=>s(e.rules,e.modelValue),E=()=>{var P;(P=t.value)==null||P.focus()},k=()=>{t.value.blur()},I={reset:b,validate:m,resetValidation:c};return K(o,I),Pn(()=>{e.autofocus&&E()}),{el:t,id:n,isFocus:r,errorMessage:l,maxlengthText:a,formDisabled:i==null?void 0:i.disabled,formReadonly:i==null?void 0:i.readonly,n:yr,classes:Bs,isEmpty:en,computePlaceholderState:f,handleFocus:p,handleBlur:v,handleInput:h,handleChange:y,handleClear:C,handleClick:O,handleTouchstart:w,validate:m,resetValidation:c,reset:b,focus:E,blur:k}}});It.install=function(e){e.component(It.name,It)};var Ks=It;function Ls(e){return["top","bottom"].includes(e)}var Ns={show:{type:Boolean,default:!1},alignment:{type:String,default:"top",validator:Ls},offsetX:{type:[Number,String],default:0},offsetY:{type:[Number,String],default:0},teleport:{type:String,default:"body"},onOpen:{type:Function},onOpened:{type:Function},onClose:{type:Function},onClosed:{type:Function},"onUpdate:show":{type:Function}};function Ua(e,n,t,r,a,o,i){try{var l=e[o](i),u=l.value}catch(s){t(s);return}l.done?n(u):Promise.resolve(u).then(r,a)}function js(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function i(u){Ua(o,r,a,i,l,"next",u)}function l(u){Ua(o,r,a,i,l,"throw",u)}i(void 0)})}}function zs(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!sa(e)}var{n:gr,classes:Us}=ye("menu"),_t=M({name:"VarMenu",props:Ns,setup(e,n){var{slots:t}=n,r=g(null),a=g(null),o=g(),i=g(0),l=g(0),{zIndex:u}=$i(()=>e.show,1),{disabled:s}=Si(),c=!1,d=C=>C==="top"?Tr(r.value):Tr(r.value)-a.value.offsetHeight,f=()=>{c=!0},p=()=>{if(c){c=!1;return}!e.show||K(e["onUpdate:show"],!1)},v=()=>{i.value=d(e.alignment),l.value=Xl(r.value)},h=G(()=>({top:"calc("+i.value+"px + "+jt(e.offsetY)+")",left:"calc("+l.value+"px + "+jt(e.offsetX)+")",zIndex:u.value})),y=()=>fe(Yn,{name:gr(),onAfterEnter:e.onOpened,onAfterLeave:e.onClosed},{default:()=>[on(fe("div",{class:Us(gr("menu"),"var-elevation--3"),ref:a,style:h.value,onClick:C=>{C.stopPropagation()}},[K(t.menu)]),[[ci,e.show]])]});return q(()=>e.alignment,v),q(()=>e.show,function(){var C=js(function*(O){var{onOpen:S,onClose:w}=e;O&&(yield De(),v()),K(O?S:w)});return function(O){return C.apply(this,arguments)}}()),q(()=>e.teleport,C=>{o.value=C}),Pn(()=>{o.value=e.teleport,v(),document.addEventListener("click",p),window.addEventListener("resize",v)}),nt(()=>{document.removeEventListener("click",p),window.removeEventListener("resize",v)}),ou({resize:v}),()=>{var C;return fe("div",{class:gr(),ref:r,onClick:f},[K(t.default),o.value?fe(si,{to:o.value,disabled:s.value},zs(C=y())?C:{default:()=>[C]}):y()])}}});_t.install=function(e){e.component(_t.name,_t)};var Fi=Symbol("SELECT_BIND_OPTION_KEY"),Mi=Symbol("SELECT_COUNT_OPTION_KEY");function Ws(){var{bindChildren:e,childProviders:n}=Ci(Fi),{length:t}=wi(Mi);return{length:t,options:n,bindOptions:e}}function Ys(){var{bindParent:e,parentProvider:n}=or(Fi),{index:t}=fa(Mi);if(!e||!n)throw Error("<var-option/> must in <var-select/>");return{index:t,select:n,bindSelect:e}}var Hs={label:{},value:{}},{n:Xs,classes:Gs}=ye("option");function qs(e,n){var t=ve("var-checkbox"),r=tt("ripple");return on((F(),X("div",{class:T(e.classes(e.n(),"var--box",[e.optionSelected,e.n("--selected-color")])),style:ae({width:e.wrapWidth,color:e.optionSelected?e.focusColor:void 0}),onClick:n[2]||(n[2]=function(){return e.handleClick&&e.handleClick(...arguments)})},[J("div",{class:T(e.classes(e.n("cover"),[e.optionSelected,e.n("--selected-background")])),style:ae({background:e.optionSelected?e.focusColor:void 0})},null,6),e.multiple?(F(),Oe(t,{key:0,ref:"checkbox","checked-color":e.focusColor,modelValue:e.optionSelected,"onUpdate:modelValue":n[0]||(n[0]=a=>e.optionSelected=a),onClick:n[1]||(n[1]=ca(()=>{},["stop"])),onChange:e.handleSelect},null,8,["checked-color","modelValue","onChange"])):ue("v-if",!0),J("div",{class:T(e.classes(e.n("text"),"var--ellipsis"))},[oe(e.$slots,"default",{},()=>[dn(me(e.label),1)])],2)],6)),[[r]])}var At=M({render:qs,name:"VarOption",directives:{Ripple:at},components:{VarCheckbox:kt},props:Hs,setup(e){var n=g(!1),t=G(()=>n.value),r=G(()=>e.label),a=G(()=>e.value),{select:o,bindSelect:i}=Ys(),{wrapWidth:l,multiple:u,focusColor:s,onSelect:c}=o,d=()=>{n.value=!n.value,c(v)},f=()=>c(v),p=h=>{n.value=h},v={label:r,value:a,selected:t,sync:p};return q([()=>e.label,()=>e.value],()=>{if(e.label==null&&e.value==null)throw Error(`Props label and value can't both be undefined
`)},{immediate:!0}),i(v),{n:Xs,classes:Gs,optionSelected:n,wrapWidth:l,multiple:u,focusColor:s,handleClick:d,handleSelect:f}}});At.install=function(e){e.component(At.name,At)};var Js=At;function Qs(e){return["left","right","center"].includes(e)}var Zs={modelValue:{default:void 0},placeholder:{type:String},multiple:{type:Boolean,default:!1},offsetY:{type:[String,Number],default:0},chip:{type:Boolean,default:!1},line:{type:Boolean,default:!0},hint:{type:Boolean,default:!0},textColor:{type:String},focusColor:{type:String},blurColor:{type:String},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},separator:{type:String,default:","},textAlign:{type:String,default:"left",validator:Qs},validateTrigger:{type:Array,default:()=>["onChange","onClear","onClose"]},rules:{type:Array},onFocus:{type:Function},onBlur:{type:Function},onClick:{type:Function},onClear:{type:Function},onClose:{type:Function},onChange:{type:Function},"onUpdate:modelValue":{type:Function}},{n:br,classes:xs}=ye("select"),ec={key:0},nc={key:1};function tc(e,n){var t=ve("var-chip"),r=ve("var-icon"),a=ve("var-menu"),o=ve("var-form-details");return F(),X("div",{class:T(e.classes(e.n(),"var--box",[e.formDisabled||e.disabled,e.n("--disabled")])),onClick:n[3]||(n[3]=function(){return e.handleClick&&e.handleClick(...arguments)})},[J("div",{class:T(e.classes(e.n("controller"),[e.isFocus,e.n("--focus")],[e.errorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:ae({color:e.errorMessage?void 0:e.isFocus?e.focusColor:e.blurColor})},[J("div",{class:T(e.classes(e.n("icon"),[!e.hint,e.n("--non-hint")]))},[oe(e.$slots,"prepend-icon")],2),fe(a,{class:T(e.n("menu")),"var-select-cover":"","offset-y":e.offsetY,show:e.isFocus,"onUpdate:show":n[2]||(n[2]=i=>e.isFocus=i),onClose:e.handleBlur},{menu:Te(()=>[J("div",{ref:"menuEl",class:T(e.n("scroller"))},[oe(e.$slots,"default")],2)]),default:Te(()=>[J("div",{class:T(e.classes(e.n("wrap"),[!e.hint,e.n("--non-hint")])),ref:"wrapEl",onClick:n[1]||(n[1]=function(){return e.handleFocus&&e.handleFocus(...arguments)})},[J("div",{class:T(e.classes(e.n("select"),[e.errorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:ae({textAlign:e.textAlign,color:e.textColor})},[e.multiple?(F(),X("div",ec,[e.chip?(F(),X("div",{key:0,class:T(e.n("chips"))},[(F(!0),X(tn,null,bn(e.labels,i=>(F(),Oe(t,{class:T(e.n("chip")),"var-select-cover":"",closable:"",size:"small",type:e.errorMessage?"danger":void 0,key:i,onClick:n[0]||(n[0]=ca(()=>{},["stop"])),onClose:()=>e.handleClose(i)},{default:Te(()=>[dn(me(i),1)]),_:2},1032,["class","type","onClose"]))),128))],2)):(F(),X("div",{key:1,class:T(e.n("values"))},me(e.labels.join(e.separator)),3))])):(F(),X("span",nc,me(e.label),1)),fe(r,{class:T(e.classes(e.n("arrow"),[e.isFocus,e.n("--arrow-rotate")])),"var-select-cover":"",name:"menu-down",transition:300},null,8,["class"])],6),J("label",{class:T(e.classes(e.n("placeholder"),"var--ellipsis",[e.isFocus,e.n("--focus")],[e.errorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")],e.computePlaceholderState(),[!e.hint,e.n("--placeholder-non-hint")])),style:ae({color:e.errorMessage?void 0:e.isFocus?e.focusColor:e.blurColor})},me(e.placeholder),7)],2)]),_:3},8,["class","offset-y","show","onClose"]),J("div",{class:T(e.classes(e.n("icon"),[!e.hint,e.n("--non-hint")]))},[oe(e.$slots,"append-icon",{},()=>[e.clearable?(F(),Oe(r,{key:0,class:T(e.n("clear-icon")),name:"close-circle",size:"14px",onClick:e.handleClear},null,8,["class","onClick"])):ue("v-if",!0)])],2)],6),e.line?(F(),X("div",{key:0,class:T(e.classes(e.n("line"),[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:ae({background:e.errorMessage?void 0:e.blurColor})},[J("div",{class:T(e.classes(e.n("dot"),[e.isFocus,e.n("--spread")],[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:ae({background:e.errorMessage?void 0:e.focusColor})},null,6)],6)):ue("v-if",!0),fe(o,{"error-message":e.errorMessage},null,8,["error-message"])],2)}var Bt=M({render:tc,name:"VarSelect",components:{VarIcon:Fe,VarMenu:_t,VarChip:Tt,VarFormDetails:pn},props:Zs,setup(e){var n=g(null),t=g(!1),r=G(()=>e.multiple),a=G(()=>e.focusColor),o=g(""),i=g([]),l=g("0px"),u=g(0),{bindForm:s,form:c}=ur(),{length:d,options:f,bindOptions:p}=Ws(),{errorMessage:v,validateWithTrigger:h,validate:y,resetValidation:C}=ir(),O=g(null),S=()=>{var{multiple:z,modelValue:V}=e;if(z){var Z=V;i.value=Z.map(m)}!z&&!en(V)&&(o.value=m(V)),!z&&en(V)&&(o.value="")},w=z=>{De(()=>{var{validateTrigger:V,rules:Z,modelValue:ee}=e;h(V,z,Z,ee)})},b=z=>{var{value:V,label:Z}=z;return V.value!=null?V.value:Z.value},m=z=>{var V,Z,ee=f.find(be=>{var{value:Se}=be;return Se.value===z});return ee||(ee=f.find(be=>{var{label:Se}=be;return Se.value===z})),(V=(Z=ee)==null?void 0:Z.label.value)!=null?V:""},E=()=>{var{hint:z,modelValue:V}=e;if(!z&&!en(V))return br("--placeholder-hidden");if(z&&(!en(V)||t.value))return br("--placeholder-hint")},k=()=>n.value&&window.getComputedStyle(n.value).width||"0px",I=()=>{var z=n.value&&window.getComputedStyle(n.value).paddingTop||"0px";return St(z)*1.5},P=()=>{var{disabled:z,readonly:V,onFocus:Z}=e;c!=null&&c.disabled.value||c!=null&&c.readonly.value||z||V||(l.value=k(),u.value=I()+St(e.offsetY),t.value=!0,K(Z),w("onFocus"),H())},$=()=>{var{disabled:z,readonly:V,onBlur:Z}=e;c!=null&&c.disabled.value||c!=null&&c.readonly.value||z||V||(K(Z),w("onBlur"))},_=z=>{var{disabled:V,readonly:Z,multiple:ee,onChange:be}=e;if(!(c!=null&&c.disabled.value||c!=null&&c.readonly.value||V||Z)){var Se=ee?f.filter(ze=>{var{selected:ge}=ze;return ge.value}).map(b):b(z);K(e["onUpdate:modelValue"],Se),K(be,Se),w("onChange"),!ee&&(t.value=!1)}},L=()=>{var{disabled:z,readonly:V,multiple:Z,clearable:ee,onClear:be}=e;if(!(c!=null&&c.disabled.value||c!=null&&c.readonly.value||z||V||!ee)){var Se=Z?[]:void 0;K(e["onUpdate:modelValue"],Se),K(be,Se),w("onClear")}},A=z=>{var{disabled:V,onClick:Z}=e;c!=null&&c.disabled.value||V||(K(Z,z),w("onClick"))},D=z=>{var{disabled:V,readonly:Z,modelValue:ee,onClose:be}=e;if(!(c!=null&&c.disabled.value||c!=null&&c.readonly.value||V||Z)){var Se=ee,ze=f.find(_e=>{var{label:dt}=_e;return dt.value===z}),ge=Se.filter(_e=>{var dt;return _e!==((dt=ze.value.value)!=null?dt:ze.label.value)});K(e["onUpdate:modelValue"],ge),K(be,ge),w("onClose")}},Y=()=>{var{multiple:z,modelValue:V}=e;if(z){var Z=V;f.forEach(ee=>ee.sync(Z.includes(b(ee))))}else f.forEach(ee=>ee.sync(V===b(ee)));S()},te=()=>{l.value=k(),u.value=I()+St(e.offsetY),t.value=!0,H()},le=()=>{t.value=!1},de=()=>y(e.rules,e.modelValue),R=()=>{K(e["onUpdate:modelValue"],e.multiple?[]:void 0),C()},H=()=>{var{body:z}=document,V=z.scrollHeight;De(()=>{var Z,{offsetHeight:ee}=(Z=O.value)==null?void 0:Z.parentElement,be=Tr(n.value);be+u.value<0&&(u.value=I()),ee+be+u.value>V&&(u.value-=ee-I())})};q(()=>e.multiple,()=>{var{multiple:z,modelValue:V}=e;if(z&&!ar(V))throw Error("The modelValue must be an array when multiple is true")}),q(()=>e.modelValue,Y,{deep:!0}),q(()=>d.value,Y);var Q={wrapWidth:G(()=>l.value),multiple:r,focusColor:a,onSelect:_,reset:R,validate:de,resetValidation:C};return p(Q),K(s,Q),{wrapEl:n,offsetY:u,isFocus:t,errorMessage:v,formDisabled:c==null?void 0:c.disabled,label:o,labels:i,menuEl:O,n:br,classes:xs,computePlaceholderState:E,handleFocus:P,handleBlur:$,handleClear:L,handleClick:A,handleClose:D,reset:R,validate:de,resetValidation:C,focus:te,blur:le}}});Bt.install=function(e){e.component(Bt.name,Bt)};var rc=Bt,ac={modelValue:{type:Array,default:()=>[]},accept:{type:String,default:"image/*"},capture:{type:[String,Boolean],default:void 0},multiple:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},removable:{type:Boolean,default:!0},maxlength:{type:[Number,String]},maxsize:{type:[Number,String]},previewed:{type:Boolean,default:!0},ripple:{type:Boolean,default:!0},validateTrigger:{type:Array,default:()=>["onChange","onRemove"]},rules:{type:Array},hideList:{type:Boolean,default:!1},onBeforeRead:{type:Function},onAfterRead:{type:Function},onBeforeRemove:{type:Function},onRemove:{type:Function},onOversize:{type:Function},"onUpdate:modelValue":{type:Function}};function Wa(e,n,t,r,a,o,i){try{var l=e[o](i),u=l.value}catch(s){t(s);return}l.done?n(u):Promise.resolve(u).then(r,a)}function Ya(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function i(u){Wa(o,r,a,i,l,"next",u)}function l(u){Wa(o,r,a,i,l,"throw",u)}i(void 0)})}}var{n:oc,classes:ic}=ye("uploader"),lc=0,uc=["onClick"],sc=["onClick"],cc=["src","alt"],fc=["multiple","accept","capture","disabled"],dc=["src"];function vc(e,n){var t=ve("var-icon"),r=ve("var-form-details"),a=ve("var-popup"),o=tt("ripple");return F(),X("div",{class:T(e.classes(e.n(),"var--box"))},[J("div",{class:T(e.n("file-list"))},[(F(!0),X(tn,null,bn(e.files,i=>on((F(),X("div",{class:T(e.classes(e.n("file"),"var-elevation--2",[i.state==="loading",e.n("--loading")])),key:i.id,onClick:l=>e.preview(i)},[J("div",{class:T(e.n("file-name"))},me(i.name||i.url),3),e.removable?(F(),X("div",{key:0,class:T(e.n("file-close")),onClick:ca(l=>e.handleRemove(i),["stop"])},[fe(t,{class:T(e.n("file-close-icon")),"var-uploader-cover":"",name:"delete"},null,8,["class"])],10,sc)):ue("v-if",!0),i.cover?(F(),X("img",{key:1,class:T(e.n("file-cover")),style:ae({objectFit:i.fit}),src:i.cover,alt:i.name},null,14,cc)):ue("v-if",!0),J("div",{class:T(e.classes(e.n("file-indicator"),[i.state==="success",e.n("--success")],[i.state==="error",e.n("--error")]))},null,2)],10,uc)),[[o,{disabled:e.disabled||e.formDisabled||e.readonly||e.formReadonly||!e.ripple}]])),128)),!e.maxlength||e.modelValue.length<e.maxlength?on((F(),X("div",{key:0,class:T(e.classes([!e.$slots.default,e.n("action")+" var-elevation--2"],[e.disabled||e.formDisabled,e.n("--disabled")])),onClick:n[1]||(n[1]=function(){return e.triggerAction&&e.triggerAction(...arguments)})},[J("input",{ref:"input",class:T(e.n("action-input")),type:"file",multiple:e.multiple,accept:e.accept,capture:e.capture,disabled:e.disabled||e.formDisabled||e.readonly||e.formReadonly,onChange:n[0]||(n[0]=function(){return e.handleChange&&e.handleChange(...arguments)})},null,42,fc),oe(e.$slots,"default",{},()=>[fe(t,{class:T(e.n("action-icon")),"var-uploader-cover":"",name:"plus"},null,8,["class"])])],2)),[[o,{disabled:e.disabled||e.formDisabled||e.readonly||e.formReadonly||!e.ripple||e.$slots.default}]]):ue("v-if",!0)],2),fe(r,{"error-message":e.errorMessage,"maxlength-text":e.maxlengthText},null,8,["error-message","maxlength-text"]),fe(a,{class:T(e.n("preview")),"var-uploader-cover":"",position:"center",show:e.showPreview,"onUpdate:show":n[2]||(n[2]=i=>e.showPreview=i),onClosed:n[3]||(n[3]=i=>e.currentPreview=null)},{default:Te(()=>{var i,l;return[e.currentPreview&&e.isHTMLSupportVideo((i=e.currentPreview)==null?void 0:i.url)?(F(),X("video",{key:0,class:T(e.n("preview-video")),playsinline:"true","webkit-playsinline":"true","x5-playsinline":"true","x5-video-player-type":"h5","x5-video-player-fullscreen":"false",controls:"",src:(l=e.currentPreview)==null?void 0:l.url},null,10,dc)):ue("v-if",!0)]}),_:1},8,["class","show"])],2)}var Rt=M({render:vc,name:"VarUploader",directives:{Ripple:at},components:{VarIcon:Fe,VarPopup:an,VarFormDetails:pn},props:ac,setup(e){var n=g(null),t=g(!1),r=g(null),a=G(()=>{var{maxlength:A,modelValue:{length:D}}=e;return rt(A)?D+" / "+A:""}),{form:o,bindForm:i}=ur(),{errorMessage:l,validateWithTrigger:u,validate:s,resetValidation:c}=ir(),d=G(()=>{var{modelValue:A,hideList:D}=e;return D?[]:A}),f=()=>{n.value.click()},p=A=>{var{disabled:D,readonly:Y,previewed:te}=e;if(!(o!=null&&o.disabled.value||o!=null&&o.readonly.value||D||Y||!te)){var{url:le}=A;if(Ve(le)&&Va(le)){ot(le);return}Ve(le)&&Ka(le)&&(r.value=A,t.value=!0)}},v=A=>({id:lc++,url:"",cover:"",name:A.name,file:A}),h=A=>{var D=A.target,{files:Y}=D;return Array.from(Y)},y=A=>new Promise(D=>{var Y=new FileReader;Y.onload=()=>{var te=Y.result;A.file.type.startsWith("image")&&(A.cover=te),A.url=te,D(A)},Y.readAsDataURL(A.file)}),C=A=>A.map(y),O=A=>{var{onBeforeRead:D}=e;return A.map(Y=>new Promise(te=>{var le=D?D(W(Y)):!0;Promise.resolve(le).then(de=>te({valid:de,varFile:Y}))}))},S=function(){var A=Ya(function*(D){var{maxsize:Y,maxlength:te,modelValue:le,onOversize:de,onAfterRead:R,readonly:H,disabled:Q}=e;if(!(o!=null&&o.disabled.value||o!=null&&o.readonly.value||Q||H)){var z=ge=>ge.filter(_e=>_e.file.size>Re(Y)?(K(de,W(_e)),!1):!0),V=ge=>{var _e=Math.min(ge.length,Re(te)-le.length);return ge.slice(0,_e)},Z=h(D),ee=Z.map(v);ee=Y!=null?z(ee):ee,ee=te!=null?V(ee):ee;var be=yield Promise.all(C(ee)),Se=yield Promise.all(O(be)),ze=Se.filter(ge=>{var{valid:_e}=ge;return _e}).map(ge=>{var{varFile:_e}=ge;return _e});K(e["onUpdate:modelValue"],[...le,...ze]),D.target.value="",ze.forEach(ge=>K(R,W(ge)))}});return function(Y){return A.apply(this,arguments)}}(),w=function(){var A=Ya(function*(D){var{disabled:Y,readonly:te,modelValue:le,onBeforeRemove:de,onRemove:R}=e;if(!(o!=null&&o.disabled.value||o!=null&&o.readonly.value||Y||te)&&!(de&&!(yield de(D)))){var H=le.filter(Q=>Q!==D);K(R,D),I("onRemove"),K(e["onUpdate:modelValue"],H)}});return function(Y){return A.apply(this,arguments)}}(),b=()=>e.modelValue.filter(A=>A.state==="success"),m=()=>e.modelValue.filter(A=>A.state==="error"),E=()=>e.modelValue.filter(A=>A.state==="loading"),k={getSuccess:b,getError:m,getLoading:E},I=A=>{De(()=>{var{validateTrigger:D,rules:Y,modelValue:te}=e;u(D,A,Y,te,k)})},P=!1,$=()=>s(e.rules,e.modelValue,k),_=()=>{P=!0,K(e["onUpdate:modelValue"],[]),c()},L={validate:$,resetValidation:c,reset:_};return K(i,L),q(()=>e.modelValue,()=>{!P&&I("onChange"),P=!1},{deep:!0}),{n:oc,classes:ic,input:n,files:d,showPreview:t,currentPreview:r,errorMessage:l,maxlengthText:a,isHTMLSupportVideo:Ka,isHTMLSupportImage:Va,formDisabled:o==null?void 0:o.disabled,formReadonly:o==null?void 0:o.readonly,preview:p,triggerAction:f,handleChange:S,handleRemove:w,getSuccess:b,getError:m,getLoading:E,validate:$,resetValidation:c,reset:_}}});Rt.install=function(e){e.component(Rt.name,Rt)};var pc=Rt;const mh=Iu||{},yh=Hu||{},gh=wu||{},bh=Ks||{},wh=Js||{},Ch=hu||{},Oh=rc||{},Sh=pc||{};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ne=function(){return ne=Object.assign||function(n){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},ne.apply(this,arguments)};function Fr(e,n,t){if(t||arguments.length===2)for(var r=0,a=n.length,o;r<a;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}var se=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,pe=Object.keys,Ce=Array.isArray;typeof Promise!="undefined"&&!se.Promise&&(se.Promise=Promise);function ke(e,n){return typeof n!="object"||pe(n).forEach(function(t){e[t]=n[t]}),e}var Xn=Object.getPrototypeOf,hc={}.hasOwnProperty;function Ie(e,n){return hc.call(e,n)}function Bn(e,n){typeof n=="function"&&(n=n(Xn(e))),(typeof Reflect=="undefined"?pe:Reflect.ownKeys)(n).forEach(function(t){Ge(e,t,n[t])})}var Vi=Object.defineProperty;function Ge(e,n,t,r){Vi(e,n,ke(t&&Ie(t,"get")&&typeof t.get=="function"?{get:t.get,set:t.set,configurable:!0}:{value:t,configurable:!0,writable:!0},r))}function Fn(e){return{from:function(n){return e.prototype=Object.create(n.prototype),Ge(e.prototype,"constructor",e),{extend:Bn.bind(null,e.prototype)}}}}var mc=Object.getOwnPropertyDescriptor;function da(e,n){var t=mc(e,n),r;return t||(r=Xn(e))&&da(r,n)}var yc=[].slice;function cr(e,n,t){return yc.call(e,n,t)}function Ki(e,n){return n(e)}function Ln(e){if(!e)throw new Error("Assertion Failed")}function Li(e){se.setImmediate?setImmediate(e):setTimeout(e,0)}function Ni(e,n){return e.reduce(function(t,r,a){var o=n(r,a);return o&&(t[o[0]]=o[1]),t},{})}function gc(e,n,t){try{e.apply(null,t)}catch(r){n&&n(r)}}function Xe(e,n){if(Ie(e,n))return e[n];if(!n)return e;if(typeof n!="string"){for(var t=[],r=0,a=n.length;r<a;++r){var o=Xe(e,n[r]);t.push(o)}return t}var i=n.indexOf(".");if(i!==-1){var l=e[n.substr(0,i)];return l===void 0?void 0:Xe(l,n.substr(i+1))}}function Me(e,n,t){if(!(!e||n===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof n!="string"&&"length"in n){Ln(typeof t!="string"&&"length"in t);for(var r=0,a=n.length;r<a;++r)Me(e,n[r],t[r])}else{var o=n.indexOf(".");if(o!==-1){var i=n.substr(0,o),l=n.substr(o+1);if(l==="")t===void 0?Ce(e)&&!isNaN(parseInt(i))?e.splice(i,1):delete e[i]:e[i]=t;else{var u=e[i];(!u||!Ie(e,i))&&(u=e[i]={}),Me(u,l,t)}}else t===void 0?Ce(e)&&!isNaN(parseInt(n))?e.splice(n,1):delete e[n]:e[n]=t}}function bc(e,n){typeof n=="string"?Me(e,n,void 0):"length"in n&&[].map.call(n,function(t){Me(e,t,void 0)})}function ji(e){var n={};for(var t in e)Ie(e,t)&&(n[t]=e[t]);return n}var wc=[].concat;function zi(e){return wc.apply([],e)}var Ui="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(zi([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(n){return n+e+"Array"})}))).filter(function(e){return se[e]}),Cc=Ui.map(function(e){return se[e]});Ni(Ui,function(e){return[e,!0]});var Qe=null;function it(e){Qe=typeof WeakMap!="undefined"&&new WeakMap;var n=Mr(e);return Qe=null,n}function Mr(e){if(!e||typeof e!="object")return e;var n=Qe&&Qe.get(e);if(n)return n;if(Ce(e)){n=[],Qe&&Qe.set(e,n);for(var t=0,r=e.length;t<r;++t)n.push(Mr(e[t]))}else if(Cc.indexOf(e.constructor)>=0)n=e;else{var a=Xn(e);n=a===Object.prototype?{}:Object.create(a),Qe&&Qe.set(e,n);for(var o in e)Ie(e,o)&&(n[o]=Mr(e[o]))}return n}var Oc={}.toString;function Vr(e){return Oc.call(e).slice(8,-1)}var Kr=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator",Sc=typeof Kr=="symbol"?function(e){var n;return e!=null&&(n=e[Kr])&&n.apply(e)}:function(){return null},Dn={};function Ye(e){var n,t,r,a;if(arguments.length===1){if(Ce(e))return e.slice();if(this===Dn&&typeof e=="string")return[e];if(a=Sc(e)){for(t=[];r=a.next(),!r.done;)t.push(r.value);return t}if(e==null)return[e];if(n=e.length,typeof n=="number"){for(t=new Array(n);n--;)t[n]=e[n];return t}return[e]}for(n=arguments.length,t=new Array(n);n--;)t[n]=arguments[n];return t}var va=typeof Symbol!="undefined"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},je=typeof location!="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Wi(e,n){je=e,Yi=n}var Yi=function(){return!0},Pc=!new Error("").stack;function En(){if(Pc)try{throw En.arguments,new Error}catch(e){return e}return new Error}function Lr(e,n){var t=e.stack;return t?(n=n||0,t.indexOf(e.name)===0&&(n+=(e.name+e.message).split(`
`).length),t.split(`
`).slice(n).filter(Yi).map(function(r){return`
`+r}).join("")):""}var Ec=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Hi=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],pa=Ec.concat(Hi),kc={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Mn(e,n){this._e=En(),this.name=e,this.message=n}Fn(Mn).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Lr(this._e,2))}},toString:function(){return this.name+": "+this.message}});function Xi(e,n){return e+". Errors: "+Object.keys(n).map(function(t){return n[t].toString()}).filter(function(t,r,a){return a.indexOf(t)===r}).join(`
`)}function Yt(e,n,t,r){this._e=En(),this.failures=n,this.failedKeys=r,this.successCount=t,this.message=Xi(e,n)}Fn(Yt).from(Mn);function zn(e,n){this._e=En(),this.name="BulkError",this.failures=Object.keys(n).map(function(t){return n[t]}),this.failuresByPos=n,this.message=Xi(e,n)}Fn(zn).from(Mn);var ha=pa.reduce(function(e,n){return e[n]=n+"Error",e},{}),Tc=Mn,U=pa.reduce(function(e,n){var t=n+"Error";function r(a,o){this._e=En(),this.name=t,a?typeof a=="string"?(this.message=""+a+(o?`
 `+o:""),this.inner=o||null):typeof a=="object"&&(this.message=a.name+" "+a.message,this.inner=a):(this.message=kc[n]||t,this.inner=null)}return Fn(r).from(Tc),e[n]=r,e},{});U.Syntax=SyntaxError;U.Type=TypeError;U.Range=RangeError;var Ha=Hi.reduce(function(e,n){return e[n+"Error"]=U[n],e},{});function $c(e,n){if(!e||e instanceof Mn||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Ha[e.name])return e;var t=new Ha[e.name](n||e.message,e);return"stack"in e&&Ge(t,"stack",{get:function(){return this.inner.stack}}),t}var fr=pa.reduce(function(e,n){return["Syntax","Type","Range"].indexOf(n)===-1&&(e[n+"Error"]=U[n]),e},{});fr.ModifyError=Yt;fr.DexieError=Mn;fr.BulkError=zn;function re(){}function lt(e){return e}function Dc(e,n){return e==null||e===lt?n:function(t){return n(e(t))}}function Cn(e,n){return function(){e.apply(this,arguments),n.apply(this,arguments)}}function Ic(e,n){return e===re?n:function(){var t=e.apply(this,arguments);t!==void 0&&(arguments[0]=t);var r=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var o=n.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Cn(r,this.onsuccess):r),a&&(this.onerror=this.onerror?Cn(a,this.onerror):a),o!==void 0?o:t}}function _c(e,n){return e===re?n:function(){e.apply(this,arguments);var t=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,n.apply(this,arguments),t&&(this.onsuccess=this.onsuccess?Cn(t,this.onsuccess):t),r&&(this.onerror=this.onerror?Cn(r,this.onerror):r)}}function Ac(e,n){return e===re?n:function(t){var r=e.apply(this,arguments);ke(t,r);var a=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=n.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?Cn(a,this.onsuccess):a),o&&(this.onerror=this.onerror?Cn(o,this.onerror):o),r===void 0?i===void 0?void 0:i:ke(r,i)}}function Bc(e,n){return e===re?n:function(){return n.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function ma(e,n){return e===re?n:function(){var t=e.apply(this,arguments);if(t&&typeof t.then=="function"){for(var r=this,a=arguments.length,o=new Array(a);a--;)o[a]=arguments[a];return t.then(function(){return n.apply(r,o)})}return n.apply(this,arguments)}}var Gn={},Rc=100,Fc=20,Gi=100,ya=typeof Promise=="undefined"?[]:function(){var e=Promise.resolve();if(typeof crypto=="undefined"||!crypto.subtle)return[e,Xn(e),e];var n=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[n,Xn(n),e]}(),Nr=ya[0],Ht=ya[1],jr=ya[2],qi=Ht&&Ht.then,Ft=Nr&&Nr.constructor,ga=!!jr,zr=!1,Mc=jr?function(){jr.then(mt)}:se.setImmediate?setImmediate.bind(null,mt):se.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){mt(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(mt,0)},qn=function(e,n){Nn.push([e,n]),Xt&&(Mc(),Xt=!1)},Ur=!0,Xt=!0,yn=[],Mt=[],Wr=null,Yr=lt,In={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:qa,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{qa(e[0],e[1])}catch{}})}},j=In,Nn=[],gn=0,Vt=[];function B(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=re,this._lib=!1;var n=this._PSD=j;if(je&&(this._stackHolder=En(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==Gn)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Xr(this,this._value);return}this._state=null,this._value=null,++n.ref,Qi(this,e)}var Hr={get:function(){var e=j,n=Gt;function t(r,a){var o=this,i=!e.global&&(e!==j||n!==Gt),l=i&&!qe(),u=new B(function(s,c){ba(o,new Ji(Jt(r,e,i,l),Jt(a,e,i,l),s,c,e))});return je&&el(u,this),u}return t.prototype=Gn,t},set:function(e){Ge(this,"then",e&&e.prototype===Gn?Hr:{get:function(){return e},set:Hr.set})}};Bn(B.prototype,{then:Hr,_then:function(e,n){ba(this,new Ji(null,null,e,n,j))},catch:function(e){if(arguments.length===1)return this.then(null,e);var n=arguments[0],t=arguments[1];return typeof n=="function"?this.then(null,function(r){return r instanceof n?t(r):Kt(r)}):this.then(null,function(r){return r&&r.name===n?t(r):Kt(r)})},finally:function(e){return this.then(function(n){return e(),n},function(n){return e(),Kt(n)})},stack:{get:function(){if(this._stack)return this._stack;try{zr=!0;var e=xi(this,[],Fc),n=e.join(`
From previous: `);return this._state!==null&&(this._stack=n),n}finally{zr=!1}}},timeout:function(e,n){var t=this;return e<1/0?new B(function(r,a){var o=setTimeout(function(){return a(new U.Timeout(n))},e);t.then(r,a).finally(clearTimeout.bind(null,o))}):this}});typeof Symbol!="undefined"&&Symbol.toStringTag&&Ge(B.prototype,Symbol.toStringTag,"Dexie.Promise");In.env=nl();function Ji(e,n,t,r,a){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof n=="function"?n:null,this.resolve=t,this.reject=r,this.psd=a}Bn(B,{all:function(){var e=Ye.apply(null,arguments).map(qt);return new B(function(n,t){e.length===0&&n([]);var r=e.length;e.forEach(function(a,o){return B.resolve(a).then(function(i){e[o]=i,--r||n(e)},t)})})},resolve:function(e){if(e instanceof B)return e;if(e&&typeof e.then=="function")return new B(function(t,r){e.then(t,r)});var n=new B(Gn,!0,e);return el(n,Wr),n},reject:Kt,race:function(){var e=Ye.apply(null,arguments).map(qt);return new B(function(n,t){e.map(function(r){return B.resolve(r).then(n,t)})})},PSD:{get:function(){return j},set:function(e){return j=e}},totalEchoes:{get:function(){return Gt}},newPSD:ln,usePSD:Kn,scheduler:{get:function(){return qn},set:function(e){qn=e}},rejectionMapper:{get:function(){return Yr},set:function(e){Yr=e}},follow:function(e,n){return new B(function(t,r){return ln(function(a,o){var i=j;i.unhandleds=[],i.onunhandled=o,i.finalize=Cn(function(){var l=this;Kc(function(){l.unhandleds.length===0?a():o(l.unhandleds[0])})},i.finalize),e()},n,t,r)})}});Ft&&(Ft.allSettled&&Ge(B,"allSettled",function(){var e=Ye.apply(null,arguments).map(qt);return new B(function(n){e.length===0&&n([]);var t=e.length,r=new Array(t);e.forEach(function(a,o){return B.resolve(a).then(function(i){return r[o]={status:"fulfilled",value:i}},function(i){return r[o]={status:"rejected",reason:i}}).then(function(){return--t||n(r)})})})}),Ft.any&&typeof AggregateError!="undefined"&&Ge(B,"any",function(){var e=Ye.apply(null,arguments).map(qt);return new B(function(n,t){e.length===0&&t(new AggregateError([]));var r=e.length,a=new Array(r);e.forEach(function(o,i){return B.resolve(o).then(function(l){return n(l)},function(l){a[i]=l,--r||t(new AggregateError(a))})})})}));function Qi(e,n){try{n(function(t){if(e._state===null){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&ut();t&&typeof t.then=="function"?Qi(e,function(a,o){t instanceof B?t._then(a,o):t.then(a,o)}):(e._state=!0,e._value=t,Zi(e)),r&&st()}},Xr.bind(null,e))}catch(t){Xr(e,t)}}function Xr(e,n){if(Mt.push(n),e._state===null){var t=e._lib&&ut();n=Yr(n),e._state=!1,e._value=n,je&&n!==null&&typeof n=="object"&&!n._promise&&gc(function(){var r=da(n,"stack");n._promise=e,Ge(n,"stack",{get:function(){return zr?r&&(r.get?r.get.apply(n):r.value):e.stack}})}),Lc(e),Zi(e),t&&st()}}function Zi(e){var n=e._listeners;e._listeners=[];for(var t=0,r=n.length;t<r;++t)ba(e,n[t]);var a=e._PSD;--a.ref||a.finalize(),gn===0&&(++gn,qn(function(){--gn===0&&wa()},[]))}function ba(e,n){if(e._state===null){e._listeners.push(n);return}var t=e._state?n.onFulfilled:n.onRejected;if(t===null)return(e._state?n.resolve:n.reject)(e._value);++n.psd.ref,++gn,qn(Vc,[t,e,n])}function Vc(e,n,t){try{Wr=n;var r,a=n._value;n._state?r=e(a):(Mt.length&&(Mt=[]),r=e(a),Mt.indexOf(a)===-1&&Nc(n)),t.resolve(r)}catch(o){t.reject(o)}finally{Wr=null,--gn===0&&wa(),--t.psd.ref||t.psd.finalize()}}function xi(e,n,t){if(n.length===t)return n;var r="";if(e._state===!1){var a=e._value,o,i;a!=null?(o=a.name||"Error",i=a.message||a,r=Lr(a,0)):(o=a,i=""),n.push(o+(i?": "+i:"")+r)}return je&&(r=Lr(e._stackHolder,2),r&&n.indexOf(r)===-1&&n.push(r),e._prev&&xi(e._prev,n,t)),n}function el(e,n){var t=n?n._numPrev+1:0;t<Rc&&(e._prev=n,e._numPrev=t)}function mt(){ut()&&st()}function ut(){var e=Ur;return Ur=!1,Xt=!1,e}function st(){var e,n,t;do for(;Nn.length>0;)for(e=Nn,Nn=[],t=e.length,n=0;n<t;++n){var r=e[n];r[0].apply(null,r[1])}while(Nn.length>0);Ur=!0,Xt=!0}function wa(){var e=yn;yn=[],e.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var n=Vt.slice(0),t=n.length;t;)n[--t]()}function Kc(e){function n(){e(),Vt.splice(Vt.indexOf(n),1)}Vt.push(n),++gn,qn(function(){--gn===0&&wa()},[])}function Lc(e){yn.some(function(n){return n._value===e._value})||yn.push(e)}function Nc(e){for(var n=yn.length;n;)if(yn[--n]._value===e._value){yn.splice(n,1);return}}function Kt(e){return new B(Gn,!1,e)}function ce(e,n){var t=j;return function(){var r=ut(),a=j;try{return un(t,!0),e.apply(this,arguments)}catch(o){n&&n(o)}finally{un(a,!1),r&&st()}}}var we={awaits:0,echoes:0,id:0},jc=0,Lt=[],wr=0,Gt=0,zc=0;function ln(e,n,t,r){var a=j,o=Object.create(a);o.parent=a,o.ref=0,o.global=!1,o.id=++zc;var i=In.env;o.env=ga?{Promise:B,PromiseProp:{value:B,configurable:!0,writable:!0},all:B.all,race:B.race,allSettled:B.allSettled,any:B.any,resolve:B.resolve,reject:B.reject,nthen:Xa(i.nthen,o),gthen:Xa(i.gthen,o)}:{},n&&ke(o,n),++a.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var l=Kn(o,e,t,r);return o.ref===0&&o.finalize(),l}function Vn(){return we.id||(we.id=++jc),++we.awaits,we.echoes+=Gi,we.id}function qe(){return we.awaits?(--we.awaits===0&&(we.id=0),we.echoes=we.awaits*Gi,!0):!1}(""+qi).indexOf("[native code]")===-1&&(Vn=qe=re);function qt(e){return we.echoes&&e&&e.constructor===Ft?(Vn(),e.then(function(n){return qe(),n},function(n){return qe(),he(n)})):e}function Uc(e){++Gt,(!we.echoes||--we.echoes===0)&&(we.echoes=we.id=0),Lt.push(j),un(e,!0)}function Wc(){var e=Lt[Lt.length-1];Lt.pop(),un(e,!1)}function un(e,n){var t=j;if((n?we.echoes&&(!wr++||e!==j):wr&&(!--wr||e!==j))&&tl(n?Uc.bind(null,e):Wc),e!==j&&(j=e,t===In&&(In.env=nl()),ga)){var r=In.env.Promise,a=e.env;Ht.then=a.nthen,r.prototype.then=a.gthen,(t.global||e.global)&&(Object.defineProperty(se,"Promise",a.PromiseProp),r.all=a.all,r.race=a.race,r.resolve=a.resolve,r.reject=a.reject,a.allSettled&&(r.allSettled=a.allSettled),a.any&&(r.any=a.any))}}function nl(){var e=se.Promise;return ga?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(se,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Ht.then,gthen:e.prototype.then}:{}}function Kn(e,n,t,r,a){var o=j;try{return un(e,!0),n(t,r,a)}finally{un(o,!1)}}function tl(e){qi.call(Nr,e)}function Jt(e,n,t,r){return typeof e!="function"?e:function(){var a=j;t&&Vn(),un(n,!0);try{return e.apply(this,arguments)}finally{un(a,!1),r&&tl(qe)}}}function Xa(e,n){return function(t,r){return e.call(this,Jt(t,n),Jt(r,n))}}var Ga="unhandledrejection";function qa(e,n){var t;try{t=n.onuncatched(e)}catch{}if(t!==!1)try{var r,a={promise:n,reason:e};if(se.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(Ga,!0,!0),ke(r,a)):se.CustomEvent&&(r=new CustomEvent(Ga,{detail:a}),ke(r,a)),r&&se.dispatchEvent&&(dispatchEvent(r),!se.PromiseRejectionEvent&&se.onunhandledrejection))try{se.onunhandledrejection(r)}catch{}je&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch{}}var he=B.reject;function Gr(e,n,t,r){if(!e.idbdb||!e._state.openComplete&&!j.letThrough&&!e._vip){if(e._state.openComplete)return he(new U.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return he(new U.DatabaseClosed);e.open().catch(re)}return e._state.dbReadyPromise.then(function(){return Gr(e,n,t,r)})}else{var a=e._createTransaction(n,t,e._dbSchema);try{a.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===ha.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return Gr(e,n,t,r)})):he(o)}return a._promise(n,function(o,i){return ln(function(){return j.trans=a,r(o,i,a)})}).then(function(o){return a._completion.then(function(){return o})})}}var Ja="3.2.2",vn=String.fromCharCode(65535),qr=-1/0,Ue="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",rl="String expected.",Un=[],dr=typeof navigator!="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Yc=dr,Hc=dr,al=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},vr="__dbnames",Cr="readonly",Or="readwrite";function On(e,n){return e?n?function(){return e.apply(this,arguments)&&n.apply(this,arguments)}:e:n}var ol={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function yt(e){return typeof e=="string"&&!/\./.test(e)?function(n){return n[e]===void 0&&e in n&&(n=it(n),delete n[e]),n}:function(n){return n}}var Xc=function(){function e(){}return e.prototype._trans=function(n,t,r){var a=this._tx||j.trans,o=this.name;function i(u,s,c){if(!c.schema[o])throw new U.NotFound("Table "+o+" not part of transaction");return t(c.idbtrans,c)}var l=ut();try{return a&&a.db===this.db?a===j.trans?a._promise(n,i,r):ln(function(){return a._promise(n,i,r)},{trans:a,transless:j.transless||j}):Gr(this.db,n,[this.name],i)}finally{l&&st()}},e.prototype.get=function(n,t){var r=this;return n&&n.constructor===Object?this.where(n).first(t):this._trans("readonly",function(a){return r.core.get({trans:a,key:n}).then(function(o){return r.hook.reading.fire(o)})}).then(t)},e.prototype.where=function(n){if(typeof n=="string")return new this.db.WhereClause(this,n);if(Ce(n))return new this.db.WhereClause(this,"["+n.join("+")+"]");var t=pe(n);if(t.length===1)return this.where(t[0]).equals(n[t[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(c){return c.compound&&t.every(function(d){return c.keyPath.indexOf(d)>=0})&&c.keyPath.every(function(d){return t.indexOf(d)>=0})})[0];if(r&&this.db._maxKey!==vn)return this.where(r.name).equals(r.keyPath.map(function(c){return n[c]}));!r&&je&&console.warn("The query "+JSON.stringify(n)+" on "+this.name+" would benefit of a "+("compound index ["+t.join("+")+"]"));var a=this.schema.idxByName,o=this.db._deps.indexedDB;function i(c,d){try{return o.cmp(c,d)===0}catch{return!1}}var l=t.reduce(function(c,d){var f=c[0],p=c[1],v=a[d],h=n[d];return[f||v,f||!v?On(p,v&&v.multi?function(y){var C=Xe(y,d);return Ce(C)&&C.some(function(O){return i(h,O)})}:function(y){return i(h,Xe(y,d))}):p]},[null,null]),u=l[0],s=l[1];return u?this.where(u.name).equals(n[u.keyPath]).filter(s):r?this.filter(s):this.where(t).equals("")},e.prototype.filter=function(n){return this.toCollection().and(n)},e.prototype.count=function(n){return this.toCollection().count(n)},e.prototype.offset=function(n){return this.toCollection().offset(n)},e.prototype.limit=function(n){return this.toCollection().limit(n)},e.prototype.each=function(n){return this.toCollection().each(n)},e.prototype.toArray=function(n){return this.toCollection().toArray(n)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(n){return new this.db.Collection(new this.db.WhereClause(this,Ce(n)?"["+n.join("+")+"]":n))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(n){this.schema.mappedClass=n;var t=function(r){if(!r)return r;var a=Object.create(n.prototype);for(var o in r)if(Ie(r,o))try{a[o]=r[o]}catch{}return a};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),n},e.prototype.defineClass=function(){function n(t){ke(this,t)}return this.mapToClass(n)},e.prototype.add=function(n,t){var r=this,a=this.schema.primKey,o=a.auto,i=a.keyPath,l=n;return i&&o&&(l=yt(i)(n)),this._trans("readwrite",function(u){return r.core.mutate({trans:u,type:"add",keys:t!=null?[t]:null,values:[l]})}).then(function(u){return u.numFailures?B.reject(u.failures[0]):u.lastResult}).then(function(u){if(i)try{Me(n,i,u)}catch{}return u})},e.prototype.update=function(n,t){if(typeof n=="object"&&!Ce(n)){var r=Xe(n,this.schema.primKey.keyPath);if(r===void 0)return he(new U.InvalidArgument("Given object does not contain its primary key"));try{typeof t!="function"?pe(t).forEach(function(a){Me(n,a,t[a])}):t(n,{value:n,primKey:r})}catch{}return this.where(":id").equals(r).modify(t)}else return this.where(":id").equals(n).modify(t)},e.prototype.put=function(n,t){var r=this,a=this.schema.primKey,o=a.auto,i=a.keyPath,l=n;return i&&o&&(l=yt(i)(n)),this._trans("readwrite",function(u){return r.core.mutate({trans:u,type:"put",values:[l],keys:t!=null?[t]:null})}).then(function(u){return u.numFailures?B.reject(u.failures[0]):u.lastResult}).then(function(u){if(i)try{Me(n,i,u)}catch{}return u})},e.prototype.delete=function(n){var t=this;return this._trans("readwrite",function(r){return t.core.mutate({trans:r,type:"delete",keys:[n]})}).then(function(r){return r.numFailures?B.reject(r.failures[0]):void 0})},e.prototype.clear=function(){var n=this;return this._trans("readwrite",function(t){return n.core.mutate({trans:t,type:"deleteRange",range:ol})}).then(function(t){return t.numFailures?B.reject(t.failures[0]):void 0})},e.prototype.bulkGet=function(n){var t=this;return this._trans("readonly",function(r){return t.core.getMany({keys:n,trans:r}).then(function(a){return a.map(function(o){return t.hook.reading.fire(o)})})})},e.prototype.bulkAdd=function(n,t,r){var a=this,o=Array.isArray(t)?t:void 0;r=r||(o?void 0:t);var i=r?r.allKeys:void 0;return this._trans("readwrite",function(l){var u=a.schema.primKey,s=u.auto,c=u.keyPath;if(c&&o)throw new U.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==n.length)throw new U.InvalidArgument("Arguments objects and keys must have the same length");var d=n.length,f=c&&s?n.map(yt(c)):n;return a.core.mutate({trans:l,type:"add",keys:o,values:f,wantResults:i}).then(function(p){var v=p.numFailures,h=p.results,y=p.lastResult,C=p.failures,O=i?h:y;if(v===0)return O;throw new zn(a.name+".bulkAdd(): "+v+" of "+d+" operations failed",C)})})},e.prototype.bulkPut=function(n,t,r){var a=this,o=Array.isArray(t)?t:void 0;r=r||(o?void 0:t);var i=r?r.allKeys:void 0;return this._trans("readwrite",function(l){var u=a.schema.primKey,s=u.auto,c=u.keyPath;if(c&&o)throw new U.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==n.length)throw new U.InvalidArgument("Arguments objects and keys must have the same length");var d=n.length,f=c&&s?n.map(yt(c)):n;return a.core.mutate({trans:l,type:"put",keys:o,values:f,wantResults:i}).then(function(p){var v=p.numFailures,h=p.results,y=p.lastResult,C=p.failures,O=i?h:y;if(v===0)return O;throw new zn(a.name+".bulkPut(): "+v+" of "+d+" operations failed",C)})})},e.prototype.bulkDelete=function(n){var t=this,r=n.length;return this._trans("readwrite",function(a){return t.core.mutate({trans:a,type:"delete",keys:n})}).then(function(a){var o=a.numFailures,i=a.lastResult,l=a.failures;if(o===0)return i;throw new zn(t.name+".bulkDelete(): "+o+" of "+r+" operations failed",l)})},e}();function ct(e){var n={},t=function(l,u){if(u){for(var s=arguments.length,c=new Array(s-1);--s;)c[s-1]=arguments[s];return n[l].subscribe.apply(null,c),e}else if(typeof l=="string")return n[l]};t.addEventType=o;for(var r=1,a=arguments.length;r<a;++r)o(arguments[r]);return t;function o(l,u,s){if(typeof l=="object")return i(l);u||(u=Bc),s||(s=re);var c={subscribers:[],fire:s,subscribe:function(d){c.subscribers.indexOf(d)===-1&&(c.subscribers.push(d),c.fire=u(c.fire,d))},unsubscribe:function(d){c.subscribers=c.subscribers.filter(function(f){return f!==d}),c.fire=c.subscribers.reduce(u,s)}};return n[l]=t[l]=c,c}function i(l){pe(l).forEach(function(u){var s=l[u];if(Ce(s))o(u,l[u][0],l[u][1]);else if(s==="asap")var c=o(u,lt,function(){for(var f=arguments.length,p=new Array(f);f--;)p[f]=arguments[f];c.subscribers.forEach(function(v){Li(function(){v.apply(null,p)})})});else throw new U.InvalidArgument("Invalid event config")})}}function ft(e,n){return Fn(n).from({prototype:e}),n}function Gc(e){return ft(Xc.prototype,function(t,r,a){this.db=e,this._tx=a,this.name=t,this.schema=r,this.hook=e._allTables[t]?e._allTables[t].hook:ct(null,{creating:[Ic,re],reading:[Dc,lt],updating:[Ac,re],deleting:[_c,re]})})}function Tn(e,n){return!(e.filter||e.algorithm||e.or)&&(n?e.justLimit:!e.replayFilter)}function Sr(e,n){e.filter=On(e.filter,n)}function Pr(e,n,t){var r=e.replayFilter;e.replayFilter=r?function(){return On(r(),n())}:n,e.justLimit=t&&!r}function qc(e,n){e.isMatch=On(e.isMatch,n)}function Nt(e,n){if(e.isPrimKey)return n.primaryKey;var t=n.getIndexByKeyPath(e.index);if(!t)throw new U.Schema("KeyPath "+e.index+" on object store "+n.name+" is not indexed");return t}function Qa(e,n,t){var r=Nt(e,n.schema);return n.openCursor({trans:t,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function gt(e,n,t,r){var a=e.replayFilter?On(e.filter,e.replayFilter()):e.filter;if(e.or){var o={},i=function(l,u,s){if(!a||a(u,s,function(f){return u.stop(f)},function(f){return u.fail(f)})){var c=u.primaryKey,d=""+c;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(c)),Ie(o,d)||(o[d]=!0,n(l,u,s))}};return Promise.all([e.or._iterate(i,t),Za(Qa(e,r,t),e.algorithm,i,!e.keysOnly&&e.valueMapper)])}else return Za(Qa(e,r,t),On(e.algorithm,a),n,!e.keysOnly&&e.valueMapper)}function Za(e,n,t,r){var a=r?function(i,l,u){return t(r(i),l,u)}:t,o=ce(a);return e.then(function(i){if(i)return i.start(function(){var l=function(){return i.continue()};(!n||n(i,function(u){return l=u},function(u){i.stop(u),l=re},function(u){i.fail(u),l=re}))&&o(i.value,i,function(u){return l=u}),l()})})}function Pe(e,n){try{var t=xa(e),r=xa(n);if(t!==r)return t==="Array"?1:r==="Array"?-1:t==="binary"?1:r==="binary"?-1:t==="string"?1:r==="string"?-1:t==="Date"?1:r!=="Date"?NaN:-1;switch(t){case"number":case"Date":case"string":return e>n?1:e<n?-1:0;case"binary":return Qc(eo(e),eo(n));case"Array":return Jc(e,n)}}catch{}return NaN}function Jc(e,n){for(var t=e.length,r=n.length,a=t<r?t:r,o=0;o<a;++o){var i=Pe(e[o],n[o]);if(i!==0)return i}return t===r?0:t<r?-1:1}function Qc(e,n){for(var t=e.length,r=n.length,a=t<r?t:r,o=0;o<a;++o)if(e[o]!==n[o])return e[o]<n[o]?-1:1;return t===r?0:t<r?-1:1}function xa(e){var n=typeof e;if(n!=="object")return n;if(ArrayBuffer.isView(e))return"binary";var t=Vr(e);return t==="ArrayBuffer"?"binary":t}function eo(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var Zc=function(){function e(){}return e.prototype._read=function(n,t){var r=this._ctx;return r.error?r.table._trans(null,he.bind(null,r.error)):r.table._trans("readonly",n).then(t)},e.prototype._write=function(n){var t=this._ctx;return t.error?t.table._trans(null,he.bind(null,t.error)):t.table._trans("readwrite",n,"locked")},e.prototype._addAlgorithm=function(n){var t=this._ctx;t.algorithm=On(t.algorithm,n)},e.prototype._iterate=function(n,t){return gt(this._ctx,n,t,this._ctx.table.core)},e.prototype.clone=function(n){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return n&&ke(r,n),t._ctx=r,t},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(n){var t=this._ctx;return this._read(function(r){return gt(t,n,r,t.table.core)})},e.prototype.count=function(n){var t=this;return this._read(function(r){var a=t._ctx,o=a.table.core;if(Tn(a,!0))return o.count({trans:r,query:{index:Nt(a,o.schema),range:a.range}}).then(function(l){return Math.min(l,a.limit)});var i=0;return gt(a,function(){return++i,!1},r,o).then(function(){return i})}).then(n)},e.prototype.sortBy=function(n,t){var r=n.split(".").reverse(),a=r[0],o=r.length-1;function i(s,c){return c?i(s[r[c]],c-1):s[a]}var l=this._ctx.dir==="next"?1:-1;function u(s,c){var d=i(s,o),f=i(c,o);return d<f?-l:d>f?l:0}return this.toArray(function(s){return s.sort(u)}).then(t)},e.prototype.toArray=function(n){var t=this;return this._read(function(r){var a=t._ctx;if(a.dir==="next"&&Tn(a,!0)&&a.limit>0){var o=a.valueMapper,i=Nt(a,a.table.core.schema);return a.table.core.query({trans:r,limit:a.limit,values:!0,query:{index:i,range:a.range}}).then(function(u){var s=u.result;return o?s.map(o):s})}else{var l=[];return gt(a,function(u){return l.push(u)},r,a.table.core).then(function(){return l})}},n)},e.prototype.offset=function(n){var t=this._ctx;return n<=0?this:(t.offset+=n,Tn(t)?Pr(t,function(){var r=n;return function(a,o){return r===0?!0:r===1?(--r,!1):(o(function(){a.advance(r),r=0}),!1)}}):Pr(t,function(){var r=n;return function(){return--r<0}}),this)},e.prototype.limit=function(n){return this._ctx.limit=Math.min(this._ctx.limit,n),Pr(this._ctx,function(){var t=n;return function(r,a,o){return--t<=0&&a(o),t>=0}},!0),this},e.prototype.until=function(n,t){return Sr(this._ctx,function(r,a,o){return n(r.value)?(a(o),t):!0}),this},e.prototype.first=function(n){return this.limit(1).toArray(function(t){return t[0]}).then(n)},e.prototype.last=function(n){return this.reverse().first(n)},e.prototype.filter=function(n){return Sr(this._ctx,function(t){return n(t.value)}),qc(this._ctx,n),this},e.prototype.and=function(n){return this.filter(n)},e.prototype.or=function(n){return new this.db.WhereClause(this._ctx.table,n,this)},e.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(n){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(r,a){n(a.key,a)})},e.prototype.eachUniqueKey=function(n){return this._ctx.unique="unique",this.eachKey(n)},e.prototype.eachPrimaryKey=function(n){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(r,a){n(a.primaryKey,a)})},e.prototype.keys=function(n){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each(function(a,o){r.push(o.key)}).then(function(){return r}).then(n)},e.prototype.primaryKeys=function(n){var t=this._ctx;if(t.dir==="next"&&Tn(t,!0)&&t.limit>0)return this._read(function(a){var o=Nt(t,t.table.core.schema);return t.table.core.query({trans:a,values:!1,limit:t.limit,query:{index:o,range:t.range}})}).then(function(a){var o=a.result;return o}).then(n);t.keysOnly=!t.isMatch;var r=[];return this.each(function(a,o){r.push(o.primaryKey)}).then(function(){return r}).then(n)},e.prototype.uniqueKeys=function(n){return this._ctx.unique="unique",this.keys(n)},e.prototype.firstKey=function(n){return this.limit(1).keys(function(t){return t[0]}).then(n)},e.prototype.lastKey=function(n){return this.reverse().firstKey(n)},e.prototype.distinct=function(){var n=this._ctx,t=n.index&&n.table.schema.idxByName[n.index];if(!t||!t.multi)return this;var r={};return Sr(this._ctx,function(a){var o=a.primaryKey.toString(),i=Ie(r,o);return r[o]=!0,!i}),this},e.prototype.modify=function(n){var t=this,r=this._ctx;return this._write(function(a){var o;if(typeof n=="function")o=n;else{var i=pe(n),l=i.length;o=function(C){for(var O=!1,S=0;S<l;++S){var w=i[S],b=n[w];Xe(C,w)!==b&&(Me(C,w,b),O=!0)}return O}}var u=r.table.core,s=u.schema.primaryKey,c=s.outbound,d=s.extractKey,f=t.db._options.modifyChunkSize||200,p=[],v=0,h=[],y=function(C,O){var S=O.failures,w=O.numFailures;v+=C-w;for(var b=0,m=pe(S);b<m.length;b++){var E=m[b];p.push(S[E])}};return t.clone().primaryKeys().then(function(C){var O=function(S){var w=Math.min(f,C.length-S);return u.getMany({trans:a,keys:C.slice(S,S+w),cache:"immutable"}).then(function(b){for(var m=[],E=[],k=c?[]:null,I=[],P=0;P<w;++P){var $=b[P],_={value:it($),primKey:C[S+P]};o.call(_,_.value,_)!==!1&&(_.value==null?I.push(C[S+P]):!c&&Pe(d($),d(_.value))!==0?(I.push(C[S+P]),m.push(_.value)):(E.push(_.value),c&&k.push(C[S+P])))}var L=Tn(r)&&r.limit===1/0&&(typeof n!="function"||n===Er)&&{index:r.index,range:r.range};return Promise.resolve(m.length>0&&u.mutate({trans:a,type:"add",values:m}).then(function(A){for(var D in A.failures)I.splice(parseInt(D),1);y(m.length,A)})).then(function(){return(E.length>0||L&&typeof n=="object")&&u.mutate({trans:a,type:"put",keys:k,values:E,criteria:L,changeSpec:typeof n!="function"&&n}).then(function(A){return y(E.length,A)})}).then(function(){return(I.length>0||L&&n===Er)&&u.mutate({trans:a,type:"delete",keys:I,criteria:L}).then(function(A){return y(I.length,A)})}).then(function(){return C.length>S+w&&O(S+f)})})};return O(0).then(function(){if(p.length>0)throw new Yt("Error modifying one or more objects",p,v,h);return C.length})})})},e.prototype.delete=function(){var n=this._ctx,t=n.range;return Tn(n)&&(n.isPrimKey&&!Hc||t.type===3)?this._write(function(r){var a=n.table.core.schema.primaryKey,o=t;return n.table.core.count({trans:r,query:{index:a,range:o}}).then(function(i){return n.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(function(l){var u=l.failures;l.lastResult,l.results;var s=l.numFailures;if(s)throw new Yt("Could not delete some values",Object.keys(u).map(function(c){return u[c]}),i-s);return i-s})})}):this.modify(Er)},e}(),Er=function(e,n){return n.value=null};function xc(e){return ft(Zc.prototype,function(t,r){this.db=e;var a=ol,o=null;if(r)try{a=r()}catch(s){o=s}var i=t._ctx,l=i.table,u=l.hook.reading.fire;this._ctx={table:l,index:i.index,isPrimKey:!i.index||l.schema.primKey.keyPath&&i.index===l.schema.primKey.name,range:a,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:o,or:i.or,valueMapper:u!==lt?u:null}})}function ef(e,n){return e<n?-1:e===n?0:1}function nf(e,n){return e>n?-1:e===n?0:1}function $e(e,n,t){var r=e instanceof ll?new e.Collection(e):e;return r._ctx.error=t?new t(n):new TypeError(n),r}function $n(e){return new e.Collection(e,function(){return il("")}).limit(0)}function tf(e){return e==="next"?function(n){return n.toUpperCase()}:function(n){return n.toLowerCase()}}function rf(e){return e==="next"?function(n){return n.toLowerCase()}:function(n){return n.toUpperCase()}}function af(e,n,t,r,a,o){for(var i=Math.min(e.length,r.length),l=-1,u=0;u<i;++u){var s=n[u];if(s!==r[u])return a(e[u],t[u])<0?e.substr(0,u)+t[u]+t.substr(u+1):a(e[u],r[u])<0?e.substr(0,u)+r[u]+t.substr(u+1):l>=0?e.substr(0,l)+n[l]+t.substr(l+1):null;a(e[u],s)<0&&(l=u)}return i<r.length&&o==="next"?e+t.substr(e.length):i<e.length&&o==="prev"?e.substr(0,t.length):l<0?null:e.substr(0,l)+r[l]+t.substr(l+1)}function bt(e,n,t,r){var a,o,i,l,u,s,c,d=t.length;if(!t.every(function(h){return typeof h=="string"}))return $e(e,rl);function f(h){a=tf(h),o=rf(h),i=h==="next"?ef:nf;var y=t.map(function(C){return{lower:o(C),upper:a(C)}}).sort(function(C,O){return i(C.lower,O.lower)});l=y.map(function(C){return C.upper}),u=y.map(function(C){return C.lower}),s=h,c=h==="next"?"":r}f("next");var p=new e.Collection(e,function(){return Je(l[0],u[d-1]+r)});p._ondirectionchange=function(h){f(h)};var v=0;return p._addAlgorithm(function(h,y,C){var O=h.key;if(typeof O!="string")return!1;var S=o(O);if(n(S,u,v))return!0;for(var w=null,b=v;b<d;++b){var m=af(O,S,l[b],u[b],i,s);m===null&&w===null?v=b+1:(w===null||i(w,m)>0)&&(w=m)}return y(w!==null?function(){h.continue(w+c)}:C),!1}),p}function Je(e,n,t,r){return{type:2,lower:e,upper:n,lowerOpen:t,upperOpen:r}}function il(e){return{type:1,lower:e,upper:e}}var ll=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),e.prototype.between=function(n,t,r,a){r=r!==!1,a=a===!0;try{return this._cmp(n,t)>0||this._cmp(n,t)===0&&(r||a)&&!(r&&a)?$n(this):new this.Collection(this,function(){return Je(n,t,!r,!a)})}catch{return $e(this,Ue)}},e.prototype.equals=function(n){return n==null?$e(this,Ue):new this.Collection(this,function(){return il(n)})},e.prototype.above=function(n){return n==null?$e(this,Ue):new this.Collection(this,function(){return Je(n,void 0,!0)})},e.prototype.aboveOrEqual=function(n){return n==null?$e(this,Ue):new this.Collection(this,function(){return Je(n,void 0,!1)})},e.prototype.below=function(n){return n==null?$e(this,Ue):new this.Collection(this,function(){return Je(void 0,n,!1,!0)})},e.prototype.belowOrEqual=function(n){return n==null?$e(this,Ue):new this.Collection(this,function(){return Je(void 0,n)})},e.prototype.startsWith=function(n){return typeof n!="string"?$e(this,rl):this.between(n,n+vn,!0,!0)},e.prototype.startsWithIgnoreCase=function(n){return n===""?this.startsWith(n):bt(this,function(t,r){return t.indexOf(r[0])===0},[n],vn)},e.prototype.equalsIgnoreCase=function(n){return bt(this,function(t,r){return t===r[0]},[n],"")},e.prototype.anyOfIgnoreCase=function(){var n=Ye.apply(Dn,arguments);return n.length===0?$n(this):bt(this,function(t,r){return r.indexOf(t)!==-1},n,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var n=Ye.apply(Dn,arguments);return n.length===0?$n(this):bt(this,function(t,r){return r.some(function(a){return t.indexOf(a)===0})},n,vn)},e.prototype.anyOf=function(){var n=this,t=Ye.apply(Dn,arguments),r=this._cmp;try{t.sort(r)}catch{return $e(this,Ue)}if(t.length===0)return $n(this);var a=new this.Collection(this,function(){return Je(t[0],t[t.length-1])});a._ondirectionchange=function(i){r=i==="next"?n._ascending:n._descending,t.sort(r)};var o=0;return a._addAlgorithm(function(i,l,u){for(var s=i.key;r(s,t[o])>0;)if(++o,o===t.length)return l(u),!1;return r(s,t[o])===0?!0:(l(function(){i.continue(t[o])}),!1)}),a},e.prototype.notEqual=function(n){return this.inAnyRange([[qr,n],[n,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var n=Ye.apply(Dn,arguments);if(n.length===0)return new this.Collection(this);try{n.sort(this._ascending)}catch{return $e(this,Ue)}var t=n.reduce(function(r,a){return r?r.concat([[r[r.length-1][1],a]]):[[qr,a]]},null);return t.push([n[n.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(n,t){var r=this,a=this._cmp,o=this._ascending,i=this._descending,l=this._min,u=this._max;if(n.length===0)return $n(this);if(!n.every(function(b){return b[0]!==void 0&&b[1]!==void 0&&o(b[0],b[1])<=0}))return $e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",U.InvalidArgument);var s=!t||t.includeLowers!==!1,c=t&&t.includeUppers===!0;function d(b,m){for(var E=0,k=b.length;E<k;++E){var I=b[E];if(a(m[0],I[1])<0&&a(m[1],I[0])>0){I[0]=l(I[0],m[0]),I[1]=u(I[1],m[1]);break}}return E===k&&b.push(m),b}var f=o;function p(b,m){return f(b[0],m[0])}var v;try{v=n.reduce(d,[]),v.sort(p)}catch{return $e(this,Ue)}var h=0,y=c?function(b){return o(b,v[h][1])>0}:function(b){return o(b,v[h][1])>=0},C=s?function(b){return i(b,v[h][0])>0}:function(b){return i(b,v[h][0])>=0};function O(b){return!y(b)&&!C(b)}var S=y,w=new this.Collection(this,function(){return Je(v[0][0],v[v.length-1][1],!s,!c)});return w._ondirectionchange=function(b){b==="next"?(S=y,f=o):(S=C,f=i),v.sort(p)},w._addAlgorithm(function(b,m,E){for(var k=b.key;S(k);)if(++h,h===v.length)return m(E),!1;return O(k)?!0:(r._cmp(k,v[h][1])===0||r._cmp(k,v[h][0])===0||m(function(){f===o?b.continue(v[h][0]):b.continue(v[h][1])}),!1)}),w},e.prototype.startsWithAnyOf=function(){var n=Ye.apply(Dn,arguments);return n.every(function(t){return typeof t=="string"})?n.length===0?$n(this):this.inAnyRange(n.map(function(t){return[t,t+vn]})):$e(this,"startsWithAnyOf() only works with strings")},e}();function of(e){return ft(ll.prototype,function(t,r,a){this.db=e,this._ctx={table:t,index:r===":id"?null:r,or:a};var o=e._deps.indexedDB;if(!o)throw new U.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(i,l){return o.cmp(l,i)},this._max=function(i,l){return o.cmp(i,l)>0?i:l},this._min=function(i,l){return o.cmp(i,l)<0?i:l},this._IDBKeyRange=e._deps.IDBKeyRange})}function Ke(e){return ce(function(n){return Jn(n),e(n.target.error),!1})}function Jn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Qn="storagemutated",nn="x-storagemutated-1",sn=ct(null,Qn),lf=function(){function e(){}return e.prototype._lock=function(){return Ln(!j.global),++this._reculock,this._reculock===1&&!j.global&&(j.lockOwnerFor=this),this},e.prototype._unlock=function(){if(Ln(!j.global),--this._reculock===0)for(j.global||(j.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var n=this._blockedFuncs.shift();try{Kn(n[1],n[0])}catch{}}return this},e.prototype._locked=function(){return this._reculock&&j.lockOwnerFor!==this},e.prototype.create=function(n){var t=this;if(!this.mode)return this;var r=this.db.idbdb,a=this.db._state.dbOpenError;if(Ln(!this.idbtrans),!n&&!r)switch(a&&a.name){case"DatabaseClosedError":throw new U.DatabaseClosed(a);case"MissingAPIError":throw new U.MissingAPI(a.message,a);default:throw new U.OpenFailed(a)}if(!this.active)throw new U.TransactionInactive;return Ln(this._completion._state===null),n=this.idbtrans=n||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),n.onerror=ce(function(o){Jn(o),t._reject(n.error)}),n.onabort=ce(function(o){Jn(o),t.active&&t._reject(new U.Abort(n.error)),t.active=!1,t.on("abort").fire(o)}),n.oncomplete=ce(function(){t.active=!1,t._resolve(),"mutatedParts"in n&&sn.storagemutated.fire(n.mutatedParts)}),this},e.prototype._promise=function(n,t,r){var a=this;if(n==="readwrite"&&this.mode!=="readwrite")return he(new U.ReadOnly("Transaction is readonly"));if(!this.active)return he(new U.TransactionInactive);if(this._locked())return new B(function(i,l){a._blockedFuncs.push([function(){a._promise(n,t,r).then(i,l)},j])});if(r)return ln(function(){var i=new B(function(l,u){a._lock();var s=t(l,u,a);s&&s.then&&s.then(l,u)});return i.finally(function(){return a._unlock()}),i._lib=!0,i});var o=new B(function(i,l){var u=t(i,l,a);u&&u.then&&u.then(i,l)});return o._lib=!0,o},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(n){var t=this._root(),r=B.resolve(n);if(t._waitingFor)t._waitingFor=t._waitingFor.then(function(){return r});else{t._waitingFor=r,t._waitingQueue=[];var a=t.idbtrans.objectStore(t.storeNames[0]);(function i(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(a.get(-1/0).onsuccess=i)})()}var o=t._waitingFor;return new B(function(i,l){r.then(function(u){return t._waitingQueue.push(ce(i.bind(null,u)))},function(u){return t._waitingQueue.push(ce(l.bind(null,u)))}).finally(function(){t._waitingFor===o&&(t._waitingFor=null)})})},e.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new U.Abort))},e.prototype.table=function(n){var t=this._memoizedTables||(this._memoizedTables={});if(Ie(t,n))return t[n];var r=this.schema[n];if(!r)throw new U.NotFound("Table "+n+" not part of transaction");var a=new this.db.Table(n,r,this);return a.core=this.db.core.table(n),t[n]=a,a},e}();function uf(e){return ft(lf.prototype,function(t,r,a,o,i){var l=this;this.db=e,this.mode=t,this.storeNames=r,this.schema=a,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=ct(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new B(function(u,s){l._resolve=u,l._reject=s}),this._completion.then(function(){l.active=!1,l.on.complete.fire()},function(u){var s=l.active;return l.active=!1,l.on.error.fire(u),l.parent?l.parent._reject(u):s&&l.idbtrans&&l.idbtrans.abort(),he(u)})})}function Jr(e,n,t,r,a,o,i){return{name:e,keyPath:n,unique:t,multi:r,auto:a,compound:o,src:(t&&!i?"&":"")+(r?"*":"")+(a?"++":"")+ul(n)}}function ul(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function sl(e,n,t){return{name:e,primKey:n,indexes:t,mappedClass:null,idxByName:Ni(t,function(r){return[r.name,r]})}}function sf(e){return e.length===1?e[0]:e}var Zn=function(e){try{return e.only([[]]),Zn=function(){return[[]]},[[]]}catch{return Zn=function(){return vn},vn}};function Qr(e){return e==null?function(){}:typeof e=="string"?cf(e):function(n){return Xe(n,e)}}function cf(e){var n=e.split(".");return n.length===1?function(t){return t[e]}:function(t){return Xe(t,e)}}function no(e){return[].slice.call(e)}var ff=0;function Wn(e){return e==null?":id":typeof e=="string"?e:"["+e.join("+")+"]"}function df(e,n,t){function r(d,f){var p=no(d.objectStoreNames);return{schema:{name:d.name,tables:p.map(function(v){return f.objectStore(v)}).map(function(v){var h=v.keyPath,y=v.autoIncrement,C=Ce(h),O=h==null,S={},w={name:v.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:O,compound:C,keyPath:h,autoIncrement:y,unique:!0,extractKey:Qr(h)},indexes:no(v.indexNames).map(function(b){return v.index(b)}).map(function(b){var m=b.name,E=b.unique,k=b.multiEntry,I=b.keyPath,P=Ce(I),$={name:m,compound:P,keyPath:I,unique:E,multiEntry:k,extractKey:Qr(I)};return S[Wn(I)]=$,$}),getIndexByKeyPath:function(b){return S[Wn(b)]}};return S[":id"]=w.primaryKey,h!=null&&(S[Wn(h)]=w.primaryKey),w})},hasGetAll:p.length>0&&"getAll"in f.objectStore(p[0])&&!(typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function a(d){if(d.type===3)return null;if(d.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var f=d.lower,p=d.upper,v=d.lowerOpen,h=d.upperOpen,y=f===void 0?p===void 0?null:n.upperBound(p,!!h):p===void 0?n.lowerBound(f,!!v):n.bound(f,p,!!v,!!h);return y}function o(d){var f=d.name;function p(y){var C=y.trans,O=y.type,S=y.keys,w=y.values,b=y.range;return new Promise(function(m,E){m=ce(m);var k=C.objectStore(f),I=k.keyPath==null,P=O==="put"||O==="add";if(!P&&O!=="delete"&&O!=="deleteRange")throw new Error("Invalid operation type: "+O);var $=(S||w||{length:1}).length;if(S&&w&&S.length!==w.length)throw new Error("Given keys array must have same length as given values array.");if($===0)return m({numFailures:0,failures:{},results:[],lastResult:void 0});var _,L=[],A=[],D=0,Y=function(Q){++D,Jn(Q)};if(O==="deleteRange"){if(b.type===4)return m({numFailures:D,failures:A,results:[],lastResult:void 0});b.type===3?L.push(_=k.clear()):L.push(_=k.delete(a(b)))}else{var te=P?I?[w,S]:[w,null]:[S,null],le=te[0],de=te[1];if(P)for(var R=0;R<$;++R)L.push(_=de&&de[R]!==void 0?k[O](le[R],de[R]):k[O](le[R])),_.onerror=Y;else for(var R=0;R<$;++R)L.push(_=k[O](le[R])),_.onerror=Y}var H=function(Q){var z=Q.target.result;L.forEach(function(V,Z){return V.error!=null&&(A[Z]=V.error)}),m({numFailures:D,failures:A,results:O==="delete"?S:L.map(function(V){return V.result}),lastResult:z})};_.onerror=function(Q){Y(Q),H(Q)},_.onsuccess=H})}function v(y){var C=y.trans,O=y.values,S=y.query,w=y.reverse,b=y.unique;return new Promise(function(m,E){m=ce(m);var k=S.index,I=S.range,P=C.objectStore(f),$=k.isPrimaryKey?P:P.index(k.name),_=w?b?"prevunique":"prev":b?"nextunique":"next",L=O||!("openKeyCursor"in $)?$.openCursor(a(I),_):$.openKeyCursor(a(I),_);L.onerror=Ke(E),L.onsuccess=ce(function(A){var D=L.result;if(!D){m(null);return}D.___id=++ff,D.done=!1;var Y=D.continue.bind(D),te=D.continuePrimaryKey;te&&(te=te.bind(D));var le=D.advance.bind(D),de=function(){throw new Error("Cursor not started")},R=function(){throw new Error("Cursor not stopped")};D.trans=C,D.stop=D.continue=D.continuePrimaryKey=D.advance=de,D.fail=ce(E),D.next=function(){var H=this,Q=1;return this.start(function(){return Q--?H.continue():H.stop()}).then(function(){return H})},D.start=function(H){var Q=new Promise(function(V,Z){V=ce(V),L.onerror=Ke(Z),D.fail=Z,D.stop=function(ee){D.stop=D.continue=D.continuePrimaryKey=D.advance=R,V(ee)}}),z=function(){if(L.result)try{H()}catch(V){D.fail(V)}else D.done=!0,D.start=function(){throw new Error("Cursor behind last entry")},D.stop()};return L.onsuccess=ce(function(V){L.onsuccess=z,z()}),D.continue=Y,D.continuePrimaryKey=te,D.advance=le,z(),Q},m(D)},E)})}function h(y){return function(C){return new Promise(function(O,S){O=ce(O);var w=C.trans,b=C.values,m=C.limit,E=C.query,k=m===1/0?void 0:m,I=E.index,P=E.range,$=w.objectStore(f),_=I.isPrimaryKey?$:$.index(I.name),L=a(P);if(m===0)return O({result:[]});if(y){var A=b?_.getAll(L,k):_.getAllKeys(L,k);A.onsuccess=function(le){return O({result:le.target.result})},A.onerror=Ke(S)}else{var D=0,Y=b||!("openKeyCursor"in _)?_.openCursor(L):_.openKeyCursor(L),te=[];Y.onsuccess=function(le){var de=Y.result;if(!de)return O({result:te});if(te.push(b?de.value:de.primaryKey),++D===m)return O({result:te});de.continue()},Y.onerror=Ke(S)}})}}return{name:f,schema:d,mutate:p,getMany:function(y){var C=y.trans,O=y.keys;return new Promise(function(S,w){S=ce(S);for(var b=C.objectStore(f),m=O.length,E=new Array(m),k=0,I=0,P,$=function(D){var Y=D.target;(E[Y._pos]=Y.result)!=null,++I===k&&S(E)},_=Ke(w),L=0;L<m;++L){var A=O[L];A!=null&&(P=b.get(O[L]),P._pos=L,P.onsuccess=$,P.onerror=_,++k)}k===0&&S(E)})},get:function(y){var C=y.trans,O=y.key;return new Promise(function(S,w){S=ce(S);var b=C.objectStore(f),m=b.get(O);m.onsuccess=function(E){return S(E.target.result)},m.onerror=Ke(w)})},query:h(u),openCursor:v,count:function(y){var C=y.query,O=y.trans,S=C.index,w=C.range;return new Promise(function(b,m){var E=O.objectStore(f),k=S.isPrimaryKey?E:E.index(S.name),I=a(w),P=I?k.count(I):k.count();P.onsuccess=ce(function($){return b($.target.result)}),P.onerror=Ke(m)})}}}var i=r(e,t),l=i.schema,u=i.hasGetAll,s=l.tables.map(function(d){return o(d)}),c={};return s.forEach(function(d){return c[d.name]=d}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(d){var f=c[d];if(!f)throw new Error("Table '"+d+"' not found");return c[d]},MIN_KEY:-1/0,MAX_KEY:Zn(n),schema:l}}function vf(e,n){return n.reduce(function(t,r){var a=r.create;return ne(ne({},t),a(t))},e)}function pf(e,n,t,r){var a=t.IDBKeyRange;t.indexedDB;var o=vf(df(n,a,r),e.dbcore);return{dbcore:o}}function Ca(e,n){var t=e._novip,r=n.db,a=pf(t._middlewares,r,t._deps,n);t.core=a.dbcore,t.tables.forEach(function(o){var i=o.name;t.core.schema.tables.some(function(l){return l.name===i})&&(o.core=t.core.table(i),t[i]instanceof t.Table&&(t[i].core=o.core))})}function Qt(e,n,t,r){var a=e._novip;t.forEach(function(o){var i=r[o];n.forEach(function(l){var u=da(l,o);(!u||"value"in u&&u.value===void 0)&&(l===a.Transaction.prototype||l instanceof a.Transaction?Ge(l,o,{get:function(){return this.table(o)},set:function(s){Vi(this,o,{value:s,writable:!0,configurable:!0,enumerable:!0})}}):l[o]=new a.Table(o,i))})})}function Zr(e,n){var t=e._novip;n.forEach(function(r){for(var a in r)r[a]instanceof t.Table&&delete r[a]})}function hf(e,n){return e._cfg.version-n._cfg.version}function mf(e,n,t,r){var a=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,a);o.create(t),o._completion.catch(r);var i=o._reject.bind(o),l=j.transless||j;ln(function(){j.trans=o,j.transless=l,n===0?(pe(a).forEach(function(u){Oa(t,u,a[u].primKey,a[u].indexes)}),Ca(e,t),B.follow(function(){return e.on.populate.fire(o)}).catch(i)):yf(e,n,o,t).catch(i)})}function yf(e,n,t,r){var a=e._novip,o=[],i=a._versions,l=a._dbSchema=Sa(a,a.idbdb,r),u=!1,s=i.filter(function(d){return d._cfg.version>=n});s.forEach(function(d){o.push(function(){var f=l,p=d._cfg.dbschema;ea(a,f,r),ea(a,p,r),l=a._dbSchema=p;var v=cl(f,p);v.add.forEach(function(w){Oa(r,w[0],w[1].primKey,w[1].indexes)}),v.change.forEach(function(w){if(w.recreate)throw new U.Upgrade("Not yet support for changing primary key");var b=r.objectStore(w.name);w.add.forEach(function(m){return xr(b,m)}),w.change.forEach(function(m){b.deleteIndex(m.name),xr(b,m)}),w.del.forEach(function(m){return b.deleteIndex(m)})});var h=d._cfg.contentUpgrade;if(h&&d._cfg.version>n){Ca(a,r),t._memoizedTables={},u=!0;var y=ji(p);v.del.forEach(function(w){y[w]=f[w]}),Zr(a,[a.Transaction.prototype]),Qt(a,[a.Transaction.prototype],pe(y),y),t.schema=y;var C=va(h);C&&Vn();var O,S=B.follow(function(){if(O=h(t),O&&C){var w=qe.bind(null,null);O.then(w,w)}});return O&&typeof O.then=="function"?B.resolve(O):S.then(function(){return O})}}),o.push(function(f){if(!u||!Yc){var p=d._cfg.dbschema;bf(p,f)}Zr(a,[a.Transaction.prototype]),Qt(a,[a.Transaction.prototype],a._storeNames,a._dbSchema),t.schema=a._dbSchema})});function c(){return o.length?B.resolve(o.shift()(t.idbtrans)).then(c):B.resolve()}return c().then(function(){gf(l,r)})}function cl(e,n){var t={del:[],add:[],change:[]},r;for(r in e)n[r]||t.del.push(r);for(r in n){var a=e[r],o=n[r];if(!a)t.add.push([r,o]);else{var i={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(a.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||a.primKey.auto!==o.primKey.auto&&!dr)i.recreate=!0,t.change.push(i);else{var l=a.idxByName,u=o.idxByName,s=void 0;for(s in l)u[s]||i.del.push(s);for(s in u){var c=l[s],d=u[s];c?c.src!==d.src&&i.change.push(d):i.add.push(d)}(i.del.length>0||i.add.length>0||i.change.length>0)&&t.change.push(i)}}}return t}function Oa(e,n,t,r){var a=e.db.createObjectStore(n,t.keyPath?{keyPath:t.keyPath,autoIncrement:t.auto}:{autoIncrement:t.auto});return r.forEach(function(o){return xr(a,o)}),a}function gf(e,n){pe(e).forEach(function(t){n.db.objectStoreNames.contains(t)||Oa(n,t,e[t].primKey,e[t].indexes)})}function bf(e,n){[].slice.call(n.db.objectStoreNames).forEach(function(t){return e[t]==null&&n.db.deleteObjectStore(t)})}function xr(e,n){e.createIndex(n.name,n.keyPath,{unique:n.unique,multiEntry:n.multi})}function Sa(e,n,t){var r={},a=cr(n.objectStoreNames,0);return a.forEach(function(o){for(var i=t.objectStore(o),l=i.keyPath,u=Jr(ul(l),l||"",!1,!1,!!i.autoIncrement,l&&typeof l!="string",!0),s=[],c=0;c<i.indexNames.length;++c){var d=i.index(i.indexNames[c]);l=d.keyPath;var f=Jr(d.name,l,!!d.unique,!!d.multiEntry,!1,l&&typeof l!="string",!1);s.push(f)}r[o]=sl(o,u,s)}),r}function wf(e,n,t){var r=e._novip;r.verno=n.version/10;var a=r._dbSchema=Sa(r,n,t);r._storeNames=cr(n.objectStoreNames,0),Qt(r,[r._allTables],pe(a),a)}function Cf(e,n){var t=Sa(e,e.idbdb,n),r=cl(t,e._dbSchema);return!(r.add.length||r.change.some(function(a){return a.add.length||a.change.length}))}function ea(e,n,t){for(var r=e._novip,a=t.db.objectStoreNames,o=0;o<a.length;++o){var i=a[o],l=t.objectStore(i);r._hasGetAll="getAll"in l;for(var u=0;u<l.indexNames.length;++u){var s=l.indexNames[u],c=l.index(s).keyPath,d=typeof c=="string"?c:"["+cr(c).join("+")+"]";if(n[i]){var f=n[i].idxByName[d];f&&(f.name=s,delete n[i].idxByName[d],n[i].idxByName[s]=f)}}}typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&se.WorkerGlobalScope&&se instanceof se.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function Of(e){return e.split(",").map(function(n,t){n=n.trim();var r=n.replace(/([&*]|\+\+)/g,""),a=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return Jr(r,a||null,/\&/.test(n),/\*/.test(n),/\+\+/.test(n),Ce(a),t===0)})}var Sf=function(){function e(){}return e.prototype._parseStoresSpec=function(n,t){pe(n).forEach(function(r){if(n[r]!==null){var a=Of(n[r]),o=a.shift();if(o.multi)throw new U.Schema("Primary key cannot be multi-valued");a.forEach(function(i){if(i.auto)throw new U.Schema("Only primary key can be marked as autoIncrement (++)");if(!i.keyPath)throw new U.Schema("Index must have a name and cannot be an empty string")}),t[r]=sl(r,o,a)}})},e.prototype.stores=function(n){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?ke(this._cfg.storesSource,n):n;var r=t._versions,a={},o={};return r.forEach(function(i){ke(a,i._cfg.storesSource),o=i._cfg.dbschema={},i._parseStoresSpec(a,o)}),t._dbSchema=o,Zr(t,[t._allTables,t,t.Transaction.prototype]),Qt(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],pe(o),o),t._storeNames=pe(o),this},e.prototype.upgrade=function(n){return this._cfg.contentUpgrade=ma(this._cfg.contentUpgrade||re,n),this},e}();function Pf(e){return ft(Sf.prototype,function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Pa(e,n){var t=e._dbNamesDB;return t||(t=e._dbNamesDB=new $a(vr,{addons:[],indexedDB:e,IDBKeyRange:n}),t.version(1).stores({dbnames:"name"})),t.table("dbnames")}function Ea(e){return e&&typeof e.databases=="function"}function Ef(e){var n=e.indexedDB,t=e.IDBKeyRange;return Ea(n)?Promise.resolve(n.databases()).then(function(r){return r.map(function(a){return a.name}).filter(function(a){return a!==vr})}):Pa(n,t).toCollection().primaryKeys()}function kf(e,n){var t=e.indexedDB,r=e.IDBKeyRange;!Ea(t)&&n!==vr&&Pa(t,r).put({name:n}).catch(re)}function Tf(e,n){var t=e.indexedDB,r=e.IDBKeyRange;!Ea(t)&&n!==vr&&Pa(t,r).delete(n).catch(re)}function na(e){return ln(function(){return j.letThrough=!0,e()})}function $f(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var n;return new Promise(function(t){var r=function(){return indexedDB.databases().finally(t)};n=setInterval(r,100),r()}).finally(function(){return clearInterval(n)})}function Df(e){var n=e._state,t=e._deps.indexedDB;if(n.isBeingOpened||e.idbdb)return n.dbReadyPromise.then(function(){return n.dbOpenError?he(n.dbOpenError):e});je&&(n.openCanceller._stackHolder=En()),n.isBeingOpened=!0,n.dbOpenError=null,n.openComplete=!1;var r=n.openCanceller;function a(){if(n.openCanceller!==r)throw new U.DatabaseClosed("db.open() was cancelled")}var o=n.dbReadyResolve,i=null,l=!1;return B.race([r,(typeof navigator=="undefined"?B.resolve():$f()).then(function(){return new B(function(u,s){if(a(),!t)throw new U.MissingAPI;var c=e.name,d=n.autoSchema?t.open(c):t.open(c,Math.round(e.verno*10));if(!d)throw new U.MissingAPI;d.onerror=Ke(s),d.onblocked=ce(e._fireOnBlocked),d.onupgradeneeded=ce(function(f){if(i=d.transaction,n.autoSchema&&!e._options.allowEmptyDB){d.onerror=Jn,i.abort(),d.result.close();var p=t.deleteDatabase(c);p.onsuccess=p.onerror=ce(function(){s(new U.NoSuchDatabase("Database "+c+" doesnt exist"))})}else{i.onerror=Ke(s);var v=f.oldVersion>Math.pow(2,62)?0:f.oldVersion;l=v<1,e._novip.idbdb=d.result,mf(e,v/10,i,s)}},s),d.onsuccess=ce(function(){i=null;var f=e._novip.idbdb=d.result,p=cr(f.objectStoreNames);if(p.length>0)try{var v=f.transaction(sf(p),"readonly");n.autoSchema?wf(e,f,v):(ea(e,e._dbSchema,v),Cf(e,v)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Ca(e,v)}catch{}Un.push(e),f.onversionchange=ce(function(h){n.vcFired=!0,e.on("versionchange").fire(h)}),f.onclose=ce(function(h){e.on("close").fire(h)}),l&&kf(e._deps,c),u()},s)})})]).then(function(){return a(),n.onReadyBeingFired=[],B.resolve(na(function(){return e.on.ready.fire(e.vip)})).then(function u(){if(n.onReadyBeingFired.length>0){var s=n.onReadyBeingFired.reduce(ma,re);return n.onReadyBeingFired=[],B.resolve(na(function(){return s(e.vip)})).then(u)}})}).finally(function(){n.onReadyBeingFired=null,n.isBeingOpened=!1}).then(function(){return e}).catch(function(u){n.dbOpenError=u;try{i&&i.abort()}catch{}return r===n.openCanceller&&e._close(),he(u)}).finally(function(){n.openComplete=!0,o()})}function ta(e){var n=function(i){return e.next(i)},t=function(i){return e.throw(i)},r=o(n),a=o(t);function o(i){return function(l){var u=i(l),s=u.value;return u.done?s:!s||typeof s.then!="function"?Ce(s)?Promise.all(s).then(r,a):r(s):s.then(r,a)}}return o(n)()}function If(e,n,t){var r=arguments.length;if(r<2)throw new U.InvalidArgument("Too few arguments");for(var a=new Array(r-1);--r;)a[r-1]=arguments[r];t=a.pop();var o=zi(a);return[e,o,t]}function fl(e,n,t,r,a){return B.resolve().then(function(){var o=j.transless||j,i=e._createTransaction(n,t,e._dbSchema,r),l={trans:i,transless:o};if(r)i.idbtrans=r.idbtrans;else try{i.create(),e._state.PR1398_maxLoop=3}catch(d){return d.name===ha.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return fl(e,n,t,null,a)})):he(d)}var u=va(a);u&&Vn();var s,c=B.follow(function(){if(s=a.call(i,i),s)if(u){var d=qe.bind(null,null);s.then(d,d)}else typeof s.next=="function"&&typeof s.throw=="function"&&(s=ta(s))},l);return(s&&typeof s.then=="function"?B.resolve(s).then(function(d){return i.active?d:he(new U.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):c.then(function(){return s})).then(function(d){return r&&i._resolve(),i._completion.then(function(){return d})}).catch(function(d){return i._reject(d),he(d)})})}function wt(e,n,t){for(var r=Ce(e)?e.slice():[e],a=0;a<t;++a)r.push(n);return r}function _f(e){return ne(ne({},e),{table:function(n){var t=e.table(n),r=t.schema,a={},o=[];function i(h,y,C){var O=Wn(h),S=a[O]=a[O]||[],w=h==null?0:typeof h=="string"?1:h.length,b=y>0,m=ne(ne({},C),{isVirtual:b,keyTail:y,keyLength:w,extractKey:Qr(h),unique:!b&&C.unique});if(S.push(m),m.isPrimaryKey||o.push(m),w>1){var E=w===2?h[0]:h.slice(0,w-1);i(E,y+1,C)}return S.sort(function(k,I){return k.keyTail-I.keyTail}),m}var l=i(r.primaryKey.keyPath,0,r.primaryKey);a[":id"]=[l];for(var u=0,s=r.indexes;u<s.length;u++){var c=s[u];i(c.keyPath,0,c)}function d(h){var y=a[Wn(h)];return y&&y[0]}function f(h,y){return{type:h.type===1?2:h.type,lower:wt(h.lower,h.lowerOpen?e.MAX_KEY:e.MIN_KEY,y),lowerOpen:!0,upper:wt(h.upper,h.upperOpen?e.MIN_KEY:e.MAX_KEY,y),upperOpen:!0}}function p(h){var y=h.query.index;return y.isVirtual?ne(ne({},h),{query:{index:y,range:f(h.query.range,y.keyTail)}}):h}var v=ne(ne({},t),{schema:ne(ne({},r),{primaryKey:l,indexes:o,getIndexByKeyPath:d}),count:function(h){return t.count(p(h))},query:function(h){return t.query(p(h))},openCursor:function(h){var y=h.query.index,C=y.keyTail,O=y.isVirtual,S=y.keyLength;if(!O)return t.openCursor(h);function w(b){function m(k){k!=null?b.continue(wt(k,h.reverse?e.MAX_KEY:e.MIN_KEY,C)):h.unique?b.continue(b.key.slice(0,S).concat(h.reverse?e.MIN_KEY:e.MAX_KEY,C)):b.continue()}var E=Object.create(b,{continue:{value:m},continuePrimaryKey:{value:function(k,I){b.continuePrimaryKey(wt(k,e.MAX_KEY,C),I)}},primaryKey:{get:function(){return b.primaryKey}},key:{get:function(){var k=b.key;return S===1?k[0]:k.slice(0,S)}},value:{get:function(){return b.value}}});return E}return t.openCursor(p(h)).then(function(b){return b&&w(b)})}});return v}})}var Af={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:_f};function ka(e,n,t,r){return t=t||{},r=r||"",pe(e).forEach(function(a){if(!Ie(n,a))t[r+a]=void 0;else{var o=e[a],i=n[a];if(typeof o=="object"&&typeof i=="object"&&o&&i){var l=Vr(o),u=Vr(i);l!==u?t[r+a]=n[a]:l==="Object"?ka(o,i,t,r+a+"."):o!==i&&(t[r+a]=n[a])}else o!==i&&(t[r+a]=n[a])}}),pe(n).forEach(function(a){Ie(e,a)||(t[r+a]=n[a])}),t}function Bf(e,n){return n.type==="delete"?n.keys:n.keys||n.values.map(e.extractKey)}var Rf={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return ne(ne({},e),{table:function(n){var t=e.table(n),r=t.schema.primaryKey,a=ne(ne({},t),{mutate:function(o){var i=j.trans,l=i.table(n).hook,u=l.deleting,s=l.creating,c=l.updating;switch(o.type){case"add":if(s.fire===re)break;return i._promise("readwrite",function(){return d(o)},!0);case"put":if(s.fire===re&&c.fire===re)break;return i._promise("readwrite",function(){return d(o)},!0);case"delete":if(u.fire===re)break;return i._promise("readwrite",function(){return d(o)},!0);case"deleteRange":if(u.fire===re)break;return i._promise("readwrite",function(){return f(o)},!0)}return t.mutate(o);function d(v){var h=j.trans,y=v.keys||Bf(r,v);if(!y)throw new Error("Keys missing");return v=v.type==="add"||v.type==="put"?ne(ne({},v),{keys:y}):ne({},v),v.type!=="delete"&&(v.values=Fr([],v.values,!0)),v.keys&&(v.keys=Fr([],v.keys,!0)),Ff(t,v,y).then(function(C){var O=y.map(function(S,w){var b=C[w],m={onerror:null,onsuccess:null};if(v.type==="delete")u.fire.call(m,S,b,h);else if(v.type==="add"||b===void 0){var E=s.fire.call(m,S,v.values[w],h);S==null&&E!=null&&(S=E,v.keys[w]=S,r.outbound||Me(v.values[w],r.keyPath,S))}else{var k=ka(b,v.values[w]),I=c.fire.call(m,k,S,b,h);if(I){var P=v.values[w];Object.keys(I).forEach(function($){Ie(P,$)?P[$]=I[$]:Me(P,$,I[$])})}}return m});return t.mutate(v).then(function(S){for(var w=S.failures,b=S.results,m=S.numFailures,E=S.lastResult,k=0;k<y.length;++k){var I=b?b[k]:y[k],P=O[k];I==null?P.onerror&&P.onerror(w[k]):P.onsuccess&&P.onsuccess(v.type==="put"&&C[k]?v.values[k]:I)}return{failures:w,results:b,numFailures:m,lastResult:E}}).catch(function(S){return O.forEach(function(w){return w.onerror&&w.onerror(S)}),Promise.reject(S)})})}function f(v){return p(v.trans,v.range,1e4)}function p(v,h,y){return t.query({trans:v,values:!1,query:{index:r,range:h},limit:y}).then(function(C){var O=C.result;return d({type:"delete",keys:O,trans:v}).then(function(S){return S.numFailures>0?Promise.reject(S.failures[0]):O.length<y?{failures:[],numFailures:0,lastResult:void 0}:p(v,ne(ne({},h),{lower:O[O.length-1],lowerOpen:!0}),y)})})}}});return a}})}};function Ff(e,n,t){return n.type==="add"?Promise.resolve([]):e.getMany({trans:n.trans,keys:t,cache:"immutable"})}function dl(e,n,t){try{if(!n||n.keys.length<e.length)return null;for(var r=[],a=0,o=0;a<n.keys.length&&o<e.length;++a)Pe(n.keys[a],e[o])===0&&(r.push(t?it(n.values[a]):n.values[a]),++o);return r.length===e.length?r:null}catch{return null}}var Mf={stack:"dbcore",level:-1,create:function(e){return{table:function(n){var t=e.table(n);return ne(ne({},t),{getMany:function(r){if(!r.cache)return t.getMany(r);var a=dl(r.keys,r.trans._cache,r.cache==="clone");return a?B.resolve(a):t.getMany(r).then(function(o){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?it(o):o},o})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),t.mutate(r)}})}}}},kr;function Ta(e){return!("from"in e)}var We=function(e,n){if(this)ke(this,arguments.length?{d:1,from:e,to:arguments.length>1?n:e}:{d:0});else{var t=new We;return e&&"d"in e&&ke(t,e),t}};Bn(We.prototype,(kr={add:function(e){return Zt(this,e),this},addKey:function(e){return xn(this,e,e),this},addKeys:function(e){var n=this;return e.forEach(function(t){return xn(n,t,t)}),this}},kr[Kr]=function(){return ra(this)},kr));function xn(e,n,t){var r=Pe(n,t);if(!isNaN(r)){if(r>0)throw RangeError();if(Ta(e))return ke(e,{from:n,to:t,d:1});var a=e.l,o=e.r;if(Pe(t,e.from)<0)return a?xn(a,n,t):e.l={from:n,to:t,d:1,l:null,r:null},to(e);if(Pe(n,e.to)>0)return o?xn(o,n,t):e.r={from:n,to:t,d:1,l:null,r:null},to(e);Pe(n,e.from)<0&&(e.from=n,e.l=null,e.d=o?o.d+1:1),Pe(t,e.to)>0&&(e.to=t,e.r=null,e.d=e.l?e.l.d+1:1);var i=!e.r;a&&!e.l&&Zt(e,a),o&&i&&Zt(e,o)}}function Zt(e,n){function t(r,a){var o=a.from,i=a.to,l=a.l,u=a.r;xn(r,o,i),l&&t(r,l),u&&t(r,u)}Ta(n)||t(e,n)}function Vf(e,n){var t=ra(n),r=t.next();if(r.done)return!1;for(var a=r.value,o=ra(e),i=o.next(a.from),l=i.value;!r.done&&!i.done;){if(Pe(l.from,a.to)<=0&&Pe(l.to,a.from)>=0)return!0;Pe(a.from,l.from)<0?a=(r=t.next(l.from)).value:l=(i=o.next(a.from)).value}return!1}function ra(e){var n=Ta(e)?null:{s:0,n:e};return{next:function(t){for(var r=arguments.length>0;n;)switch(n.s){case 0:if(n.s=1,r)for(;n.n.l&&Pe(t,n.n.from)<0;)n={up:n,n:n.n.l,s:1};else for(;n.n.l;)n={up:n,n:n.n.l,s:1};case 1:if(n.s=2,!r||Pe(t,n.n.to)<=0)return{value:n.n,done:!1};case 2:if(n.n.r){n.s=3,n={up:n,n:n.n.r,s:0};continue}case 3:n=n.up}return{done:!0}}}}function to(e){var n,t,r=(((n=e.r)===null||n===void 0?void 0:n.d)||0)-(((t=e.l)===null||t===void 0?void 0:t.d)||0),a=r>1?"r":r<-1?"l":"";if(a){var o=a==="r"?"l":"r",i=ne({},e),l=e[a];e.from=l.from,e.to=l.to,e[a]=l[a],i[a]=l[o],e[o]=i,i.d=ro(i)}e.d=ro(e)}function ro(e){var n=e.r,t=e.l;return(n?t?Math.max(n.d,t.d):n.d:t?t.d:0)+1}var Kf={stack:"dbcore",level:0,create:function(e){var n=e.schema.name,t=new We(e.MIN_KEY,e.MAX_KEY);return ne(ne({},e),{table:function(r){var a=e.table(r),o=a.schema,i=o.primaryKey,l=i.extractKey,u=i.outbound,s=ne(ne({},a),{mutate:function(f){var p=f.trans,v=p.mutatedParts||(p.mutatedParts={}),h=function(E){var k="idb://"+n+"/"+r+"/"+E;return v[k]||(v[k]=new We)},y=h(""),C=h(":dels"),O=f.type,S=f.type==="deleteRange"?[f.range]:f.type==="delete"?[f.keys]:f.values.length<50?[[],f.values]:[],w=S[0],b=S[1],m=f.trans._cache;return a.mutate(f).then(function(E){if(Ce(w)){O!=="delete"&&(w=E.results),y.addKeys(w);var k=dl(w,m);!k&&O!=="add"&&C.addKeys(w),(k||b)&&Lf(h,o,k,b)}else if(w){var I={from:w.lower,to:w.upper};C.add(I),y.add(I)}else y.add(t),C.add(t),o.indexes.forEach(function(P){return h(P.name).add(t)});return E})}}),c=function(f){var p,v,h=f.query,y=h.index,C=h.range;return[y,new We((p=C.lower)!==null&&p!==void 0?p:e.MIN_KEY,(v=C.upper)!==null&&v!==void 0?v:e.MAX_KEY)]},d={get:function(f){return[i,new We(f.key)]},getMany:function(f){return[i,new We().addKeys(f.keys)]},count:c,query:c,openCursor:c};return pe(d).forEach(function(f){s[f]=function(p){var v=j.subscr;if(v){var h=function(m){var E="idb://"+n+"/"+r+"/"+m;return v[E]||(v[E]=new We)},y=h(""),C=h(":dels"),O=d[f](p),S=O[0],w=O[1];if(h(S.name||"").add(w),!S.isPrimaryKey)if(f==="count")C.add(t);else{var b=f==="query"&&u&&p.values&&a.query(ne(ne({},p),{values:!1}));return a[f].apply(this,arguments).then(function(m){if(f==="query"){if(u&&p.values)return b.then(function(P){var $=P.result;return y.addKeys($),m});var E=p.values?m.result.map(l):m.result;p.values?y.addKeys(E):C.addKeys(E)}else if(f==="openCursor"){var k=m,I=p.values;return k&&Object.create(k,{key:{get:function(){return C.addKey(k.primaryKey),k.key}},primaryKey:{get:function(){var P=k.primaryKey;return C.addKey(P),P}},value:{get:function(){return I&&y.addKey(k.primaryKey),k.value}}})}return m})}}return a[f].apply(this,arguments)}}),s}})}};function Lf(e,n,t,r){function a(o){var i=e(o.name||"");function l(s){return s!=null?o.extractKey(s):null}var u=function(s){return o.multiEntry&&Ce(s)?s.forEach(function(c){return i.addKey(c)}):i.addKey(s)};(t||r).forEach(function(s,c){var d=t&&l(t[c]),f=r&&l(r[c]);Pe(d,f)!==0&&(d!=null&&u(d),f!=null&&u(f))})}n.indexes.forEach(a)}var $a=function(){function e(n,t){var r=this;this._middlewares={},this.verno=0;var a=e.dependencies;this._options=t=ne({addons:e.addons,autoOpen:!0,indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange},t),this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};var o=t.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:re,dbReadyPromise:null,cancelOpen:re,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};i.dbReadyPromise=new B(function(l){i.dbReadyResolve=l}),i.openCanceller=new B(function(l,u){i.cancelOpen=u}),this._state=i,this.name=n,this.on=ct(this,"populate","blocked","versionchange","close",{ready:[ma,re]}),this.on.ready.subscribe=Ki(this.on.ready.subscribe,function(l){return function(u,s){e.vip(function(){var c=r._state;if(c.openComplete)c.dbOpenError||B.resolve().then(u),s&&l(u);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(u),s&&l(u);else{l(u);var d=r;s||l(function f(){d.on.ready.unsubscribe(u),d.on.ready.unsubscribe(f)})}})}}),this.Collection=xc(this),this.Table=Gc(this),this.Transaction=uf(this),this.Version=Pf(this),this.WhereClause=of(this),this.on("versionchange",function(l){l.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(l){!l.newVersion||l.newVersion<l.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+l.oldVersion/10)}),this._maxKey=Zn(t.IDBKeyRange),this._createTransaction=function(l,u,s,c){return new r.Transaction(l,u,s,r._options.chromeTransactionDurability,c)},this._fireOnBlocked=function(l){r.on("blocked").fire(l),Un.filter(function(u){return u.name===r.name&&u!==r&&!u._state.vcFired}).map(function(u){return u.on("versionchange").fire(l)})},this.use(Af),this.use(Rf),this.use(Kf),this.use(Mf),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach(function(l){return l(r)})}return e.prototype.version=function(n){if(isNaN(n)||n<.1)throw new U.Type("Given version is not a positive number");if(n=Math.round(n*10)/10,this.idbdb||this._state.isBeingOpened)throw new U.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,n);var t=this._versions,r=t.filter(function(a){return a._cfg.version===n})[0];return r||(r=new this.Version(n),t.push(r),t.sort(hf),r.stores({}),this._state.autoSchema=!1,r)},e.prototype._whenReady=function(n){var t=this;return this.idbdb&&(this._state.openComplete||j.letThrough||this._vip)?n():new B(function(r,a){if(t._state.openComplete)return a(new U.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen){a(new U.DatabaseClosed);return}t.open().catch(re)}t._state.dbReadyPromise.then(r,a)}).then(n)},e.prototype.use=function(n){var t=n.stack,r=n.create,a=n.level,o=n.name;o&&this.unuse({stack:t,name:o});var i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:r,level:a==null?10:a,name:o}),i.sort(function(l,u){return l.level-u.level}),this},e.prototype.unuse=function(n){var t=n.stack,r=n.name,a=n.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(o){return a?o.create!==a:r?o.name!==r:!1})),this},e.prototype.open=function(){return Df(this)},e.prototype._close=function(){var n=this._state,t=Un.indexOf(this);if(t>=0&&Un.splice(t,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}n.dbReadyPromise=new B(function(r){n.dbReadyResolve=r}),n.openCanceller=new B(function(r,a){n.cancelOpen=a})},e.prototype.close=function(){this._close();var n=this._state;this._options.autoOpen=!1,n.dbOpenError=new U.DatabaseClosed,n.isBeingOpened&&n.cancelOpen(n.dbOpenError)},e.prototype.delete=function(){var n=this,t=arguments.length>0,r=this._state;return new B(function(a,o){var i=function(){n.close();var l=n._deps.indexedDB.deleteDatabase(n.name);l.onsuccess=ce(function(){Tf(n._deps,n.name),a()}),l.onerror=Ke(o),l.onblocked=n._fireOnBlocked};if(t)throw new U.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(i):i()})},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return this.idbdb!==null},e.prototype.hasBeenClosed=function(){var n=this._state.dbOpenError;return n&&n.name==="DatabaseClosed"},e.prototype.hasFailed=function(){return this._state.dbOpenError!==null},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var n=this;return pe(this._allTables).map(function(t){return n._allTables[t]})},enumerable:!1,configurable:!0}),e.prototype.transaction=function(){var n=If.apply(this,arguments);return this._transaction.apply(this,n)},e.prototype._transaction=function(n,t,r){var a=this,o=j.trans;(!o||o.db!==this||n.indexOf("!")!==-1)&&(o=null);var i=n.indexOf("?")!==-1;n=n.replace("!","").replace("?","");var l,u;try{if(u=t.map(function(c){var d=c instanceof a.Table?c.name:c;if(typeof d!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return d}),n=="r"||n===Cr)l=Cr;else if(n=="rw"||n==Or)l=Or;else throw new U.InvalidArgument("Invalid transaction mode: "+n);if(o){if(o.mode===Cr&&l===Or)if(i)o=null;else throw new U.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o&&u.forEach(function(c){if(o&&o.storeNames.indexOf(c)===-1)if(i)o=null;else throw new U.SubTransaction("Table "+c+" not included in parent transaction.")}),i&&o&&!o.active&&(o=null)}}catch(c){return o?o._promise(null,function(d,f){f(c)}):he(c)}var s=fl.bind(null,this,l,u,o,r);return o?o._promise(l,s,"lock"):j.trans?Kn(j.transless,function(){return a._whenReady(s)}):this._whenReady(s)},e.prototype.table=function(n){if(!Ie(this._allTables,n))throw new U.InvalidTable("Table "+n+" does not exist");return this._allTables[n]},e}(),Nf=typeof Symbol!="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",jf=function(){function e(n){this._subscribe=n}return e.prototype.subscribe=function(n,t,r){return this._subscribe(!n||typeof n=="function"?{next:n,error:t,complete:r}:n)},e.prototype[Nf]=function(){return this},e}();function vl(e,n){return pe(n).forEach(function(t){var r=e[t]||(e[t]=new We);Zt(r,n[t])}),e}function zf(e){return new jf(function(n){var t=va(e);function r(p){t&&Vn();var v=function(){return ln(e,{subscr:p,trans:null})},h=j.trans?Kn(j.transless,v):v();return t&&h.then(qe,qe),h}var a=!1,o={},i={},l={get closed(){return a},unsubscribe:function(){a=!0,sn.storagemutated.unsubscribe(d)}};n.start&&n.start(l);var u=!1,s=!1;function c(){return pe(i).some(function(p){return o[p]&&Vf(o[p],i[p])})}var d=function(p){vl(o,p),c()&&f()},f=function(){if(!(u||a)){o={};var p={},v=r(p);s||(sn(Qn,d),s=!0),u=!0,Promise.resolve(v).then(function(h){u=!1,!a&&(c()?f():(o={},i=p,n.next&&n.next(h)))},function(h){u=!1,n.error&&n.error(h),l.unsubscribe()})}};return f(),l})}var aa;try{aa={indexedDB:se.indexedDB||se.mozIndexedDB||se.webkitIndexedDB||se.msIndexedDB,IDBKeyRange:se.IDBKeyRange||se.webkitIDBKeyRange}}catch{aa={indexedDB:null,IDBKeyRange:null}}var fn=$a;Bn(fn,ne(ne({},fr),{delete:function(e){var n=new fn(e,{addons:[]});return n.delete()},exists:function(e){return new fn(e,{addons:[]}).open().then(function(n){return n.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return Ef(fn.dependencies).then(e)}catch{return he(new U.MissingAPI)}},defineClass:function(){function e(n){ke(this,n)}return e},ignoreTransaction:function(e){return j.trans?Kn(j.transless,e):e()},vip:na,async:function(e){return function(){try{var n=ta(e.apply(this,arguments));return!n||typeof n.then!="function"?B.resolve(n):n}catch(t){return he(t)}}},spawn:function(e,n,t){try{var r=ta(e.apply(t,n||[]));return!r||typeof r.then!="function"?B.resolve(r):r}catch(a){return he(a)}},currentTransaction:{get:function(){return j.trans||null}},waitFor:function(e,n){var t=B.resolve(typeof e=="function"?fn.ignoreTransaction(e):e).timeout(n||6e4);return j.trans?j.trans.waitFor(t):t},Promise:B,debug:{get:function(){return je},set:function(e){Wi(e,e==="dexie"?function(){return!0}:al)}},derive:Fn,extend:ke,props:Bn,override:Ki,Events:ct,on:sn,liveQuery:zf,extendObservabilitySet:vl,getByKeyPath:Xe,setByKeyPath:Me,delByKeyPath:bc,shallowClone:ji,deepClone:it,getObjectDiff:ka,cmp:Pe,asap:Li,minKey:qr,addons:[],connections:Un,errnames:ha,dependencies:aa,semVer:Ja,version:Ja.split(".").map(function(e){return parseInt(e)}).reduce(function(e,n,t){return e+n/Math.pow(10,t*2)})}));fn.maxKey=Zn(fn.dependencies.IDBKeyRange);typeof dispatchEvent!="undefined"&&typeof addEventListener!="undefined"&&(sn(Qn,function(e){if(!He){var n;dr?(n=document.createEvent("CustomEvent"),n.initCustomEvent(nn,!0,!0,e)):n=new CustomEvent(nn,{detail:e}),He=!0,dispatchEvent(n),He=!1}}),addEventListener(nn,function(e){var n=e.detail;He||xt(n)}));function xt(e){var n=He;try{He=!0,sn.storagemutated.fire(e)}finally{He=n}}var He=!1;if(typeof BroadcastChannel!="undefined"){var ao=new BroadcastChannel(nn);sn(Qn,function(e){He||ao.postMessage(e)}),ao.onmessage=function(e){e.data&&xt(e.data)}}else if(typeof self!="undefined"&&typeof navigator!="undefined"){sn(Qn,function(e){try{He||(typeof localStorage!="undefined"&&localStorage.setItem(nn,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&Fr([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(n){return n.postMessage({type:nn,changedParts:e})}))}catch{}}),typeof addEventListener!="undefined"&&addEventListener("storage",function(e){if(e.key===nn){var n=JSON.parse(e.newValue);n&&xt(n.changedParts)}});var oo=self.document&&navigator.serviceWorker;oo&&oo.addEventListener("message",Uf)}function Uf(e){var n=e.data;n&&n.type===nn&&xt(n.changedParts)}B.rejectionMapper=$c;Wi(je,al);class Wf extends $a{constructor(){super("TXTReaderDatabase");Aa(this,"txtList");this.version(1).stores({txtList:"++id"})}}var Ph=new Wf;const Eh={color:"#111",background:"fff",fontSize:16,lineHight:1.5,paragraphSpacing:12,model:"scroll"};var io;const Ne=typeof window!="undefined",pl=e=>typeof e=="string",er=()=>+Date.now(),lo=(e,n,t)=>Math.min(t,Math.max(n,e)),Le=()=>{},uo=Ne&&((io=window==null?void 0:window.navigator)==null?void 0:io.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function pr(e,n){function t(...r){e(()=>n.apply(this,r),{fn:n,thisArg:this,args:r})}return t}const Da=e=>e();function Yf(e,n={}){let t,r;return o=>{const i=x(e),l=x(n.maxWait);if(t&&clearTimeout(t),i<=0||l!==void 0&&l<=0)return r&&(clearTimeout(r),r=null),o();l&&!r&&(r=setTimeout(()=>{t&&clearTimeout(t),r=null,o()},l)),t=setTimeout(()=>{r&&clearTimeout(r),r=null,o()},i)}}function Hf(e,n=!0,t=!0){let r=0,a,o=!0;const i=()=>{a&&(clearTimeout(a),a=void 0)};return u=>{const s=x(e),c=Date.now()-r;if(i(),s<=0)return r=Date.now(),u();c>s&&(t||!o)?(r=Date.now(),u()):n&&(a=setTimeout(()=>{r=Date.now(),o=!0,i(),u()},s)),!t&&!a&&(a=setTimeout(()=>o=!0,s)),o=!1}}function Xf(e=Da){const n=g(!0);function t(){n.value=!1}function r(){n.value=!0}return{isActive:n,pause:t,resume:r,eventFilter:(...o)=>{n.value&&e(...o)}}}function Gf(e,n=!1,t="Timeout"){return new Promise((r,a)=>{setTimeout(n?()=>a(t):r,e)})}function qf(e){let n;function t(){return n||(n=e()),n}return t.reset=async()=>{const r=n;n=void 0,r&&await r},t}function Jf(e,n,t=!1){return n.reduce((r,a)=>(a in e&&(!t||e[a]!==void 0)&&(r[a]=e[a]),r),{})}function Be(e){return zl()?(Ul(e),!0):!1}function Qf(e,n=200,t={}){return pr(Yf(n,t),e)}function so(e,n,t={}){const{flush:r="sync",deep:a=!1,immediate:o=!0,direction:i="both"}=t;let l,u;return(i==="both"||i==="ltr")&&(l=q(e,s=>n.value=s,{flush:r,deep:a,immediate:o})),(i==="both"||i==="rtl")&&(u=q(n,s=>e.value=s,{flush:r,deep:a,immediate:o})),()=>{l==null||l(),u==null||u()}}var Zf=Object.defineProperty,xf=Object.defineProperties,ed=Object.getOwnPropertyDescriptors,co=Object.getOwnPropertySymbols,nd=Object.prototype.hasOwnProperty,td=Object.prototype.propertyIsEnumerable,fo=(e,n,t)=>n in e?Zf(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,rd=(e,n)=>{for(var t in n||(n={}))nd.call(n,t)&&fo(e,t,n[t]);if(co)for(var t of co(n))td.call(n,t)&&fo(e,t,n[t]);return e},ad=(e,n)=>xf(e,ed(n));function hl(e){if(!Hn(e))return fi(e);const n=Array.isArray(e.value)?new Array(e.value.length):{};for(const t in e.value)n[t]=jl(()=>({get(){return e.value[t]},set(r){if(Array.isArray(e.value)){const a=[...e.value];a[t]=r,e.value=a}else{const a=ad(rd({},e.value),{[t]:r});Object.setPrototypeOf(a,e.value),e.value=a}}}));return n}function ml(e,n=!0){cn()?ui(e):n?e():De(e)}function Rn(e,n=!0){cn()?Pn(e):n?e():De(e)}function yl(e,n=1e3,t={}){const{immediate:r=!0,immediateCallback:a=!1}=t;let o=null;const i=g(!1);function l(){o&&(clearInterval(o),o=null)}function u(){i.value=!1,l()}function s(){x(n)<=0||(i.value=!0,a&&e(),l(),o=setInterval(e,x(n)))}if(r&&Ne&&s(),Hn(n)){const c=q(n,()=>{i.value&&Ne&&s()});Be(c)}return Be(u),{isActive:i,pause:u,resume:s}}function od(e=!1,n={}){const{truthyValue:t=!0,falsyValue:r=!1}=n,a=Hn(e),o=g(e);function i(l){return arguments.length?(o.value=l,o.value):(o.value=o.value===x(t)?x(r):x(t),o.value)}return a?i:[o,i]}var vo=Object.getOwnPropertySymbols,id=Object.prototype.hasOwnProperty,ld=Object.prototype.propertyIsEnumerable,ud=(e,n)=>{var t={};for(var r in e)id.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&vo)for(var r of vo(e))n.indexOf(r)<0&&ld.call(e,r)&&(t[r]=e[r]);return t};function sd(e,n,t={}){const r=t,{eventFilter:a=Da}=r,o=ud(r,["eventFilter"]);return q(e,pr(a,n),o)}var cd=Object.defineProperty,fd=Object.defineProperties,dd=Object.getOwnPropertyDescriptors,nr=Object.getOwnPropertySymbols,gl=Object.prototype.hasOwnProperty,bl=Object.prototype.propertyIsEnumerable,po=(e,n,t)=>n in e?cd(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,vd=(e,n)=>{for(var t in n||(n={}))gl.call(n,t)&&po(e,t,n[t]);if(nr)for(var t of nr(n))bl.call(n,t)&&po(e,t,n[t]);return e},pd=(e,n)=>fd(e,dd(n)),hd=(e,n)=>{var t={};for(var r in e)gl.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&nr)for(var r of nr(e))n.indexOf(r)<0&&bl.call(e,r)&&(t[r]=e[r]);return t};function wl(e,n,t={}){const r=t,{eventFilter:a}=r,o=hd(r,["eventFilter"]),{eventFilter:i,pause:l,resume:u,isActive:s}=Xf(a);return{stop:sd(e,n,pd(vd({},o),{eventFilter:i})),pause:l,resume:u,isActive:s}}function Ae(e){var n;const t=x(e);return(n=t==null?void 0:t.$el)!=null?n:t}const ie=Ne?window:void 0,Cl=Ne?window.document:void 0,hr=Ne?window.navigator:void 0;function N(...e){let n,t,r,a;if(pl(e[0])?([t,r,a]=e,n=ie):[n,t,r,a]=e,!n)return Le;let o=Le;const i=q(()=>Ae(n),u=>{o(),u&&(u.addEventListener(t,r,a),o=()=>{u.removeEventListener(t,r,a),o=Le})},{immediate:!0,flush:"post"}),l=()=>{i(),o()};return Be(l),l}function md(e,n,t={}){const{window:r=ie,ignore:a,capture:o=!0,detectIframe:i=!1}=t;if(!r)return;const l=g(!0);let u;const s=f=>{r.clearTimeout(u);const p=Ae(e),v=f.composedPath();!p||p===f.target||v.includes(p)||!l.value||a&&a.length>0&&a.some(h=>{const y=Ae(h);return y&&(f.target===y||v.includes(y))})||n(f)},c=[N(r,"click",s,{passive:!0,capture:o}),N(r,"pointerdown",f=>{const p=Ae(e);l.value=!!p&&!f.composedPath().includes(p)},{passive:!0}),N(r,"pointerup",f=>{if(f.button===0){const p=f.composedPath();f.composedPath=()=>p,u=r.setTimeout(()=>s(f),50)}},{passive:!0}),i&&N(r,"blur",f=>{var p;const v=Ae(e);((p=document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(v!=null&&v.contains(document.activeElement))&&n(f)})].filter(Boolean);return()=>c.forEach(f=>f())}function yd(e={}){const{window:n=ie}=e,t=g(0);return n&&(N(n,"blur",()=>t.value+=1,!0),N(n,"focus",()=>t.value+=1,!0)),G(()=>(t.value,n==null?void 0:n.document.activeElement))}function gd({navigator:e=hr}={}){const n=["chargingchange","chargingtimechange","dischargingtimechange","levelchange"],t=e&&"getBattery"in e,r=g(!1),a=g(0),o=g(0),i=g(1);let l;function u(){r.value=this.charging,a.value=this.chargingTime||0,o.value=this.dischargingTime||0,i.value=this.level}return t&&e.getBattery().then(s=>{l=s,u.call(l);for(const c of n)N(l,c,u,{passive:!0})}),{isSupported:t,charging:r,chargingTime:a,dischargingTime:o,level:i}}function et(e,n={}){const{window:t=ie}=n,r=Boolean(t&&"matchMedia"in t&&typeof t.matchMedia=="function");let a;const o=g(!1),i=()=>{!r||(a||(a=t.matchMedia(e)),o.value=a.matches)};return ml(()=>{i(),a&&("addEventListener"in a?a.addEventListener("change",i):a.addListener(i),Be(()=>{"removeEventListener"in a?a.removeEventListener("change",i):a.removeListener(i)}))}),o}function bd({window:e=ie}={}){const n=r=>{const{state:a,length:o}=(e==null?void 0:e.history)||{},{hash:i,host:l,hostname:u,href:s,origin:c,pathname:d,port:f,protocol:p,search:v}=(e==null?void 0:e.location)||{};return{trigger:r,state:a,length:o,hash:i,host:l,hostname:u,href:s,origin:c,pathname:d,port:f,protocol:p,search:v}},t=g(n("load"));return e&&(N(e,"popstate",()=>t.value=n("popstate"),{passive:!0}),N(e,"hashchange",()=>t.value=n("hashchange"),{passive:!0})),t}function ho(e,n,t){const r=g(e);return G({get(){return r.value=lo(r.value,x(n),x(t))},set(a){r.value=lo(a,x(n),x(t))}})}const oa=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ia="__vueuse_ssr_handlers__";oa[ia]=oa[ia]||{};const wd=oa[ia];function Ol(e,n){return wd[e]||n}function Cd(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"||Array.isArray(e)?"object":Number.isNaN(e)?"any":"number"}const Od={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function Sl(e,n,t,r={}){var a;const{flush:o="pre",deep:i=!0,listenToStorageChanges:l=!0,writeDefaults:u=!0,shallow:s,window:c=ie,eventFilter:d,onError:f=m=>{console.error(m)}}=r,p=(s?rr:g)(n);if(!t)try{t=Ol("getDefaultStorage",()=>{var m;return(m=ie)==null?void 0:m.localStorage})()}catch(m){f(m)}if(!t)return p;const v=x(n),h=Cd(v),y=(a=r.serializer)!=null?a:Od[h],{pause:C,resume:O}=wl(p,()=>S(p.value),{flush:o,deep:i,eventFilter:d});return c&&l&&N(c,"storage",b),b(),p;function S(m){try{m==null?t.removeItem(e):t.setItem(e,y.write(m))}catch(E){f(E)}}function w(m){if(!(m&&m.key!==e)){C();try{const E=m?m.newValue:t.getItem(e);return E==null?(u&&v!==null&&t.setItem(e,y.write(v)),v):typeof E!="string"?E:y.read(E)}catch(E){f(E)}finally{O()}}}function b(m){m&&m.key!==e||(p.value=w(m))}}function Ia(e){return et("(prefers-color-scheme: dark)",e)}var Sd=Object.defineProperty,mo=Object.getOwnPropertySymbols,Pd=Object.prototype.hasOwnProperty,Ed=Object.prototype.propertyIsEnumerable,yo=(e,n,t)=>n in e?Sd(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,kd=(e,n)=>{for(var t in n||(n={}))Pd.call(n,t)&&yo(e,t,n[t]);if(mo)for(var t of mo(n))Ed.call(n,t)&&yo(e,t,n[t]);return e};function Td(e={}){const{selector:n="html",attribute:t="class",window:r=ie,storage:a,storageKey:o="vueuse-color-scheme",listenToStorageChanges:i=!0,storageRef:l,emitAuto:u}=e,s=kd({auto:"",light:"light",dark:"dark"},e.modes||{}),c=Ia({window:r}),d=G(()=>c.value?"dark":"light"),f=l||(o==null?g("auto"):Sl(o,"auto",a,{window:r,listenToStorageChanges:i})),p=G({get(){return f.value==="auto"&&!u?d.value:f.value},set(C){f.value=C}}),v=Ol("updateHTMLAttrs",(C,O,S)=>{const w=r==null?void 0:r.document.querySelector(C);if(!!w)if(O==="class"){const b=S.split(/\s/g);Object.values(s).flatMap(m=>(m||"").split(/\s/g)).filter(Boolean).forEach(m=>{b.includes(m)?w.classList.add(m):w.classList.remove(m)})}else w.setAttribute(O,S)});function h(C){var O;const S=C==="auto"?d.value:C;v(n,t,(O=s[S])!=null?O:S)}function y(C){e.onChanged?e.onChanged(C,h):h(C)}return q(p,y,{flush:"post",immediate:!0}),Rn(()=>y(p.value)),p}var $d=Object.defineProperty,Dd=Object.defineProperties,Id=Object.getOwnPropertyDescriptors,go=Object.getOwnPropertySymbols,_d=Object.prototype.hasOwnProperty,Ad=Object.prototype.propertyIsEnumerable,bo=(e,n,t)=>n in e?$d(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Bd=(e,n)=>{for(var t in n||(n={}))_d.call(n,t)&&bo(e,t,n[t]);if(go)for(var t of go(n))Ad.call(n,t)&&bo(e,t,n[t]);return e},Rd=(e,n)=>Dd(e,Id(n));function Fd(e={}){const{valueDark:n="dark",valueLight:t="",window:r=ie}=e,a=Td(Rd(Bd({},e),{onChanged:(l,u)=>{var s;e.onChanged?(s=e.onChanged)==null||s.call(e,l==="dark"):u(l)},modes:{dark:n,light:t}})),o=Ia({window:r});return G({get(){return a.value==="dark"},set(l){l===o.value?a.value="auto":a.value=l?"dark":"light"}})}function Md(e={}){const{window:n=ie,eventFilter:t=Da}=e,r=g({x:null,y:null,z:null}),a=g({alpha:null,beta:null,gamma:null}),o=g(0),i=g({x:null,y:null,z:null});if(n){const l=pr(t,u=>{r.value=u.acceleration,i.value=u.accelerationIncludingGravity,a.value=u.rotationRate,o.value=u.interval});N(n,"devicemotion",l)}return{acceleration:r,accelerationIncludingGravity:i,rotationRate:a,interval:o}}function Vd(e={}){const{window:n=ie}=e,t=Boolean(n&&"DeviceOrientationEvent"in n),r=g(!1),a=g(null),o=g(null),i=g(null);return n&&t&&N(n,"deviceorientation",l=>{r.value=l.absolute,a.value=l.alpha,o.value=l.beta,i.value=l.gamma}),{isSupported:t,isAbsolute:r,alpha:a,beta:o,gamma:i}}const Kd=[1,1.325,1.4,1.5,1.8,2,2.4,2.5,2.75,3,3.5,4];function Ld({window:e=ie}={}){if(!e)return{pixelRatio:g(1)};const n=g(e.devicePixelRatio),t=()=>{n.value=e.devicePixelRatio};return N(e,"resize",t,{passive:!0}),Kd.forEach(r=>{const a=et(`screen and (min-resolution: ${r}dppx)`),o=et(`screen and (max-resolution: ${r}dppx)`);q([a,o],t)}),{pixelRatio:n}}function Nd(e,n={}){const{controls:t=!1,navigator:r=hr}=n,a=Boolean(r&&"permissions"in r);let o;const i=typeof e=="string"?{name:e}:e,l=g(),u=()=>{o&&(l.value=o.state)},s=qf(async()=>{if(!!a){if(!o)try{o=await r.permissions.query(i),N(o,"change",u),u()}catch{l.value="prompt"}return o}});return s(),t?{state:l,isSupported:a,query:s}:l}function jd(e={}){const{navigator:n=hr,requestPermissions:t=!1,constraints:r={audio:!0,video:!0},onUpdated:a}=e,o=g([]),i=G(()=>o.value.filter(p=>p.kind==="videoinput")),l=G(()=>o.value.filter(p=>p.kind==="audioinput")),u=G(()=>o.value.filter(p=>p.kind==="audiooutput"));let s=!1;const c=g(!1);async function d(){!s||(o.value=await n.mediaDevices.enumerateDevices(),a==null||a(o.value))}async function f(){if(!s)return!1;if(c.value)return!0;const{state:p,query:v}=Nd("camera",{controls:!0});return await v(),p.value!=="granted"&&((await n.mediaDevices.getUserMedia(r)).getTracks().forEach(y=>y.stop()),d()),c.value=!0,c.value}return n&&(s=Boolean(n.mediaDevices&&n.mediaDevices.enumerateDevices),s&&(t&&f(),N(n.mediaDevices,"devicechange",d),d())),{devices:o,ensurePermissions:f,permissionGranted:c,videoInputs:i,audioInputs:l,audioOutputs:u,isSupported:s}}function zd({document:e=Cl}={}){if(!e)return g("visible");const n=g(e.visibilityState);return N(e,"visibilitychange",()=>{n.value=e.visibilityState}),n}var Ud=Object.defineProperty,Wd=Object.defineProperties,Yd=Object.getOwnPropertyDescriptors,wo=Object.getOwnPropertySymbols,Hd=Object.prototype.hasOwnProperty,Xd=Object.prototype.propertyIsEnumerable,Co=(e,n,t)=>n in e?Ud(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Gd=(e,n)=>{for(var t in n||(n={}))Hd.call(n,t)&&Co(e,t,n[t]);if(wo)for(var t of wo(n))Xd.call(n,t)&&Co(e,t,n[t]);return e},qd=(e,n)=>Wd(e,Yd(n));function Jd(e,n={}){var t,r;const a=(t=n.draggingElement)!=null?t:ie,o=g((r=n.initialValue)!=null?r:{x:0,y:0}),i=g(),l=f=>n.pointerTypes?n.pointerTypes.includes(f.pointerType):!0,u=f=>{x(n.preventDefault)&&f.preventDefault(),x(n.stopPropagation)&&f.stopPropagation()},s=f=>{var p;if(!l(f)||x(n.exact)&&f.target!==x(e))return;const v=x(e).getBoundingClientRect(),h={x:f.pageX-v.left,y:f.pageY-v.top};((p=n.onStart)==null?void 0:p.call(n,h,f))!==!1&&(i.value=h,u(f))},c=f=>{var p;!l(f)||!i.value||(o.value={x:f.pageX-i.value.x,y:f.pageY-i.value.y},(p=n.onMove)==null||p.call(n,o.value,f),u(f))},d=f=>{var p;!l(f)||!i.value||(i.value=void 0,(p=n.onEnd)==null||p.call(n,o.value,f),u(f))};return Ne&&(N(e,"pointerdown",s,!0),N(a,"pointermove",c,!0),N(a,"pointerup",d,!0)),qd(Gd({},hl(o)),{position:o,isDragging:G(()=>!!i.value),style:G(()=>`left:${o.value.x}px;top:${o.value.y}px;`)})}var Oo=Object.getOwnPropertySymbols,Qd=Object.prototype.hasOwnProperty,Zd=Object.prototype.propertyIsEnumerable,xd=(e,n)=>{var t={};for(var r in e)Qd.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&Oo)for(var r of Oo(e))n.indexOf(r)<0&&Zd.call(e,r)&&(t[r]=e[r]);return t};function Pl(e,n,t={}){const r=t,{window:a=ie}=r,o=xd(r,["window"]);let i;const l=a&&"ResizeObserver"in a,u=()=>{i&&(i.disconnect(),i=void 0)},s=q(()=>Ae(e),d=>{u(),l&&a&&d&&(i=new ResizeObserver(n),i.observe(d,o))},{immediate:!0,flush:"post"}),c=()=>{u(),s()};return Be(c),{isSupported:l,stop:c}}function ev(e,n={}){const{reset:t=!0,windowResize:r=!0,windowScroll:a=!0,immediate:o=!0}=n,i=g(0),l=g(0),u=g(0),s=g(0),c=g(0),d=g(0),f=g(0),p=g(0);function v(){const h=Ae(e);if(!h){t&&(i.value=0,l.value=0,u.value=0,s.value=0,c.value=0,d.value=0,f.value=0,p.value=0);return}const y=h.getBoundingClientRect();i.value=y.height,l.value=y.bottom,u.value=y.left,s.value=y.right,c.value=y.top,d.value=y.width,f.value=y.x,p.value=y.y}return Pl(e,v),q(()=>Ae(e),h=>!h&&v()),a&&N("scroll",v,{passive:!0}),r&&N("resize",v,{passive:!0}),Rn(()=>{o&&v()}),{height:i,bottom:l,left:u,right:s,top:c,width:d,x:f,y:p,update:v}}function El(e,n={}){const{immediate:t=!0,window:r=ie}=n,a=g(!1);let o=null;function i(){!a.value||!r||(e(),o=r.requestAnimationFrame(i))}function l(){!a.value&&r&&(a.value=!0,i())}function u(){a.value=!1,o!=null&&r&&(r.cancelAnimationFrame(o),o=null)}return t&&l(),Be(u),{isActive:a,pause:u,resume:l}}function kl(e,n={width:0,height:0},t={}){const r=g(n.width),a=g(n.height);return Pl(e,([o])=>{r.value=o.contentRect.width,a.value=o.contentRect.height},t),q(()=>Ae(e),o=>{r.value=o?n.width:0,a.value=o?n.height:0}),{width:r,height:a}}function nv(e,{window:n=ie,scrollTarget:t}={}){const r=g(!1),a=()=>{if(!n)return;const o=n.document;if(!x(e))r.value=!1;else{const i=x(e).getBoundingClientRect();r.value=i.top<=(n.innerHeight||o.documentElement.clientHeight)&&i.left<=(n.innerWidth||o.documentElement.clientWidth)&&i.bottom>=0&&i.right>=0}};return Rn(a),n&&Rn(()=>N(x(t)||n,"scroll",a,{capture:!1,passive:!0})),r}function tv(e={}){const{initialValue:n=""}=e,t=Boolean(typeof window!="undefined"&&"EyeDropper"in window),r=g(n);async function a(o){if(!t)return;const l=await new window.EyeDropper().open(o);return r.value=l.sRGBHex,l}return{isSupported:t,sRGBHex:r,open:a}}const So=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];function rv(e,n={}){const{document:t=Cl,autoExit:r=!1}=n,a=e||(t==null?void 0:t.querySelector("html")),o=g(!1);let i=!1,l=So[0];if(!t)i=!1;else for(const h of So)if(h[1]in t){l=h,i=!0;break}const[u,s,c,,d]=l;async function f(){!i||(t!=null&&t[c]&&await t[s](),o.value=!1)}async function p(){if(!i)return;await f();const h=Ae(a);h&&(await h[u](),o.value=!0)}async function v(){o.value?await f():await p()}return t&&N(t,d,()=>{o.value=!!(t!=null&&t[c])},!1),r&&Be(f),{isSupported:i,isFullscreen:o,enter:p,exit:f,toggle:v}}function av(e={}){const{enableHighAccuracy:n=!0,maximumAge:t=3e4,timeout:r=27e3,navigator:a=hr}=e,o=a&&"geolocation"in a,i=g(null),l=g(null),u=g({accuracy:0,latitude:1/0,longitude:1/0,altitude:null,altitudeAccuracy:null,heading:null,speed:null});function s(d){i.value=d.timestamp,u.value=d.coords,l.value=null}let c;return o&&(c=a.geolocation.watchPosition(s,d=>l.value=d,{enableHighAccuracy:n,maximumAge:t,timeout:r})),Be(()=>{c&&a&&a.geolocation.clearWatch(c)}),{isSupported:o,coords:u,locatedAt:i,error:l}}const ov=["mousemove","mousedown","resize","keydown","touchstart","wheel"],iv=6e4;function lv(e=iv,n={}){const{initialState:t=!1,listenForVisibilityChange:r=!0,events:a=ov,window:o=ie,eventFilter:i=Hf(50)}=n,l=g(t),u=g(er());let s;const c=pr(i,()=>{l.value=!1,u.value=er(),clearTimeout(s),s=setTimeout(()=>l.value=!0,e)});if(o){const d=o.document;for(const f of a)N(o,f,c,{passive:!0});r&&N(d,"visibilitychange",()=>{d.hidden||c()})}return s=setTimeout(()=>l.value=!0,e),{idle:l,lastActive:u}}function Tl(e={}){const{type:n="page",touch:t=!0,resetOnTouchEnds:r=!1,initialValue:a={x:0,y:0},window:o=ie,eventFilter:i}=e,l=g(a.x),u=g(a.y),s=g(null),c=h=>{n==="page"?(l.value=h.pageX,u.value=h.pageY):n==="client"&&(l.value=h.clientX,u.value=h.clientY),s.value="mouse"},d=()=>{l.value=a.x,u.value=a.y},f=h=>{if(h.touches.length>0){const y=h.touches[0];n==="page"?(l.value=y.pageX,u.value=y.pageY):n==="client"&&(l.value=y.clientX,u.value=y.clientY),s.value="touch"}},p=h=>i===void 0?c(h):i(()=>c(h),{}),v=h=>i===void 0?f(h):i(()=>f(h),{});return o&&(N(o,"mousemove",p,{passive:!0}),N(o,"dragover",p,{passive:!0}),t&&(N(o,"touchstart",v,{passive:!0}),N(o,"touchmove",v,{passive:!0}),r&&N(o,"touchend",d,{passive:!0}))),{x:l,y:u,sourceType:s}}function uv(e,n={}){const{handleOutside:t=!0,window:r=ie}=n,{x:a,y:o,sourceType:i}=Tl(n),l=g(e!=null?e:r==null?void 0:r.document.body),u=g(0),s=g(0),c=g(0),d=g(0),f=g(0),p=g(0),v=g(!0);let h=()=>{};return r&&(h=q([l,a,o],()=>{const y=Ae(l);if(!y)return;const{left:C,top:O,width:S,height:w}=y.getBoundingClientRect();c.value=C+r.pageXOffset,d.value=O+r.pageYOffset,f.value=w,p.value=S;const b=a.value-c.value,m=o.value-d.value;v.value=S===0||w===0||b<0||m<0||b>S||m>w,(t||!v.value)&&(u.value=b,s.value=m)},{immediate:!0})),{x:a,y:o,sourceType:i,elementX:u,elementY:s,elementPositionX:c,elementPositionY:d,elementHeight:f,elementWidth:p,isOutside:v,stop:h}}function sv(e={}){const{touch:n=!0,drag:t=!0,initialValue:r=!1,window:a=ie}=e,o=g(r),i=g(null);if(!a)return{pressed:o,sourceType:i};const l=c=>()=>{o.value=!0,i.value=c},u=()=>{o.value=!1,i.value=null},s=G(()=>Ae(e.target)||a);return N(s,"mousedown",l("mouse"),{passive:!0}),N(a,"mouseleave",u,{passive:!0}),N(a,"mouseup",u,{passive:!0}),t&&(N(s,"dragstart",l("mouse"),{passive:!0}),N(a,"drop",u,{passive:!0}),N(a,"dragend",u,{passive:!0})),n&&(N(s,"touchstart",l("touch"),{passive:!0}),N(a,"touchend",u,{passive:!0}),N(a,"touchcancel",u,{passive:!0})),{pressed:o,sourceType:i}}function $l(e={}){const{window:n=ie}=e,t=n==null?void 0:n.navigator,r=Boolean(t&&"connection"in t),a=g(!0),o=g(!1),i=g(void 0),l=g(void 0),u=g(void 0),s=g(void 0),c=g(void 0),d=g(void 0),f=g("unknown"),p=r&&t.connection;function v(){!t||(a.value=t.onLine,i.value=a.value?void 0:Date.now(),l.value=a.value?Date.now():void 0,p&&(u.value=p.downlink,s.value=p.downlinkMax,d.value=p.effectiveType,c.value=p.rtt,o.value=p.saveData,f.value=p.type))}return n&&(N(n,"offline",()=>{a.value=!1,i.value=Date.now()}),N(n,"online",()=>{a.value=!0,l.value=Date.now()})),p&&N(p,"change",v,!1),v(),{isSupported:r,isOnline:a,saveData:o,offlineAt:i,onlineAt:l,downlink:u,downlinkMax:s,effectiveType:d,rtt:c,type:f}}var cv=Object.defineProperty,Po=Object.getOwnPropertySymbols,fv=Object.prototype.hasOwnProperty,dv=Object.prototype.propertyIsEnumerable,Eo=(e,n,t)=>n in e?cv(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,vv=(e,n)=>{for(var t in n||(n={}))fv.call(n,t)&&Eo(e,t,n[t]);if(Po)for(var t of Po(n))dv.call(n,t)&&Eo(e,t,n[t]);return e};function Dl(e={}){const{controls:n=!1,interval:t="requestAnimationFrame"}=e,r=g(new Date),a=()=>r.value=new Date,o=t==="requestAnimationFrame"?El(a,{immediate:!0}):yl(a,t,{immediate:!0});return n?vv({now:r},o):r}function pv(e){const n=g(),t=()=>{n.value&&URL.revokeObjectURL(n.value),n.value=void 0};return q(()=>x(e),r=>{t(),r&&(n.value=URL.createObjectURL(r))},{immediate:!0}),Be(t),Wl(n)}function hv(e){const{total:n=1/0,pageSize:t=10,page:r=1,onPageChange:a=Le,onPageSizeChange:o=Le,onPageCountChange:i=Le}=e,l=ho(t,1,1/0),u=G(()=>Math.ceil(x(n)/x(l))),s=ho(r,1,u),c=G(()=>s.value===1),d=G(()=>s.value===u.value);Hn(r)&&so(r,s),Hn(t)&&so(t,l);function f(){s.value--}function p(){s.value++}const v={currentPage:s,currentPageSize:l,pageCount:u,isFirstPage:c,isLastPage:d,prev:f,next:p};return q(s,()=>{a(W(v))}),q(l,()=>{o(W(v))}),q(u,()=>{i(W(v))}),v}function mv(e={}){const{isOnline:n}=$l(e);return n}function yv(e={}){const{window:n=ie}=e,t=g(!1),r=a=>{if(!n)return;a=a||n.event;const o=a.relatedTarget||a.toElement;t.value=!o};return n&&(N(n,"mouseout",r,{passive:!0}),N(n.document,"mouseleave",r,{passive:!0}),N(n.document,"mouseenter",r,{passive:!0})),t}var gv=Object.defineProperty,bv=Object.defineProperties,wv=Object.getOwnPropertyDescriptors,ko=Object.getOwnPropertySymbols,Cv=Object.prototype.hasOwnProperty,Ov=Object.prototype.propertyIsEnumerable,To=(e,n,t)=>n in e?gv(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Sv=(e,n)=>{for(var t in n||(n={}))Cv.call(n,t)&&To(e,t,n[t]);if(ko)for(var t of ko(n))Ov.call(n,t)&&To(e,t,n[t]);return e},Pv=(e,n)=>bv(e,wv(n));const Il={x:0,y:0,pointerId:0,pressure:0,tiltX:0,tiltY:0,width:0,height:0,twist:0,pointerType:null},Ev=Object.keys(Il);function kv(e={}){const{target:n=ie}=e,t=g(!1),r=g(e.initialValue||{});Object.assign(r.value,Il,r.value);const a=o=>{t.value=!0,!(e.pointerTypes&&!e.pointerTypes.includes(o.pointerType))&&(r.value=Jf(o,Ev,!1))};return n&&(N(n,"pointerdown",a,{passive:!0}),N(n,"pointermove",a,{passive:!0}),N(n,"pointerleave",()=>t.value=!1,{passive:!0})),Pv(Sv({},hl(r)),{isInside:t})}var $o;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})($o||($o={}));function Tv(e){const n=et("(prefers-color-scheme: light)",e),t=et("(prefers-color-scheme: dark)",e);return G(()=>t.value?"dark":n.value?"light":"no-preference")}function $v(e={}){const{window:n=ie}=e;if(!n)return g(["en"]);const t=n.navigator,r=g(t.languages);return N(n,"languagechange",()=>{r.value=t.languages}),r}var Dv=Object.defineProperty,tr=Object.getOwnPropertySymbols,_l=Object.prototype.hasOwnProperty,Al=Object.prototype.propertyIsEnumerable,Do=(e,n,t)=>n in e?Dv(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Iv=(e,n)=>{for(var t in n||(n={}))_l.call(n,t)&&Do(e,t,n[t]);if(tr)for(var t of tr(n))Al.call(n,t)&&Do(e,t,n[t]);return e},_v=(e,n)=>{var t={};for(var r in e)_l.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&tr)for(var r of tr(e))n.indexOf(r)<0&&Al.call(e,r)&&(t[r]=e[r]);return t};const Io=[{max:6e4,value:1e3,name:"second"},{max:276e4,value:6e4,name:"minute"},{max:72e6,value:36e5,name:"hour"},{max:5184e5,value:864e5,name:"day"},{max:24192e5,value:6048e5,name:"week"},{max:28512e6,value:2592e6,name:"month"},{max:1/0,value:31536e6,name:"year"}],Av={justNow:"just now",past:e=>e.match(/\d/)?`${e} ago`:e,future:e=>e.match(/\d/)?`in ${e}`:e,month:(e,n)=>e===1?n?"last month":"next month":`${e} month${e>1?"s":""}`,year:(e,n)=>e===1?n?"last year":"next year":`${e} year${e>1?"s":""}`,day:(e,n)=>e===1?n?"yesterday":"tomorrow":`${e} day${e>1?"s":""}`,week:(e,n)=>e===1?n?"last week":"next week":`${e} week${e>1?"s":""}`,hour:e=>`${e} hour${e>1?"s":""}`,minute:e=>`${e} minute${e>1?"s":""}`,second:e=>`${e} second${e>1?"s":""}`},Bv=e=>e.toISOString().slice(0,10);function Rv(e,n={}){const{controls:t=!1,max:r,updateInterval:a=3e4,messages:o=Av,fullDateFormatter:i=Bv}=n,{abs:l,round:u}=Math,s=Dl({interval:a,controls:!0}),{now:c}=s,d=_v(s,["now"]);function f(y,C){var O;const S=+C-+y,w=l(S);if(w<6e4)return o.justNow;if(typeof r=="number"&&w>r)return i(new Date(y));if(typeof r=="string"){const b=(O=Io.find(m=>m.name===r))==null?void 0:O.max;if(b&&w>b)return i(new Date(y))}for(const b of Io)if(w<b.max)return v(S,b)}function p(y,C,O){const S=o[y];return typeof S=="function"?S(C,O):S.replace("{0}",C.toString())}function v(y,C){const O=u(l(y)/C.value),S=y>0,w=p(C.name,O,S);return p(S?"past":"future",w,S)}const h=G(()=>f(new Date(x(e)),x(c.value)));return t?Iv({timeAgo:h},d):h}var Fv=Object.defineProperty,_o=Object.getOwnPropertySymbols,Mv=Object.prototype.hasOwnProperty,Vv=Object.prototype.propertyIsEnumerable,Ao=(e,n,t)=>n in e?Fv(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Kv=(e,n)=>{for(var t in n||(n={}))Mv.call(n,t)&&Ao(e,t,n[t]);if(_o)for(var t of _o(n))Vv.call(n,t)&&Ao(e,t,n[t]);return e};function Lv(e={}){const{controls:n=!1,offset:t=0,immediate:r=!0,interval:a="requestAnimationFrame"}=e,o=g(er()+t),i=()=>o.value=er()+t,l=a==="requestAnimationFrame"?El(i,{immediate:r}):yl(i,a,{immediate:r});return n?Kv({timestamp:o},l):o}function Nv(e,n){const t=g(),r=kl(t),a=g([]),o=rr(e),i=g({start:0,end:10}),{itemHeight:l,overscan:u=5}=n,s=O=>{if(typeof l=="number")return Math.ceil(O/l);const{start:S=0}=i.value;let w=0,b=0;for(let m=S;m<o.value.length;m++)if(w+=l(m),w>=O){b=m;break}return b-S},c=O=>{if(typeof l=="number")return Math.floor(O/l)+1;let S=0,w=0;for(let b=0;b<o.value.length;b++)if(S+=l(b),S>=O){w=b;break}return w+1},d=()=>{const O=t.value;if(O){const S=c(O.scrollTop),w=s(O.clientHeight),b=S-u,m=S+w+u;i.value={start:b<0?0:b,end:m>o.value.length?o.value.length:m},a.value=o.value.slice(i.value.start,i.value.end).map((E,k)=>({data:E,index:k+i.value.start}))}};q([r.width,r.height,e],()=>{d()});const f=G(()=>typeof l=="number"?o.value.length*l:o.value.reduce((O,S,w)=>O+l(w),0)),p=O=>typeof l=="number"?O*l:o.value.slice(0,O).reduce((w,b,m)=>w+l(m),0),v=O=>{t.value&&(t.value.scrollTop=p(O),d())},h=G(()=>p(i.value.start)),y=G(()=>({style:{width:"100%",height:`${f.value-h.value}px`,marginTop:`${h.value}px`}}));return{list:a,scrollTo:v,containerProps:{ref:t,onScroll:()=>{d()},style:{overflowY:"auto"}},wrapperProps:y}}function jv({window:e=ie}={}){if(!e)return g(!1);const n=g(e.document.hasFocus());return N(e,"blur",()=>{n.value=!1}),N(e,"focus",()=>{n.value=!0}),n}function zv(e={}){const{window:n=ie,initialWidth:t=1/0,initialHeight:r=1/0,listenOrientation:a=!0}=e,o=g(t),i=g(r),l=()=>{n&&(o.value=n.innerWidth,i.value=n.innerHeight)};return l(),Rn(l),N("resize",l,{passive:!0}),a&&N("orientationchange",l,{passive:!0}),{width:o,height:i}}M({name:"OnClickOutside",props:["as"],emits:["trigger"],setup(e,{slots:n,emit:t}){const r=g();return md(r,a=>{t("trigger",a)}),()=>{if(n.default)return Ee(e.as||"div",{ref:r},n.default())}}});function _a(e){var n;const t=x(e);return(n=t==null?void 0:t.$el)!=null?n:t}const Sn=Ne?window:void 0;function _n(...e){let n,t,r,a;if(pl(e[0])?([t,r,a]=e,n=Sn):[n,t,r,a]=e,!n)return Le;let o=Le;const i=q(()=>_a(n),u=>{o(),u&&(u.addEventListener(t,r,a),o=()=>{u.removeEventListener(t,r,a),o=Le})},{immediate:!0,flush:"post"}),l=()=>{i(),o()};return Be(l),l}const Uv=500;function Wv(e,n,t){var r,a;const o=G(()=>_a(e));let i=null;function l(){i!=null&&(clearTimeout(i),i=null)}function u(c){var d,f,p,v;((d=t==null?void 0:t.modifiers)==null?void 0:d.self)&&c.target!==o.value||(l(),(f=t==null?void 0:t.modifiers)!=null&&f.prevent&&c.preventDefault(),(p=t==null?void 0:t.modifiers)!=null&&p.stop&&c.stopPropagation(),i=setTimeout(()=>n(c),(v=t==null?void 0:t.delay)!=null?v:Uv))}const s={capture:(r=t==null?void 0:t.modifiers)==null?void 0:r.capture,once:(a=t==null?void 0:t.modifiers)==null?void 0:a.once};_n(o,"pointerdown",u,s),_n(o,"pointerup",l,s),_n(o,"pointerleave",l,s)}const kh=M({name:"OnLongPress",props:["as","options"],emits:["trigger"],setup(e,{slots:n,emit:t}){const r=g();return Wv(r,a=>{t("trigger",a)},e.options),()=>{if(n.default)return Ee(e.as||"div",{ref:r},n.default())}}});M({name:"UseActiveElement",setup(e,{slots:n}){const t=W({element:yd()});return()=>{if(n.default)return n.default(t)}}});M({name:"UseBattery",setup(e,{slots:n}){const t=W(gd(e));return()=>{if(n.default)return n.default(t)}}});M({name:"UseBrowserLocation",setup(e,{slots:n}){const t=W(bd());return()=>{if(n.default)return n.default(t)}}});const la=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ua="__vueuse_ssr_handlers__";la[ua]=la[ua]||{};const Yv=la[ua];function Bl(e,n){return Yv[e]||n}function Hv(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"||Array.isArray(e)?"object":Number.isNaN(e)?"any":"number"}const Xv={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function Gv(e,n,t,r={}){var a;const{flush:o="pre",deep:i=!0,listenToStorageChanges:l=!0,writeDefaults:u=!0,shallow:s,window:c=Sn,eventFilter:d,onError:f=m=>{console.error(m)}}=r,p=(s?rr:g)(n);if(!t)try{t=Bl("getDefaultStorage",()=>{var m;return(m=Sn)==null?void 0:m.localStorage})()}catch(m){f(m)}if(!t)return p;const v=x(n),h=Hv(v),y=(a=r.serializer)!=null?a:Xv[h],{pause:C,resume:O}=wl(p,()=>S(p.value),{flush:o,deep:i,eventFilter:d});return c&&l&&_n(c,"storage",b),b(),p;function S(m){try{m==null?t.removeItem(e):t.setItem(e,y.write(m))}catch(E){f(E)}}function w(m){if(!(m&&m.key!==e)){C();try{const E=m?m.newValue:t.getItem(e);return E==null?(u&&v!==null&&t.setItem(e,y.write(v)),v):typeof E!="string"?E:y.read(E)}catch(E){f(E)}finally{O()}}}function b(m){m&&m.key!==e||(p.value=w(m))}}function qv(e,n={}){const{window:t=Sn}=n,r=Boolean(t&&"matchMedia"in t&&typeof t.matchMedia=="function");let a;const o=g(!1),i=()=>{!r||(a||(a=t.matchMedia(e)),o.value=a.matches)};return ml(()=>{i(),a&&("addEventListener"in a?a.addEventListener("change",i):a.addListener(i),Be(()=>{"removeEventListener"in a?a.removeEventListener("change",i):a.removeListener(i)}))}),o}function Jv(e){return qv("(prefers-color-scheme: dark)",e)}var Qv=Object.defineProperty,Bo=Object.getOwnPropertySymbols,Zv=Object.prototype.hasOwnProperty,xv=Object.prototype.propertyIsEnumerable,Ro=(e,n,t)=>n in e?Qv(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,ep=(e,n)=>{for(var t in n||(n={}))Zv.call(n,t)&&Ro(e,t,n[t]);if(Bo)for(var t of Bo(n))xv.call(n,t)&&Ro(e,t,n[t]);return e};function np(e={}){const{selector:n="html",attribute:t="class",window:r=Sn,storage:a,storageKey:o="vueuse-color-scheme",listenToStorageChanges:i=!0,storageRef:l,emitAuto:u}=e,s=ep({auto:"",light:"light",dark:"dark"},e.modes||{}),c=Jv({window:r}),d=G(()=>c.value?"dark":"light"),f=l||(o==null?g("auto"):Gv(o,"auto",a,{window:r,listenToStorageChanges:i})),p=G({get(){return f.value==="auto"&&!u?d.value:f.value},set(C){f.value=C}}),v=Bl("updateHTMLAttrs",(C,O,S)=>{const w=r==null?void 0:r.document.querySelector(C);if(!!w)if(O==="class"){const b=S.split(/\s/g);Object.values(s).flatMap(m=>(m||"").split(/\s/g)).filter(Boolean).forEach(m=>{b.includes(m)?w.classList.add(m):w.classList.remove(m)})}else w.setAttribute(O,S)});function h(C){var O;const S=C==="auto"?d.value:C;v(n,t,(O=s[S])!=null?O:S)}function y(C){e.onChanged?e.onChanged(C,h):h(C)}return q(p,y,{flush:"post",immediate:!0}),Rn(()=>y(p.value)),p}M({name:"UseColorMode",props:["selector","attribute","modes","onChanged","storageKey","storage","emitAuto"],setup(e,{slots:n}){const t=np(e),r=W({mode:t});return()=>{if(n.default)return n.default(r)}}});M({name:"UseDark",props:["selector","attribute","valueDark","valueLight","onChanged","storageKey","storage"],setup(e,{slots:n}){const t=Fd(e),r=W({isDark:t,toggleDark:od(t)});return()=>{if(n.default)return n.default(r)}}});M({name:"UseDeviceMotion",setup(e,{slots:n}){const t=W(Md());return()=>{if(n.default)return n.default(t)}}});M({name:"UseDeviceOrientation",setup(e,{slots:n}){const t=W(Vd());return()=>{if(n.default)return n.default(t)}}});M({name:"UseDevicePixelRatio",setup(e,{slots:n}){const t=W({pixelRatio:Ld()});return()=>{if(n.default)return n.default(t)}}});M({name:"UseDevicesList",props:["onUpdated","requestPermissions","constraints"],setup(e,{slots:n}){const t=W(jd(e));return()=>{if(n.default)return n.default(t)}}});M({name:"UseDocumentVisibility",setup(e,{slots:n}){const t=W({visibility:zd()});return()=>{if(n.default)return n.default(t)}}});var tp=Object.defineProperty,rp=Object.defineProperties,ap=Object.getOwnPropertyDescriptors,Fo=Object.getOwnPropertySymbols,op=Object.prototype.hasOwnProperty,ip=Object.prototype.propertyIsEnumerable,Mo=(e,n,t)=>n in e?tp(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,lp=(e,n)=>{for(var t in n||(n={}))op.call(n,t)&&Mo(e,t,n[t]);if(Fo)for(var t of Fo(n))ip.call(n,t)&&Mo(e,t,n[t]);return e},up=(e,n)=>rp(e,ap(n));M({name:"UseDraggable",props:["storageKey","storageType","initialValue","exact","preventDefault","stopPropagation","pointerTypes","as"],setup(e,{slots:n}){const t=g(),r=e.storageKey?Sl(e.storageKey,x(e.initialValue)||{x:0,y:0},Ne?e.storageType==="session"?sessionStorage:localStorage:void 0):e.initialValue||{x:0,y:0},a=W(Jd(t,up(lp({},e),{initialValue:r})));return()=>{if(n.default)return Ee(e.as||"div",{ref:t,style:`touch-action:none;${a.style}`},n.default(a))}}});M({name:"UseElementBounding",props:["box","as"],setup(e,{slots:n}){const t=g(),r=W(ev(t));return()=>{if(n.default)return Ee(e.as||"div",{ref:t},n.default(r))}}});M({name:"UseElementSize",props:["width","height","box"],setup(e,{slots:n}){const t=g(),r=W(kl(t,{width:e.width,height:e.height},{box:e.box}));return()=>{if(n.default)return Ee(e.as||"div",{ref:t},n.default(r))}}});M({name:"UseElementVisibility",props:["as"],setup(e,{slots:n}){const t=g(),r=W({isVisible:nv(t)});return()=>{if(n.default)return Ee(e.as||"div",{ref:t},n.default(r))}}});M({name:"UseEyeDropper",props:{sRGBHex:String},setup(e,{slots:n}){const t=W(tv());return()=>{if(n.default)return n.default(t)}}});M({name:"UseFullscreen",props:["as"],setup(e,{slots:n}){const t=g(),r=W(rv(t));return()=>{if(n.default)return Ee(e.as||"div",{ref:t},n.default(r))}}});M({name:"UseGeolocation",props:["enableHighAccuracy","maximumAge","timeout","navigator"],setup(e,{slots:n}){const t=W(av(e));return()=>{if(n.default)return n.default(t)}}});M({name:"UseIdle",props:["timeout","events","listenForVisibilityChange","initialState"],setup(e,{slots:n}){const t=W(lv(e.timeout,e));return()=>{if(n.default)return n.default(t)}}});function sp(e,n,t){const{immediate:r=!0,delay:a=0,onError:o=Le,resetOnExecute:i=!0,shallow:l=!0}=t!=null?t:{},u=l?rr(n):g(n),s=g(!1),c=g(!1),d=g(void 0);async function f(p=0,...v){i&&(u.value=n),d.value=void 0,s.value=!1,c.value=!0,p>0&&await Gf(p);const h=typeof e=="function"?e(...v):e;try{const y=await h;u.value=y,s.value=!0}catch(y){d.value=y,o(y)}finally{c.value=!1}return u.value}return r&&f(a),{state:u,isReady:s,isLoading:c,error:d,execute:f}}var cp=Object.defineProperty,Vo=Object.getOwnPropertySymbols,fp=Object.prototype.hasOwnProperty,dp=Object.prototype.propertyIsEnumerable,Ko=(e,n,t)=>n in e?cp(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,vp=(e,n)=>{for(var t in n||(n={}))fp.call(n,t)&&Ko(e,t,n[t]);if(Vo)for(var t of Vo(n))dp.call(n,t)&&Ko(e,t,n[t]);return e};async function pp(e){return new Promise((n,t)=>{const r=new Image,{src:a,srcset:o,sizes:i}=e;r.src=a,o&&(r.srcset=o),i&&(r.sizes=i),r.onload=()=>n(r),r.onerror=t})}const hp=(e,n={})=>{const t=sp(()=>pp(x(e)),void 0,vp({resetOnExecute:!0},n));return q(()=>x(e),()=>t.execute(n.delay),{deep:!0}),t};M({name:"UseImage",props:["src","srcset","sizes","as"],setup(e,{slots:n}){const t=W(hp(e));return()=>t.isLoading&&n.loading?n.loading(t):t.error&&n.error?n.error(t.error):n.default?n.default(t):Ee(e.as||"img",e)}});M({name:"UseMouse",props:["touch","resetOnTouchEnds","initialValue"],setup(e,{slots:n}){const t=W(Tl(e));return()=>{if(n.default)return n.default(t)}}});M({name:"UseMouseElement",props:["handleOutside","as"],setup(e,{slots:n}){const t=g(),r=W(uv(t,e));return()=>{if(n.default)return Ee(e.as||"div",{ref:t},n.default(r))}}});var mp=Object.defineProperty,yp=Object.defineProperties,gp=Object.getOwnPropertyDescriptors,Lo=Object.getOwnPropertySymbols,bp=Object.prototype.hasOwnProperty,wp=Object.prototype.propertyIsEnumerable,No=(e,n,t)=>n in e?mp(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Cp=(e,n)=>{for(var t in n||(n={}))bp.call(n,t)&&No(e,t,n[t]);if(Lo)for(var t of Lo(n))wp.call(n,t)&&No(e,t,n[t]);return e},Op=(e,n)=>yp(e,gp(n));M({name:"UseMousePressed",props:["touch","initialValue","as"],setup(e,{slots:n}){const t=g(),r=W(sv(Op(Cp({},e),{target:t})));return()=>{if(n.default)return Ee(e.as||"div",{ref:t},n.default(r))}}});M({name:"UseNetwork",setup(e,{slots:n}){const t=W($l());return()=>{if(n.default)return n.default(t)}}});var Sp=Object.defineProperty,Pp=Object.defineProperties,Ep=Object.getOwnPropertyDescriptors,jo=Object.getOwnPropertySymbols,kp=Object.prototype.hasOwnProperty,Tp=Object.prototype.propertyIsEnumerable,zo=(e,n,t)=>n in e?Sp(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,$p=(e,n)=>{for(var t in n||(n={}))kp.call(n,t)&&zo(e,t,n[t]);if(jo)for(var t of jo(n))Tp.call(n,t)&&zo(e,t,n[t]);return e},Dp=(e,n)=>Pp(e,Ep(n));M({name:"UseNow",props:["interval"],setup(e,{slots:n}){const t=W(Dl(Dp($p({},e),{controls:!0})));return()=>{if(n.default)return n.default(t)}}});M({name:"UseObjectUrl",props:["object"],setup(e,{slots:n}){const t=di(e,"object"),r=pv(t);return()=>{if(n.default&&r.value)return n.default(r)}}});var Ip=Object.defineProperty,_p=Object.defineProperties,Ap=Object.getOwnPropertyDescriptors,Uo=Object.getOwnPropertySymbols,Bp=Object.prototype.hasOwnProperty,Rp=Object.prototype.propertyIsEnumerable,Wo=(e,n,t)=>n in e?Ip(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Fp=(e,n)=>{for(var t in n||(n={}))Bp.call(n,t)&&Wo(e,t,n[t]);if(Uo)for(var t of Uo(n))Rp.call(n,t)&&Wo(e,t,n[t]);return e},Mp=(e,n)=>_p(e,Ap(n));M({name:"UseOffsetPagination",props:["total","page","pageSize","onPageChange","onPageSizeChange","onPageCountChange"],emits:["page-change","page-size-change","page-count-change"],setup(e,{slots:n,emit:t}){const r=W(hv(Mp(Fp({},e),{onPageChange(...a){var o;(o=e.onPageChange)==null||o.call(e,...a),t("page-change",...a)},onPageSizeChange(...a){var o;(o=e.onPageSizeChange)==null||o.call(e,...a),t("page-size-change",...a)},onPageCountChange(...a){var o;(o=e.onPageCountChange)==null||o.call(e,...a),t("page-count-change",...a)}})));return()=>{if(n.default)return n.default(r)}}});M({name:"UseOnline",setup(e,{slots:n}){const t=W({isOnline:mv()});return()=>{if(n.default)return n.default(t)}}});M({name:"UsePageLeave",setup(e,{slots:n}){const t=W({isLeft:yv()});return()=>{if(n.default)return n.default(t)}}});var Vp=Object.defineProperty,Kp=Object.defineProperties,Lp=Object.getOwnPropertyDescriptors,Yo=Object.getOwnPropertySymbols,Np=Object.prototype.hasOwnProperty,jp=Object.prototype.propertyIsEnumerable,Ho=(e,n,t)=>n in e?Vp(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,zp=(e,n)=>{for(var t in n||(n={}))Np.call(n,t)&&Ho(e,t,n[t]);if(Yo)for(var t of Yo(n))jp.call(n,t)&&Ho(e,t,n[t]);return e},Up=(e,n)=>Kp(e,Lp(n));M({name:"UsePointer",props:["pointerTypes","initialValue","target"],setup(e,{slots:n}){const t=g(null),r=W(kv(Up(zp({},e),{target:e.target==="self"?t:Sn})));return()=>{if(n.default)return n.default(r,{ref:t})}}});M({name:"UsePreferredColorScheme",setup(e,{slots:n}){const t=W({colorScheme:Tv()});return()=>{if(n.default)return n.default(t)}}});M({name:"UsePreferredDark",setup(e,{slots:n}){const t=W({prefersDark:Ia()});return()=>{if(n.default)return n.default(t)}}});M({name:"UsePreferredLanguages",setup(e,{slots:n}){const t=W({languages:$v()});return()=>{if(n.default)return n.default(t)}}});function Ct(e,n,{window:t=Sn,initialValue:r=""}={}){const a=g(r),o=G(()=>{var i;return _a(n)||((i=t==null?void 0:t.document)==null?void 0:i.documentElement)});return q([o,()=>x(e)],([i,l])=>{var u;if(i&&t){const s=(u=t.getComputedStyle(i).getPropertyValue(l))==null?void 0:u.trim();a.value=s||r}},{immediate:!0}),q(a,i=>{var l;(l=o.value)!=null&&l.style&&o.value.style.setProperty(x(e),i)}),a}const Xo="--vueuse-safe-area-top",Go="--vueuse-safe-area-right",qo="--vueuse-safe-area-bottom",Jo="--vueuse-safe-area-left";function Wp(){const e=g(""),n=g(""),t=g(""),r=g("");if(Ne){const o=Ct(Xo),i=Ct(Go),l=Ct(qo),u=Ct(Jo);o.value="env(safe-area-inset-top, 0px)",i.value="env(safe-area-inset-right, 0px)",l.value="env(safe-area-inset-bottom, 0px)",u.value="env(safe-area-inset-left, 0px)",a(),_n("resize",Qf(a))}function a(){e.value=Ot(Xo),n.value=Ot(Go),t.value=Ot(qo),r.value=Ot(Jo)}return{top:e,right:n,bottom:t,left:r,update:a}}function Ot(e){return getComputedStyle(document.documentElement).getPropertyValue(e)}M({name:"UseScreenSafeArea",props:{top:Boolean,right:Boolean,bottom:Boolean,left:Boolean},setup(e,{slots:n}){const{top:t,right:r,bottom:a,left:o}=Wp();return()=>{if(n.default)return Ee("div",{style:{paddingTop:e.top?t.value:"",paddingRight:e.right?r.value:"",paddingBottom:e.bottom?a.value:"",paddingLeft:e.left?o.value:"",boxSizing:"border-box",maxHeight:"100vh",maxWidth:"100vw",overflow:"auto"}},n.default())}}});function Yp(e){const n=e||window.event;return n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)}function Hp(e,n=!1){const t=g(n);let r=null,a;q(()=>x(e),l=>{if(l){const u=l;a=u.style.overflow,t.value&&(u.style.overflow="hidden")}},{immediate:!0});const o=()=>{const l=x(e);!l||t.value||(uo&&(r=_n(l,"touchmove",Yp,{passive:!1})),l.style.overflow="hidden",t.value=!0)},i=()=>{const l=x(e);!l||!t.value||(uo&&(r==null||r()),l.style.overflow=a,t.value=!1)};return Be(i),G({get(){return t.value},set(l){l?o():i()}})}const Xp=()=>{let e=!1;const n=g(!1);return(t,r)=>{if(n.value=r.value,e)return;e=!0;const a=Hp(t,r.value);q(n,o=>a.value=o)}};Xp();var Gp=Object.defineProperty,qp=Object.defineProperties,Jp=Object.getOwnPropertyDescriptors,Qo=Object.getOwnPropertySymbols,Qp=Object.prototype.hasOwnProperty,Zp=Object.prototype.propertyIsEnumerable,Zo=(e,n,t)=>n in e?Gp(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,xp=(e,n)=>{for(var t in n||(n={}))Qp.call(n,t)&&Zo(e,t,n[t]);if(Qo)for(var t of Qo(n))Zp.call(n,t)&&Zo(e,t,n[t]);return e},eh=(e,n)=>qp(e,Jp(n));M({name:"UseTimeAgo",props:["time","updateInterval","max","fullDateFormatter","messages"],setup(e,{slots:n}){const t=di(e,"time"),r=W(Rv(t,eh(xp({},e),{controls:!0})));return()=>{if(n.default)return n.default(r)}}});var nh=Object.defineProperty,th=Object.defineProperties,rh=Object.getOwnPropertyDescriptors,xo=Object.getOwnPropertySymbols,ah=Object.prototype.hasOwnProperty,oh=Object.prototype.propertyIsEnumerable,ei=(e,n,t)=>n in e?nh(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,ih=(e,n)=>{for(var t in n||(n={}))ah.call(n,t)&&ei(e,t,n[t]);if(xo)for(var t of xo(n))oh.call(n,t)&&ei(e,t,n[t]);return e},lh=(e,n)=>th(e,rh(n));M({name:"UseTimestamp",props:["immediate","interval","offset"],setup(e,{slots:n}){const t=W(Lv(lh(ih({},e),{controls:!0})));return()=>{if(n.default)return n.default(t)}}});var uh=Object.defineProperty,ni=Object.getOwnPropertySymbols,sh=Object.prototype.hasOwnProperty,ch=Object.prototype.propertyIsEnumerable,ti=(e,n,t)=>n in e?uh(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,ri=(e,n)=>{for(var t in n||(n={}))sh.call(n,t)&&ti(e,t,n[t]);if(ni)for(var t of ni(n))ch.call(n,t)&&ti(e,t,n[t]);return e};M({name:"UseVirtualList",props:["list","options","height"],setup(e,{slots:n}){const{list:t}=fi(e),{list:r,containerProps:a,wrapperProps:o}=Nv(t,e.options);return a.style.height=e.height||"300px",()=>Ee("div",ri({},a),[Ee("div",ri({},o.value),r.value.map(i=>Ee("div",{style:{overFlow:"hidden",height:i.height}},n.default?n.default(i):"Please set content!")))])}});M({name:"UseWindowFocus",setup(e,{slots:n}){const t=W({focused:jv()});return()=>{if(n.default)return n.default(t)}}});M({name:"UseWindowSize",props:["initialWidth","initialHeight"],setup(e,{slots:n}){const t=W(zv(e));return()=>{if(n.default)return n.default(t)}}});export{rn as C,sr as D,Fe as I,Et as L,kh as O,gh as _,Eh as a,bh as b,mh as c,Ph as d,yh as e,Ch as f,Sh as g,Ar as h,vu as i,ye as j,Si as k,vh as l,bi as m,Ve as n,rt as o,wn as p,Oh as q,wh as r,Qf as s,Re as t,$i as u};
